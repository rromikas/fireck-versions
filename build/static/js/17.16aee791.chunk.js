(this["webpackJsonpfireck-cms"]=this["webpackJsonpfireck-cms"]||[]).push([[17],{1007:function(e){e.exports=JSON.parse('{"name":"react-email-editor","version":"1.4.0","description":"Unlayer\'s Email Editor Component for React.js","main":"lib/index.js","module":"es/index.js","files":["css","es","lib","umd"],"scripts":{"build":"nwb build-react-component","clean":"nwb clean-module && nwb clean-demo","start":"nwb serve-react-demo","test":"nwb test-react","test:coverage":"nwb test-react --coverage","test:watch":"nwb test-react --server","release":"npm run build && npm publish"},"dependencies":{},"peerDependencies":{"react":"15.x || 16.x"},"devDependencies":{"nwb":"^0.22.0","react":"^16.13.1","react-dom":"^16.13.1","react-router-dom":"^5.2.0","styled-components":"^4.2.0"},"author":"","homepage":"https://github.com/unlayer/react-email-editor#readme","license":"MIT","repository":"https://github.com/unlayer/react-email-editor.git","keywords":["react-component"]}')},1008:function(e,t,n){"use strict";var r=n(58);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(74)),c=n(2),i=(0,a.default)((0,c.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.default=i},1009:function(e,t,n){"use strict";var r=n(58);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(74)),c=n(2),i=(0,a.default)((0,c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=i},1034:function(e,t,n){"use strict";n.r(t);var r=n(18),a=n(1),c=n.n(a),i=n(5),o=n(12),s=n(53),l=n(805),d=n(0),u=n.n(d),f=n(31),p=n(2),m=function(e){var t=e.title,n=e.onCreate,r=e.buttonTitle;return Object(p.jsx)("div",{className:"h-96 bg-fireck-3 rounded-md flex w-full p-12",children:Object(p.jsxs)("div",{className:"m-auto",children:[Object(p.jsx)("div",{className:"text-22px mb-5 font-medium text-center text-white",children:t}),Object(p.jsx)(s.a,{"data-testid":"empty-screen-btn",className:"mx-auto bg-fireck-4 hover:bg-fireck-4-hover h-34px block",onClick:n,children:r})]})})},b=n(225),h=n(17),j=n(789),v="//editor.unlayer.com/embed.js?2",x=[],O=!1,g=function(){if(O)for(var e=void 0;e=x.shift();)e()},w=function(e){if(function(e){x.push(e)}(e),function(){var e=document.querySelectorAll("script"),t=!1;return e.forEach((function(e){e.src.includes(v)&&(t=!0)})),t}())g();else{var t=document.createElement("script");t.setAttribute("src",v),t.onload=function(){O=!0,g()},document.head.appendChild(t)}},y=n(1007),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var N=0,E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return r.loadEditor=function(){var e=r.props.options||{};r.props.projectId&&(e.projectId=r.props.projectId),r.props.tools&&(e.tools=r.props.tools),r.props.appearance&&(e.appearance=r.props.appearance),r.props.locale&&(e.locale=r.props.locale),r.editor=unlayer.createEditor(k({},e,{id:r.editorId,displayMode:"email",source:{name:y.name,version:y.version}}));var t=Object.entries(r.props),n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var c;if(n){if(a>=t.length)break;c=t[a++]}else{if((a=t.next()).done)break;c=a.value}var i=c,o=i[0],s=i[1];/^on/.test(o)&&"onLoad"!==o&&"onReady"!==o&&r.addEventListener(o,s)}var l=r.props,d=l.onLoad,u=l.onReady;d&&d(),u&&r.editor.addEventListener("editor:ready",u)},r.registerCallback=function(e,t){r.editor.registerCallback(e,t)},r.addEventListener=function(e,t){r.editor.addEventListener(e,t)},r.loadDesign=function(e){r.editor.loadDesign(e)},r.saveDesign=function(e){r.editor.saveDesign(e)},r.exportHtml=function(e){r.editor.exportHtml(e)},r.setMergeTags=function(e){r.editor.setMergeTags(e)},r.editorId=n.editorId||"editor-"+ ++N,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){w(this.loadEditor)},t.prototype.render=function(){var e=this.props,t=e.minHeight,n=void 0===t?500:t,r=e.style,a=void 0===r?{}:r;return u.a.createElement("div",{style:{flex:1,display:"flex",minHeight:n}},u.a.createElement("div",{id:this.editorId,style:k({},a,{flex:1})}))},t}(d.Component),C=n(103),T=function(e){var t=e.onClose,n=e.onSave,r=e.editTemplate,a=Object(d.useRef)(),c=Object(d.useState)(""),i=Object(o.a)(c,2),l=i[0],u=i[1];Object(d.useEffect)((function(){r&&u(r.name)}),[r]);return Object(p.jsx)(j.a,{open:!0,children:Object(p.jsx)("div",{className:"fixed left-0 top-0 w-full h-full overflow-auto flex p-12",children:Object(p.jsxs)("div",{className:"m-auto bg-white",children:[Object(p.jsxs)("div",{className:"flex justify-between p-4 items-center",children:[Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsx)(C.a,{groundColor:"white",placeholder:"Type name",value:l,onChange:function(e){return u(e.target.value)},className:"mr-3 h-28px"}),Object(p.jsx)(s.a,{className:"bg-fireck-4 hover:bg-fireck-4-hover mr-3 h-28px",onClick:function(e){l?(e.currentTarget.innerHTML="Saving...",a.current&&a.current.editor.saveDesign((function(e){a.current.editor.exportHtml((function(t){n(Object(h.a)(Object(h.a)({},r),{},{template:e||(null===r||void 0===r?void 0:r.template),html:t.html||(null===r||void 0===r?void 0:r.html),name:l})),u("")}))}))):alert("Name is empty")},children:"Save"}),Object(p.jsx)(s.a,{onClick:function(){a.current&&a.current.editor.exportHtml((function(e){var t="data:text/html;charset=utf-8,"+escape(e.html),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",l||"email-template.html"),document.body.appendChild(n),n.click(),n.remove()}))},className:"bg-gray-301 hover:bg-gray-302 h-28px",children:"Download"})]}),Object(p.jsx)(s.a,{className:"bg-fireck-5 hover:bg-fireck-5-hover text-white h-28px",onClick:t,children:"Close"})]}),Object(p.jsx)(E,{onLoad:function(){r&&(a.current&&Object.keys(r.template).length?a.current.editor.loadDesign(r.template):setTimeout((function(){a.current&&Object.keys(r.template).length&&a.current.editor.loadDesign(r.template)}),3e3))},ref:a})]})})})},D=n(808),I=n.n(D),S=n(1008),L=n.n(S),M=n(1009),z=n.n(M),R=n(791),_=function(e){var t=e.html,n=e.name,r=e.windowWidth,a=e.onOpen,c=e.onDelete,i=Object(d.useRef)(),s=Object(d.useState)(0),l=Object(o.a)(s,2),u=l[0],f=l[1];Object(d.useEffect)((function(){var e=i.current.getBoundingClientRect().width;f(e)}),[r]);var m=(u-56)/616;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"w-full pt-110%"}),Object(p.jsxs)("div",{className:"absolute left-0 top-0 w-full h-full flex flex-col rounded-md overflow-hidden",ref:i,children:[Object(p.jsx)("div",{className:"flex-grow h-0 pt-7 px-7 bg-blue-300",children:Object(p.jsx)("iframe",{src:"data:text/html;charset=utf-8,"+escape(t),style:{width:616,height:677,transform:"scale(".concat(m,")")},className:"origin-top-left"})}),Object(p.jsx)("div",{className:"flex-shrink-0 w-full flex items-center justify-center bg-gray-301 h-39px relative text-sm",children:n||"Template name"})]}),Object(p.jsx)("div",{className:"absolute w-full h-full left-0 top-0 z-20 group cursor-pointer",onClick:a,children:Object(p.jsxs)("div",{className:"absolute top-0 left-0 justify-between p-3 w-full z-20 group-hover:opacity-100 opacity-0 transition duration-200 flex",children:[Object(p.jsx)(R.a,{className:"outline-none h-26px w-26px rounded bg-orange-300 hover:bg-orange-301",children:Object(p.jsx)(L.a,{fontSize:"small",onClick:function(e){e.stopPropagation(),a()}})}),Object(p.jsx)(R.a,{className:"outline-none h-26px w-26px rounded bg-orange-300 hover:bg-orange-301",children:Object(p.jsx)(z.a,{fontSize:"small",onClick:function(e){e.stopPropagation(),c()}})})]})})]})},A=function(){var e=Object(d.useState)({width:0,height:0}),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(d.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},H=n(173),P="EmailsTemplatesReservedCollection";t.default=function(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],u=Object(d.useState)(!1),h=Object(o.a)(u,2),j=h[0],v=h[1],x=Object(d.useState)(),O=Object(o.a)(x,2),g=O[0],w=O[1],y=A().width;Object(d.useEffect)((function(){Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.c)({collectionId:P});case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]);var k=Object(f.e)((function(e){return e.collectionTypes.find((function(e){return e.id===P}))})),N=Object(f.d)(),E=function(){v(!1),w(void 0)};return k?Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"flex justify-between flex-wrap mb-7",children:[Object(p.jsx)(l.a,{className:"mb-4 mr-4",children:"Emails"}),Object(p.jsx)(s.a,{onClick:function(){return v(!0)},className:"bg-fireck-4 hover:bg-fireck-4-hover h-34px mb-4 min-w-unset",children:Object(p.jsxs)("div",{className:"flex items-center",children:[Object(p.jsx)(I.a,{className:"mr-3 text-xl"}),Object(p.jsx)("span",{children:"Add template"})]})})]}),n.length?Object(p.jsx)("div",{className:"flex flex-wrap -mx-3",children:n.map((function(e,t){return Object(p.jsx)("div",{className:"lg:w-3/12 md:w-4/12 w-6/12 px-3",children:Object(p.jsx)("div",{className:"w-full relative",children:Object(p.jsx)(_,{onOpen:function(){w(e),v(!0)},onDelete:Object(i.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(H.a)({confirmation:"Do you really want to delete template?"});case 2:if(!n.sent){n.next=5;break}a((function(e){var n=Object(r.a)(e);return n.splice(t,1),n})),Object(b.b)("EmailTemplatesReservedCollection",e.docId);case 5:case"end":return n.stop()}}),n)}))),windowWidth:y,name:e.name,html:e.html})})},"email-template-".concat(t))}))}):Object(p.jsx)(m,{title:"There are no templates",buttonTitle:"Create",onCreate:function(){return v(!0)}}),j?Object(p.jsx)(T,{onSave:function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.docId){e.next=5;break}Object(b.e)("EmailTemplatesReservedCollection",t.docId,t),a((function(e){var n=Object(r.a)(e),a=n.findIndex((function(e){return e.docId===t.docId}));return-1===a?e:(n[a]=t,n)})),e.next=15;break;case 5:return e.prev=5,e.next=8,Object(b.a)("EmailTemplatesReservedCollection",t);case 8:n=e.sent,a((function(e){return[n].concat(Object(r.a)(e))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:E();case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),onClose:E,editTemplate:g}):null]}):Object(p.jsx)("div",{className:"w-full h-full flex",children:Object(p.jsxs)("div",{className:"m-auto",children:[Object(p.jsx)("div",{className:"text-center mb-4 text-28px font-medium text-white",children:"Emails"}),Object(p.jsx)(s.a,{onClick:function(){var e={id:P,name:P,docId:P,isSystem:!0,fields:[{type:"string",id:"name"},{type:"string",id:"html"},{type:"json",id:"template"},{id:"createdAt",type:"date",displayOnTable:!0,isDefault:!0},{id:"modifiedAt",type:"date",displayOnTable:!0,isDefault:!0},{id:"docId",type:"string",displayOnTable:!0,isDefault:!0}]};Object(b.a)(P,e),N({type:"ADD_COLLECTION_TYPE",payload:e})},className:"bg-fireck-4 hover:bg-fireck-4-hover h-34px",children:"Enable"})]})})}},805:function(e,t,n){"use strict";var r=n(17),a=n(172),c=n(102),i=n.n(c),o=n(2),s=["className"];t.a=function(e){var t=e.className,n=Object(a.a)(e,s);return Object(o.jsx)("div",Object(r.a)(Object(r.a)({},n),{},{className:i()("text-27px text-white font-medium capitalize leading-none",t)}))}},808:function(e,t,n){"use strict";var r=n(58),a=n(226);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(0)),i=(0,r(n(227)).default)(c.createElement("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddRounded");t.default=i}}]);
//# sourceMappingURL=17.16aee791.chunk.js.map