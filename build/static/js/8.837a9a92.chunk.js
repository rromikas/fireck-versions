(this["webpackJsonpfireck-cms"]=this["webpackJsonpfireck-cms"]||[]).push([[8,9],{1024:function(e,t,n){"use strict";var r=n(62),a=n(248);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(0)),i=(0,r(n(249)).default)(c.createElement("path",{d:"M12 7c-.55 0-1 .45-1 1v3H8c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V8c0-.55-.45-1-1-1zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutlineRounded");t.default=i},1025:function(e,t,n){"use strict";var r=n(62),a=n(248);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(0)),i=(0,r(n(249)).default)(c.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicatorRounded");t.default=i},1039:function(e,t,n){"use strict";n.r(t);var r=n(19),a=n(1),c=n.n(a),i=n(14),o=n(4),l=n(12),s=n(57),u=n(0),d=n.n(u),f=n(37),b=n(919),j=n.n(b),m=n(920),p=n.n(m),x=n(1040),h=n(115),O=n(52),v=n(99),g=n(191),y=n(192),w=n(189),N=n(2),C=["className","options","value","setValue","disabled","ground"],k=function(e){var t=e.className,n=void 0===t?"":t,r=e.options,a=e.value,c=e.setValue,o=e.disabled,l=e.ground,s=Object(w.a)(e,C);return Object(N.jsx)("div",Object(i.a)(Object(i.a)({className:"flex -mx-2 flex-wrap sm:flex-nowrap mb-10 "+n},s),{},{children:r.map((function(e,t){return Object(N.jsx)("div",{"data-testid":"touple-option-".concat(e.value),onClick:function(){return c(e.value)},className:"sm:w-1/2 w-full mx-2 mb-3 sm:mb-0 py-7 select-none ".concat(o?"cursor-default":"cursor-pointer"," flex items-center justify-center rounded ").concat(a===e.value?"border-4 primaryBorderColor":"input".concat(l,"Background ").concat(o?"":"input".concat(l,"HoverBackground"))),children:Object(N.jsxs)("div",{className:"flex items-center pointer-events-none",children:[Object(N.jsx)("div",{className:e.icon?"mr-7":"",children:e.label}),e.icon?Object(N.jsx)(e.icon,{}):null]})},e.value)}))}))},S=n(193),I=n.n(S),T=n(846),D=n(36);var E=function(e){for(var t,n,r="",a=0;a<e.length;a++)" "===e[a]?r+="-":a>0&&e[a-1].toLowerCase()===e[a-1]&&" "!==e[a-1]&&e[a].toUpperCase()===e[a]&&!((n=e[a])>="0"&&n<="9")&&(1===(t=e[a]).length&&t.match(/[a-z]/i))?r+="-"+e[a].toLowerCase():r+=e[a].toLowerCase();return r},F=function(e){var t=e.open,n=e.onClose,r=e.collections,a=e.editingCollectionDocId,l=e.onCreate,u=e.onUpdate,d=e.onDelete,f={name:"",id:"",single:!1,draftable:!0,fields:[],size:0,isSystem:!1,docId:"",cachedKeys:[]},b=Object(v.b)(),j=a.length&&r.find((function(e){return e.docId===a}))||f,m=Object(y.a)({enableReinitialize:!0,onSubmit:function(){var e=Object(o.a)(c.a.mark((function e(t,r){var o,s,d,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.resetForm,s=E(t.name),!a.length){e.next=8;break}return e.next=5,O.a.updateDocument("CollectionTypesReservedCollection",p.docId,Object(i.a)(Object(i.a)({},p),{},{id:s}));case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,O.a.createCollection(Object(i.a)(Object(i.a)({},p),{},{id:s}));case 10:e.t0=e.sent;case 11:d=e.t0,f=a.length?"updated":"created",d.error?b(d.error,{variant:"error"}):(a.length?u(d):l(d),o(),n(),b("Collection type "+f+"!",{variant:"success"}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),initialValues:j,validate:function(e){var t={};if(e.name){var n=E(e.name),c=r.findIndex((function(e){return e.id===n}));-1!==c&&r[c].docId!==a&&(t.name="There is collection with the same name")}else t.name="Collection name is required";return t}}),p=m.values,w=m.errors,C=m.handleSubmit,S=m.handleChange,F=m.setFieldValue,B=m.isSubmitting,L=m.submitCount;return Object(N.jsx)(x.a,{open:t,hideBackdrop:!0,children:Object(N.jsx)("div",{className:"w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7",children:Object(N.jsxs)("div",{className:"m-auto rounded bg-white w-full p-7 relative animate-littlemoveup",style:{maxWidth:600},children:[Object(N.jsx)(I.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:n}),Object(N.jsxs)("div",{className:"text-22px font-medium mb-12",children:[a.length?"Edit":"Create"," collection type"]}),Object(N.jsxs)("div",{className:"flex flex-wrap mb-7",children:[Object(N.jsxs)("div",{className:"mb-3 sm:w-1/2 w-full sm:pr-2",children:[Object(N.jsx)(T.a,{ground:"Dialog",className:"mb-2",children:"Collection name"}),Object(N.jsx)(h.a,{ground:"Dialog",className:"h-34px","data-testid":"collection-name-input",error:!!(L>0&&w.name)&&w.name,value:p.name,name:"name",onChange:S,onKeyDown:function(e){"Enter"===e.key&&C()}})]}),Object(N.jsxs)("div",{className:"mb-3 sm:w-1/2 w-full sm:pl-2",children:[Object(N.jsx)(T.a,{ground:"Dialog",className:"mb-2",children:"UID"}),Object(N.jsx)(h.a,{className:"h-34px",ground:"Dialog",disabled:!0,value:E(p.name),name:"id"})]})]}),Object(N.jsx)(k,{ground:"Dialog",disabled:a.length>0,value:p.single,options:[{value:!1,label:"Multiple elements"},{value:!0,label:"Single element"}],setValue:function(e){return a?{}:F("single",e)}}),a?Object(N.jsx)(s.a,{"data-testid":"delete-collection-btn",onClick:Object(o.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)({confirmation:"Delete collection type?"});case 2:if(!e.sent){e.next=9;break}return t=a,e.next=6,O.a.deleteDocument(D.a.COLLECTION_TYPES,t);case 6:(r=e.sent).error?b(r.error,{variant:"error"}):(n(),d(t),b("Collection type deleted!",{variant:"success"})),n();case 9:case"end":return e.stop()}}),e)}))),className:"border-2 min-w-unset h-34px px-4 border-red-FF0000 text-red-FF0000 mb-10 hover:bg-red-FF0000 hover:text-white",children:"Delete collection"}):null,Object(N.jsxs)("div",{className:"flex justify-between",children:[Object(N.jsx)(s.a,{onClick:function(){return n()},className:"secondaryBackground ButtonSecondaryTextColor",children:"Cancel"}),Object(N.jsx)(s.a,{"data-testid":"submit-btn",disabled:B,onClick:function(){return C()},className:"primaryBackground ButtonPrimaryTextColor h-34px",children:B?"Loading...":"Submit"})]})]})})})},B=n(855),L=n(885),P=n(1025),z=n.n(P),V=n(871),M=(n(872),n(873),n(874),n(875),n(876),n(877),function(e){var t=e.code;return Object(N.jsx)(V.UnControlled,{value:t,options:{theme:"material",lineNumbers:!0,readOnly:!0,mode:"text/typescript"}})}),H=function(e){return new Array(e).fill(0).reduce((function(e,t){return e+" "}),"")},R=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.length?"{\n".concat(t.reduce((function(t,a){return t+"".concat(H(n)).concat(a.id.includes(" ")||a.id.includes("-")?'"'.concat(a.id,'"'):a.id,": ").concat(e(a,n+r),";\n")}),"")).concat(H(n-r)).concat(a?"}[]":"}"):a?"any[]":"null"},c={password:function(){return"string"},string:function(){return"string"},"rich-text":function(){return"string"},json:function(){return"object"},map:function(){return"object"},array:function(){return"any[]"},media:function(e){return"media"===e.type&&e.mediaSingle?"string":"string[]"},date:function(){return"string"},enum:function(){return"string[]"},number:function(){return"number"},boolean:function(){return"boolean"},relation:function(e){return"relation"===e.type&&e.relationOneToOne?"string":"string[]"},collection:function(e){return a("collection"===e.type?e.collectionFields:[],!0)},document:function(e){return a("document"===e.type?e.documentFields:[])},script:function(){return"object"},"script-V2":function(){return"object"},any:function(){return"any"},"hashed-password":function(){return"string"},color:function(){return"string"}};return"".concat(c[t.type](t))},_=function(e){var t={type:"document",documentFields:e.fields};return"interface Document ".concat(R(t,3))},A=function(e){var t=e.open,n=e.collectionType,r=e.onClose,a=Object(u.useState)(!1),c=Object(l.a)(a,2),i=c[0],o=c[1],d=n?_(n):"";return n?Object(N.jsx)(x.a,{open:t,hideBackdrop:!0,children:Object(N.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-9",onMouseDown:r,children:Object(N.jsxs)("div",{className:"bg-white p-7 m-auto rounded md:max-w-lg max-w-sm w-full relative animate-littlemoveup",onMouseDown:function(e){return e.stopPropagation()},children:[Object(N.jsx)(I.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:r}),Object(N.jsxs)("div",{className:"mb-7 text-22px capitalize font-medium",children:[n.name," interface"]}),Object(N.jsxs)("div",{className:"relative rounded overflow-hidden",children:[Object(N.jsx)(s.a,{onClick:function(){navigator.clipboard.writeText(d),o(!0),setTimeout((function(){o(!1)}),2e3)},className:"absolute min-w-unset z-20 top-1 right-1 text-xs cursor-pointer h-6 px-3 primaryBackground",children:i?"Copied!":"Copy"}),Object(N.jsx)(M,{code:d})]})]})})}):null},U=n(190),J=n(852),Y=n.n(J),W=n(861),Z=n(844),G=function(e){var t=e.proceed,n=e.initialFieldInputType,r=d.a.useState("string"),a=Object(l.a)(r,2),c=a[0],i=a[1];return Object(u.useEffect)((function(){n&&i(n)}),[n]),Object(N.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7",children:Object(N.jsxs)("div",{className:"m-auto rounded bg-white p-7 w-full relative animate-littlemoveup",style:{maxWidth:550},children:[Object(N.jsx)(I.a,{className:"cursor-pointer absolute top-0 right-0",onClick:function(){return t(null)}}),Object(N.jsx)("div",{className:"text-22px font-medium mb-7",children:"Select field type"}),Object(N.jsx)("div",{className:"mb-6",children:Object(N.jsx)("div",{className:"flex flex-wrap",children:B.b.map((function(e,t){return Object(N.jsx)("div",{"data-testid":"fieldtype-option-".concat(e.type),onClick:function(){return i(e.type)},className:"flex md:w-1/3 sm:w-1/2 w-full select-none p-3 border-4 border-solid border-white items-center cursor-pointer rounded  ".concat(c===e.type?"primaryBorderColor":"inputDialogHoverBackground"),children:Object(N.jsxs)("div",{className:"flex items-center pointer-events-none",children:[Object(N.jsx)(e.Badge,{}),Object(N.jsx)("span",{className:"capitalize ml-2 line-clamp-1",children:e.type.replace("-"," ")})]})},"field-type-".concat(t))}))})}),Object(N.jsxs)("div",{className:"flex justify-between",children:[Object(N.jsx)(s.a,{"data-testid":"cancel-field-type-btn",onClick:function(){t(null)},className:"bg-black bg-opacity-10 hover:bg-opacity-20 h-28px px-6 min-w-unset",children:"Cancel"}),Object(N.jsx)(s.a,{"data-testid":"submit-field-type-btn",onClick:function(){t(c)},className:"primaryBackground buttonPrimaryTextColor h-28px px-6 min-w-unset",children:"Submit"})]})]})})},q=n(845),K=n(864),Q=n(865),X=n(1024),$=n.n(X),ee=n(863),te=n(69),ne=n(870),re=["Badge","field","index"],ae=function(e){var t,n,a=e.editableField,u=e.existingFieldNames,b=e.proceed,m=e.fieldType,x=e.zLevel,O=Object(i.a)(Object(i.a)({},{id:"",displayOnTable:!0,isDefault:!1,type:""}),"collection"===m?{collectionFields:[],type:m}:"enum"===m?{enumOptions:[],type:m}:"string"===m?{stringLong:!1,type:m}:"media"===m?{mediaSingle:!1,type:m}:"relation"===m?{relatedCollectionTypeDocId:"",relationOneToOne:!0,type:m,labelField:""}:"document"===m?{documentFields:[],type:m}:{type:m}),v=Object(y.a)({onSubmit:function(e){b(e)},initialValues:a?Object(i.a)(Object(i.a)({},O),a):O,validate:function(e){var t={};return e.id?u&&u.findIndex((function(t){return t===e.id}))>-1&&(t.id="There is field with the same name"):t.id="Field name is required","enum"===e.type&&e.enumOptions.length<2&&(t.enumOptions="Enum requires at least two options"),"relation"===e.type&&""===e.relatedCollectionTypeDocId&&(t.relatedCollectionTypeDocId="Select related collection"),t}}),C=v.values,S=v.errors,D=v.handleChange,E=v.handleSubmit,F=v.setFieldValue,L=v.submitCount,P=d.a.useState(""),z=Object(l.a)(P,2),V=z[0],M=z[1],H=B.b.find((function(e){return e.type===m})),R=Object(f.e)((function(e){return e.collectionTypes})),_=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:"collection"===C.type&&(n=Object(te.d)(C.collectionFields,t.source.index,t.destination.index),F("collectionFields",n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){if(V&&"enum"===C.type){var e=Object(r.a)(C.enumOptions);e.push(V),F("enumOptions",e),M("")}},U=S;return Object(N.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7",children:Object(N.jsxs)("div",{style:{maxWidth:550},className:"m-auto rounded bg-white p-7 w-full relative animate-littlemoveup",children:[Object(N.jsx)(I.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return b(null)}}),Object(N.jsxs)("div",{className:"text-22px font-medium mb-9 flex items-center",children:[H?Object(N.jsx)(H.Badge,{}):null,Object(N.jsxs)("span",{className:"ml-3",children:[a?"Edit":"Add"," ",H?H.type:""," field"]})]}),Object(N.jsxs)("div",{className:"mb-9",children:[Object(N.jsx)("div",{className:"mb-2",children:"Field name"}),Object(N.jsx)(h.a,{ground:"Dialog",className:"h-34px","data-testid":"field-id-input-".concat(x),error:L>0?S.id:"",value:C.id,name:"id",onChange:D,onKeyDown:function(e){"Enter"===e.key&&E()}})]}),"media"===C.type?Object(N.jsx)(k,{ground:"Dialog","data-testid":"media-touple-".concat(x),options:[{value:!1,label:"Multiple media"},{value:!0,label:"Single media"}],value:C.mediaSingle,setValue:function(e){return F("mediaSingle",e)}}):"enum"===C.type?Object(N.jsxs)("div",{className:"mb-10",children:[Object(N.jsx)("div",{className:"mb-2",children:"Options"}),Object(N.jsx)("div",{className:"flex flex-wrap",children:C.enumOptions.map((function(e,t){return Object(N.jsxs)("div",{"data-testid":"enum-option-".concat(e,"-").concat(x),className:"bg-gray-300 rounded flex items-center px-3 h-34px mr-3 mb-3",children:[Object(N.jsx)("div",{className:"mr-4",children:e}),Object(N.jsx)("div",{className:"cursor-pointer text-xs",onClick:function(){var e=Object(r.a)(C.enumOptions);e.splice(t,1),F("enumOptions",e)},children:"\u2715"})]},"enum-option-".concat(t))}))}),Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)(h.a,{ground:"Dialog","data-testid":"enum-option-input-".concat(x),className:"mr-3",error:L>0?null===(t=U.enumOptions)||void 0===t?void 0:t.toString():"",type:"text",value:V,onChange:function(e){return M(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&A()}}),Object(N.jsx)(s.a,{"data-testid":"add-enum-option-btn-".concat(x),onClick:A,className:"bg-fireck-4 hover:bg-fireck-4-hover",children:"Add option"})]})]}):"relation"===C.type?Object(N.jsxs)("div",{className:"mb-10",children:[Object(N.jsxs)("div",{className:"mb-9",children:[Object(N.jsx)(T.a,{ground:"Dialog",error:L>0?U.relatedCollectionTypeDocId:"",className:"mb-2",children:"Related collection"}),Object(N.jsx)(q.a,{className:"h-34px",ground:"Dialog","data-testid":"related-collection-select-".concat(x),options:[{value:"",label:"Select"}].concat(Object(r.a)(R.filter((function(e){return!e.isSystem})).map((function(e){return{label:e.id,value:e.docId}})))),value:C.relatedCollectionTypeDocId,onChange:function(e){return F("relatedCollectionTypeDocId",e.target.value)}})]}),Object(N.jsxs)("div",{className:"mb-9",children:[Object(N.jsx)(T.a,{ground:"Dialog",error:L>0?U.relatedCollectionTypeDocId:"",className:"mb-2",children:"Label field"}),Object(N.jsx)(q.a,{className:"h-34px",ground:"Dialog","data-testid":"label-field-select-".concat(x),options:[{value:"",label:"Select"}].concat(Object(r.a)((null===(n=R.find((function(e){return e.docId===C.relatedCollectionTypeDocId})))||void 0===n?void 0:n.fields.map((function(e){return{value:e.id,label:e.id}})))||[])),value:C.labelField,onChange:function(e){return F("labelField",e.target.value)}})]}),Object(N.jsx)("div",{className:"mb-2",children:"Relation type"}),Object(N.jsx)(k,{ground:"Dialog","data-testid":"relation-multiplicity-touple-".concat(x),value:C.relationOneToOne,setValue:function(e){return F("relationOneToOne",e)},options:[{value:!0,label:"One to one",icon:K.a},{value:!1,label:"One to many",icon:Q.a}]})]}):"string"===C.type?Object(N.jsx)(k,{ground:"Dialog","data-testid":"string-type-touple-".concat(x),value:C.stringLong,setValue:function(e){return F("stringLong",e)},options:[{label:"Short text",value:!1},{label:"Long text",value:!0}]}):"collection"===C.type?Object(N.jsxs)("div",{className:"mb-9",children:[Object(N.jsxs)("div",{className:"flex mb-2",children:[Object(N.jsx)("div",{className:"mr-2",children:"Fields"}),Object(N.jsx)($.a,{"data-testid":"add-field-for-subcollection-btn-".concat(x),className:"cursor-pointer",onClick:Object(o.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce({existingFieldNames:C.collectionFields.map((function(e){return e.id})),zLevel:x+1});case 2:if(t=e.sent,console.log("FINAL FIELD",t),t){e.next=6;break}return e.abrupt("return");case 6:n=[].concat(Object(r.a)(C.collectionFields),[t]),F("collectionFields",n);case 8:case"end":return e.stop()}}),e)})))})]}),Object(N.jsx)(ne.a,{items:C.collectionFields.map((function(e){var t;return{field:e,Badge:null===(t=B.b.find((function(t){return t.type===e.type})))||void 0===t?void 0:t.Badge}})),onDragEnd:_,containerClassName:"max-h-247px overflow-auto",Item:function(e){var t=e.Badge,n=e.field,a=e.index,l=Object(w.a)(e,re);return Object(N.jsx)("div",{className:"pb-2",children:Object(N.jsxs)("div",Object(i.a)(Object(i.a)({className:"rounded bg-gray-300 px-3 py-2 flex items-center"},l),{},{children:[Object(N.jsx)("div",{className:"line-clamp-1 w-5/12 px-3",children:n.id}),Object(N.jsxs)("div",{className:"flex w-4/12 flex-shrink-0 items-center",children:[t?Object(N.jsx)(t,{}):null,Object(N.jsx)("span",{className:"ml-3 hidden sm:block line-clamp-1",children:n.type})]}),Object(N.jsxs)("div",{className:"flex items-center flex-grow justify-end text-base",children:[Object(N.jsx)(ee.a,{className:"mr-1",variant:"transparent",onClick:Object(o.a)(c.a.mark((function e(){var t,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce({zLevel:x+1,editableField:n,existingFieldNames:C.collectionFields.map((function(e){return e.id})).filter((function(e){return e!==n.id}))});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:(i=Object(r.a)(C.collectionFields))[a]=t,F("collectionFields",i);case 8:case"end":return e.stop()}}),e)}))),children:Object(N.jsx)(j.a,{fontSize:"inherit"})}),Object(N.jsx)(ee.a,{variant:"transparent",onClick:Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)({confirmation:"Delete field?"});case 2:e.sent&&((t=Object(r.a)(C.collectionFields)).splice(a,1),F("collectionFields",t));case 4:case"end":return e.stop()}}),e)}))),children:Object(N.jsx)(p.a,{fontSize:"inherit"})})]})]}))})}})]}):null,Object(N.jsxs)("div",{className:"flex justify-between",children:[Object(N.jsx)(s.a,{"data-testid":"cancel-field-details-btn-".concat(x),onClick:function(){return b(a?null:"back")},className:"bg-black bg-opacity-10 hover:bg-opacity-20 min-w-unset h-28px px-6",children:a?"Cancel":"Back"}),Object(N.jsx)(s.a,{"data-testid":"submit-field-details-btn-".concat(x),type:"submit",onClick:function(){return E()},className:"primaryBackground buttonPrimaryTextColor h-28px px-6 min-w-unset",children:"Submit"})]})]})})},ce=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a,i,o,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.editableField,r=t.existingFieldNames,a=t.initialFieldInputType,i=t.zLevel,!n){e.next=5;break}e.t0=n.type,e.next=8;break;case 5:return e.next=7,Object(Z.a)({Component:G,props:a?{initialFieldInputType:a}:{}});case 7:e.t0=e.sent;case 8:if(null!=(o=e.t0)){e.next=11;break}return e.abrupt("return",o);case 11:return l=o,e.next=14,Object(Z.a)({Component:ae,props:{fieldType:l,editableField:n,existingFieldNames:r,zLevel:i}});case 14:if("back"!==(s=e.sent)){e.next=19;break}return e.abrupt("return",ce({editableField:n,existingFieldNames:r,zLevel:i,initialFieldInputType:l}));case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=function(){var e=d.a.useState("true"===new URLSearchParams(window.location.search).get("create")),t=Object(l.a)(e,2),n=t[0],a=t[1],b=Object(f.d)(),m=Object(v.b)(),x=d.a.useState(""),h=Object(l.a)(x,2),y=h[0],w=h[1],C=d.a.useState(""),k=Object(l.a)(C,2),S=k[0],I=k[1],T=d.a.useState(),E=Object(l.a)(T,2),P=E[0],V=E[1],M=Object(f.e)((function(e){return e.collectionTypes.filter((function(e){return!e.isSystem}))}),f.c);Object(u.useEffect)((function(){M.length&&!S&&I(M[0].docId)}),[M]);var H=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=M.find((function(e){return e.docId===S}))){e.next=3;break}return e.abrupt("return");case 3:return r=n.fields[t],e.next=6,ce({editableField:r,zLevel:0,existingFieldNames:n.fields.filter((function(e){return e.id!==r.id})).map((function(e){return e.id}))});case 6:if(!(a=e.sent)){e.next=14;break}return(o=JSON.parse(JSON.stringify(n.fields)))[t]=a,e.next=12,O.a.updateDocument(D.a.COLLECTION_TYPES,n.docId,Object(i.a)(Object(i.a)({},n),{},{fields:o}));case 12:(l=e.sent).error?m(l.error,{variant:"error"}):b({type:"UPDATE_COLLECTION_FIELDS",payload:o,docId:n.docId});case 14:return e.abrupt("return",{success:!1});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(c.a.mark((function e(){var t,n,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=M.find((function(e){return e.docId===S}))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ce({zLevel:0,existingFieldNames:t.fields.map((function(e){return e.id}))});case 5:if(!(n=e.sent)){e.next=12;break}return a=[].concat(Object(r.a)(t.fields),[n]),e.next=10,O.a.updateDocument(D.a.COLLECTION_TYPES,t.docId,Object(i.a)(Object(i.a)({},t),{},{fields:a}));case 10:(o=e.sent).error?m(o.error,{variant:"error"}):(b({type:"UPDATE_COLLECTION_FIELDS",payload:a,docId:t.docId}),m("Field added!",{variant:"success"}));case 12:return e.abrupt("return",{success:!1});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)({confirmation:"Delete field?"});case 2:if(!e.sent){e.next=10;break}return(n=JSON.parse(JSON.stringify(M.find((function(e){return e.docId===S}))))).fields.splice(t,1),e.next=8,O.a.updateDocument(D.a.COLLECTION_TYPES,S,n);case 8:(r=e.sent).error?m(r.error,{variant:"error"}):b({type:"UPDATE_COLLECTION_FIELDS",payload:n.fields,docId:S});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:if(n=M.find((function(e){return e.docId===S}))){e.next=5;break}return e.abrupt("return");case 5:r=Object(te.d)(n.fields,t.source.index,t.destination.index),b({type:"UPDATE_COLLECTION_FIELDS",payload:r,docId:n.docId}),O.a.updateDocument(D.a.COLLECTION_TYPES,n.docId,Object(i.a)(Object(i.a)({},n),{},{fields:r}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(W.a,{entityContent:Object(N.jsx)("div",{className:"h-full bg-white rounded overflow-hidden",children:Object(N.jsx)(L.a,{onDragEnd:J,children:Object(N.jsx)(L.c,{droppableId:"droppable",children:function(e,t){var n;return Object(N.jsx)(U.a,{className:"overflow-auto w-full h-full tableGroundContainerScrollbar py-0.5",autoHide:!1,children:Object(N.jsxs)("div",Object(i.a)(Object(i.a)({className:"min-w-430px"},e.droppableProps),{},{ref:e.innerRef,children:[null===(n=M.find((function(e){return e.docId===S})))||void 0===n?void 0:n.fields.map((function(e,t){var n,r=null===(n=B.b.find((function(t){return t.type===e.type})))||void 0===n?void 0:n.Badge;return Object(N.jsx)(L.b,{draggableId:e.id,index:t,children:function(n,a){return Object(N.jsxs)("div",Object(i.a)(Object(i.a)({onClick:function(){return H(t)},"data-testid":"field-id-".concat(e.id),className:"bg-white flex items-center tableGroundContainerRowHoverBackground pl-2 pr-3 py-0.5 cursor-pointer",ref:n.innerRef},n.draggableProps),{},{children:[Object(N.jsx)("div",Object(i.a)(Object(i.a)({onClick:function(e){return e.stopPropagation()}},n.dragHandleProps),{},{children:Object(N.jsx)(z.a,{fontSize:"inherit",className:"text-lg"})})),Object(N.jsx)("div",{className:"line-clamp-1 w-5/12 px-3",children:e.id}),Object(N.jsxs)("div",{className:"flex w-4/12 flex-shrink-0 items-center",children:[r?Object(N.jsx)(r,{}):null,Object(N.jsx)("span",{className:"ml-3 hidden sm:block line-clamp-1",children:e.type})]}),e.isDefault?null:Object(N.jsxs)("div",{className:"flex items-center flex-grow justify-end",onClick:function(e){return e.stopPropagation()},children:[Object(N.jsx)("div",{"data-testid":"edit-for-field-".concat(e.id),className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-white",onClick:function(){H(t)},children:Object(N.jsx)(j.a,{fontSize:"inherit",classes:{root:"pointer-events-none text-lg"}})}),Object(N.jsx)("div",{className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white","data-testid":"delete-for-field-".concat(e.id),onClick:function(){return _(t)},children:Object(N.jsx)(p.a,{classes:{root:"pointer-events-none text-lg"},fontSize:"inherit"})})]})]}),"field-".concat(t))}},e.id)})),e.placeholder]}))})}})})}),selectedEntityId:S,entity:"collection",enitityPlural:"collections",entities:M,onSelectEntity:function(e){return I(e)},onAddEntity:function(){return a(!0)},onInvokeEntityEdit:function(){w(S),a(!0)},entityButtons:Object(N.jsxs)("div",{className:"flex flex-wrap",children:[Object(N.jsx)(s.a,{"data-testid":"view-interface-btn",onClick:function(){return V(M.find((function(e){return e.docId===S})))},className:"secondaryBackground buttonSecondaryTextColor hover:bg-opacity-15 h-28px mr-3 mb-3 px-5 min-w-unset rounded",children:Object(N.jsx)("div",{className:"flex items-center pointer-events-none",children:"Interface"})}),Object(N.jsx)(s.a,{"data-testid":"add-new-field-btn",onClick:Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R();case 1:case"end":return e.stop()}}),e)}))),className:"primaryBackground buttonPrimaryTextColor mb-3 h-28px pl-3 min-w-unset rounded",children:Object(N.jsxs)("div",{className:"flex items-center pointer-events-none",children:[Object(N.jsx)(Y.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(N.jsx)("span",{children:"Add field"})]})})]})}),Object(N.jsx)(F,{editingCollectionDocId:y,collections:M,onCreate:function(e){b({type:"ADD_COLLECTION_TYPE",payload:e}),I(e.docId)},onUpdate:function(e){b({type:"UPDATE_COLLECTION_TYPE",payload:e,docId:e.docId})},onDelete:function(e){I(""),w(""),b({type:"DELETE_COLLECTION_TYPE",payload:e})},open:n,onClose:function(){a(!1),w("")}}),Object(N.jsx)(A,{onClose:function(){return V(void 0)},open:!!P,collectionType:P})]})}},844:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(14),a=n(34),c=n.n(a),i=(n(0),n(37)),o=n(33),l=n(99),s=n(250),u=n(65),d=n(2);function f(e){var t=e.Component,n=e.props;return new Promise((function(e,a){var f,b,j=null===(f=document.getElementById("root"))||void 0===f||null===(b=f.parentNode)||void 0===b?void 0:b.appendChild(document.createElement("div"));j&&c.a.render(Object(d.jsx)(i.a,{store:o.a,children:Object(d.jsx)(l.a,{children:Object(d.jsx)(s.QueryClientProvider,{client:u.queryClient,children:Object(d.jsx)(t,Object(r.a)(Object(r.a)({},n),{},{proceed:function(t){var n;c.a.unmountComponentAtNode(j),null===(n=j.parentNode)||void 0===n||n.removeChild(j),e(t)}}))})})}),j)}))}},845:function(e,t,n){"use strict";var r=n(5),a=n(189),c=n(14),i=n(857),o=n(788),l=n(0),s=n.n(l),u=n(114),d=n.n(u),f=n(2),b=["className","options","error","ground"],j=s.a.forwardRef((function(e,t){return Object(f.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{ref:t,children:Object(f.jsx)(i.a,{className:"text-red-FF0000",size:20})}))})),m=function(e){var t=e.className,n=void 0===t?"":t,i=e.options,l=e.error,s=e.ground,u=Object(a.a)(e,b),m="input".concat(s,"TextColor input").concat(s,"HoverBackground input").concat(s,"FocusedTextColor input").concat(s,"FocusedBackground input").concat(s,"FocusedBorderColor input").concat(s,"Background");return Object(f.jsxs)("div",{className:"".concat(n," relative flex items-center"),children:[Object(f.jsx)("select",Object(c.a)(Object(c.a)({className:d()("px-3 h-full border-2 border-solid w-full rounded outline-none",Object(r.a)({"border-red-FF0000":l},m,!l))},u),{},{spellCheck:!1,children:i.map((function(e,t){return Object(f.jsx)("option",{"data-testid":"select-option-".concat(e.value),value:e.value,children:e.label},"opt-"+t)}))})),l?Object(f.jsx)(o.a,{title:l,placement:"top",children:Object(f.jsx)(j,{className:"absolute right-2 my-auto w-auto"})}):null]})};t.a=Object(l.memo)(m)},846:function(e,t,n){"use strict";var r=n(14),a=n(0),c=n.n(a),i=n(326),o=n.n(i),l=n(788),s=n(114),u=n.n(s),d=n(2),f=c.a.forwardRef((function(e,t){return Object(d.jsx)("div",Object(r.a)(Object(r.a)({},e),{},{ref:t,children:Object(d.jsx)(o.a,{className:"text-red-500 text-xl",fontSize:"inherit"})}))}));t.a=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,a=e.error,c=e.ground;return Object(d.jsxs)("div",{className:u()("flex justify-between relative ".concat(n),"".concat(c.toLowerCase(),"TextColor")),children:[Object(d.jsx)("div",{children:r}),a?Object(d.jsx)(l.a,{title:a,placement:"top",classes:{tooltip:"bg-red-500",tooltipArrow:"bg-red-500"},children:Object(d.jsx)(f,{className:"absolute right-2 my-auto w-auto"})}):null]})}},847:function(e,t,n){"use strict";var r=n(19),a=n(1),c=n.n(a),i=n(4),o=n(12),l=n(849),s=n(0),u=n.n(s),d=n(854),f=n.n(d),b=n(35),j=n(191),m=n(848),p=n(57),x=n(190),h=n(114),O=n.n(h),v=n(14),g=n(99),y=(n(844),n(2)),w=n(250),N=n(52),C=function(e){var t=e.collectionId,n=e.filters,a=void 0===n?[]:n,c=e.orderBy,i=e.inView,o=(Object(g.b)(),Object(s.useCallback)((function(){var e={collectionId:t,where:"",orderBy:""};return a.forEach((function(t,n){e.where+=(n>0?";":"")+t.fieldId+","+t.operator+","+t.value,c&&c.fieldId!==t.fieldId&&(e.orderBy+=(e.orderBy?";":"")+t.fieldId)})),c&&(e.orderBy+=(e.orderBy?";":"")+"".concat(c.fieldId,",").concat(c.direction)),c||a.length||(e.orderBy="createdAt,asc"),e.populateRef=!1,e}),[c,a,t])),l=Object(w.useInfiniteQuery)([t,c,a],(function(e){var t=e.pageParam;return N.a.getCollection(Object(v.a)(Object(v.a)({},o()),{},{startAfter:t}))}),{keepPreviousData:!0,getNextPageParam:function(e,t){var n=(null===e||void 0===e?void 0:e.length)&&10===e.length?e[9]:null;return n?n[c?c.fieldId:"createdAt"]:void 0}}),u=l.data,d=(l.error,l.fetchNextPage),f=l.hasNextPage;return Object(s.useEffect)((function(){i&&f&&d()}),[i,d,f]),{docs:(null===u||void 0===u?void 0:u.pages.reduce((function(e,t){return[].concat(Object(r.a)(e),Object(r.a)(t))}),[]))||[]}},k=n(324),S=n(1028),I=n(853),T=n.n(I),D=n(251),E=n(69);t.a=function(e){var t=e.collectionType,n=e.onPick,a=e.blackList,d=void 0===a?[]:a,h=e.singleSelect,v=void 0!==h&&h,g=e.valueFormatters,w=e.ground,N=e.filters,I=void 0===N?[]:N,F=e.onEdit,B=e.hideFilters,L=void 0!==B&&B,P=Object(b.k)(),z=u.a.useState([]),V=Object(o.a)(z,2),M=V[0],H=V[1],R=t.fields.filter((function(e){return e.displayOnTable})),_=u.a.useState([]),A=Object(o.a)(_,2),U=A[0],J=A[1],Y=u.a.useState(),W=Object(o.a)(Y,2),Z=W[0],G=W[1],q=u.a.useState(!1),K=Object(o.a)(q,2),Q=K[0],X=K[1],$=C({collectionId:t.id,filters:M,orderBy:Z,inView:Q}).docs,ee=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)({confirmation:"Delete ".concat(U.length," documents?")});case 2:if(!e.sent){e.next=5;break}D.a.deleteMultipleDocuments(t.id,$.filter((function(e){return U.includes(e.docId)}))),J([]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=F||function(e){P.push("/collections/".concat(t.id,"/edit/").concat(e.docId))},ne=function(e){return(null===Z||void 0===Z?void 0:Z.fieldId)!==e.id?function(){G({fieldId:e.id,direction:"asc"})}:"asc"!==(null===Z||void 0===Z?void 0:Z.direction)?function(){return G(void 0)}:function(){return G({fieldId:e.id,direction:"desc"})}},re=function(e,t){J(t?v?[e]:function(t){return[].concat(Object(r.a)(t),[e])}:function(t){var n=Object(r.a)(t),a=n.findIndex((function(t){return t===e}));return null!=a&&n.splice(a,1),n})},ae=function(e,t){return"date"===e.type?T()(t).format("YYYY-MM-DD HH:mm"):g&&e.id in g?g[e.id](t):t.toString().substring(0,40)};return Object(s.useEffect)((function(){I.length&&H((function(e){return[].concat(Object(r.a)(e),Object(r.a)(I))}))}),[I]),Object(y.jsxs)("div",{className:"h-full w-full flex-col flex",children:[Object(y.jsxs)("div",{className:"flex justify-between mb-3",children:[L?null:Object(y.jsxs)("div",{className:"flex flex-wrap",children:[Object(y.jsx)(m.a,{ground:w,collectionType:t,onValue:function(e){return H((function(t){return[e].concat(Object(r.a)(t))}))}}),M.map((function(e,t){return e.hidden?null:Object(y.jsxs)("div",{className:O()("rounded min-h-28px border leading-28px pl-3 text-sm pr-3 flex mr-3 mb-3 relative","".concat(Object(E.e)(w),"TextColor ").concat(Object(E.e)(w),"BorderColor")),children:[e.fieldId," ",e.operator," ",e.value," ",Object(y.jsx)("span",{onClick:function(){return H((function(e){var n=Object(r.a)(e);return n.splice(t,1),n}))},className:"text-xs leading-28px ml-3 cursor-pointer",children:"\u2715"})]},"f-".concat(t))}))]}),n?Object(y.jsx)(p.a,{onClick:function(){return n($.filter((function(e){return U.includes(e.docId)})))},className:"h-28px min-w-unset rounded mb-3 px-7 ".concat(0===U.length?"buttonDisabledBackground buttonDisabledTextColor cursor-default":"primaryBackground buttonPrimaryTextColor"," "),children:"Select"}):Object(y.jsx)(p.a,{onClick:ee,disabled:0===U.length,className:"px-7 mb-3 min-w-unset rounded h-28px ".concat(0===U.length?"buttonDisabledBackground buttonDisabledTextColor cursor-default":"dangerBackground buttonDangerTextColor"," "),children:"Delete"})]}),Object(y.jsx)("div",{className:O()("flex-grow h-0 -mt-3 rounded overflow-hidden bg-white"),children:Object(y.jsxs)(x.a,{className:"relative table".concat(w,"Scrollbar h-full"),children:[Object(y.jsxs)("table",{className:"w-full text-center",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"whitespace-nowrap",children:[Object(y.jsx)("th",{className:"sticky top-0 table".concat(w,"HeaderBackground z-10 px-1"),children:v?null:Object(y.jsx)(S.a,{size:"small",classes:{checked:"tableCheckboxTextColor",root:"p-0"},checked:U.length===$.length,onChange:function(e){return t=e.target.checked,J(t?$.map((function(e){return e.docId})):[]);var t}})}),R.map((function(e,t){return Object(y.jsx)("th",{className:"font-medium sticky top-0 table".concat(w,"HeaderBackground"),children:Object(y.jsxs)("div",{className:"flex items-center justify-center",children:[Object(y.jsx)("div",{className:"w-5"}),Object(y.jsx)("div",{className:"cursor-pointer select-none",onClick:ne(e),children:e.id}),Object(y.jsx)("div",{className:"w-5",children:(null===Z||void 0===Z?void 0:Z.fieldId)===e.id?Object(y.jsx)(f.a,{fontSize:"small",className:"".concat("asc"===(null===Z||void 0===Z?void 0:Z.direction)?"transform rotate-180":"")}):null})]})},"th-".concat(t))}))]})}),Object(y.jsxs)("tbody",{children:[$.map((function(e,t){return d.includes(e.docId)?null:Object(y.jsxs)("tr",{onClick:function(){return n?re(e.docId,!U.includes(e.docId)):te(e)},className:"cursor-pointer table".concat(w,"RowHoverTextColor table").concat(w,"RowHoverBackground"),children:[Object(y.jsx)("td",{className:"px-1",onClick:function(e){return e.stopPropagation()},children:Object(y.jsx)(S.a,{size:"small",classes:{checked:"tableCheckboxTextColor",root:"p-0"},checked:U.includes(e.docId),onChange:function(t){return re(e.docId,t.target.checked)}})}),R.map((function(n,r){return Object(y.jsx)("td",{className:"px-2",children:null!=e[n.id]?"media"===n.type?n.mediaSingle?Object(y.jsx)(l.a,{file:e[n.id]}):Object(y.jsx)(l.a,{files:e[n.id]}):Object(y.jsx)("div",{className:"whitespace-nowrap",children:ae(n,e[n.id])}):null},"row-".concat(t,"-col-").concat(r))}))]},"row-".concat(t))})),Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:R.length+1,children:Object(y.jsx)(k.a,{onChange:function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(y.jsx)("div",{className:"w-full"})})})})]})]}),Object(y.jsx)("div",{})]})})]})}},848:function(e,t,n){"use strict";var r=n(19),a=n(1),c=n.n(a),i=n(4),o=n(12),l=n(837),s=n(115),u=n(845),d=n(57),f=n(0),b=n.n(f),j=n(192),m=n(846),p=n(322),x=n.n(p),h=n(2);t.a=function(e){var t=e.collectionType,n=e.onValue,a=(e.ground,b.a.useState(!1)),f=Object(o.a)(a,2),p=f[0],O=f[1],v=Object(j.a)({onSubmit:function(){var e=Object(i.a)(c.a.mark((function e(t,r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.resetForm,n(t),O(!1),a();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),initialValues:{value:"",operator:"",fieldId:""},validate:function(e){var t={};return Object.keys(e).forEach((function(n){e[n]||(t[n]="Required")})),t}}),g=v.values,y=v.errors,w=v.handleChange,N=v.submitCount,C=v.handleSubmit,k=v.isSubmitting;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{onClick:function(){return O(!0)},className:"secondaryBackground buttonSecondaryTextColor min-w-unset flex items-center justify-center h-28px px-7 rounded text-sm mr-3 mb-3",children:"Filters"}),p?Object(h.jsx)(l.a,{open:p,children:Object(h.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex p-7",onMouseDown:function(){return O(!1)},children:Object(h.jsxs)("div",{onMouseDown:function(e){return e.stopPropagation()},className:"bg-white rounded p-7 m-auto relative animate-littlemoveup",style:{maxWidth:600},children:[Object(h.jsx)(x.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return O(!1)}}),Object(h.jsxs)("div",{className:"flex flex-wrap -mx-2 mb-4",children:[Object(h.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(h.jsx)(m.a,{ground:"Dialog",className:"mb-2",error:N>0?y.fieldId:null,children:"Field"}),Object(h.jsx)(u.a,{className:"h-34px",ground:"Dialog",name:"fieldId",onChange:w,value:g.fieldId,options:[{value:"",label:"Select"}].concat(Object(r.a)(t.fields.map((function(e){return{value:e.id,label:e.id}}))))})]}),Object(h.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(h.jsx)(m.a,{ground:"Dialog",className:"mb-2",error:N>0?y.operator:null,children:"Operator"}),Object(h.jsx)(u.a,{className:"h-34px",ground:"Dialog",name:"operator",onChange:w,value:g.operator,options:[{value:"",label:"Select"}].concat(Object(r.a)(["<","<=","==",">",">=","!=","array-contains","array-contains-any","in","not-in"].map((function(e){return{value:e,label:e}}))))})]}),Object(h.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(h.jsx)(m.a,{ground:"Dialog",className:"mb-2 text-black",error:N>0?y.value:null,children:"Value"}),Object(h.jsx)(s.a,{onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),C())},ground:"Dialog",placeholder:["in","not in","array-contains-any"].includes(g.operator)?"value, value, value":"value",className:"placeholder-black h-34px",value:g.value,onChange:w,name:"value"})]})]}),Object(h.jsx)("div",{className:"flex justify-end",children:Object(h.jsx)(d.a,{disabled:k,onClick:function(){return C()},className:"primaryBackground buttonPrimaryTextColor h-28px min-w-unset px-8",children:"Add"})})]})})}):null]})}},849:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(14),i=n(2),o=Object(r.forwardRef)((function(e,t){return Object(i.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),l=n(788),s=function(e){var t=e.src;return Object(i.jsx)(l.a,{arrow:!0,title:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsx)("img",{src:t,className:"max-w-136px max-h-136px w-auto h-auto",alt:""})}),placement:"top",classes:{tooltip:"font-poppins text-xs p-0 rounded bg-white shadow-md",arrow:"text-white"},children:Object(i.jsx)(o,{children:Object(i.jsx)("div",{onClick:function(e){e.stopPropagation(),window.open(t,"_blank")},className:"group w-4 h-4 relative flex items-center justify-center rounded hover:bg-gray-535371 hover:bg-opacity-5 cursor-pointer",children:Object(i.jsx)("div",{className:"relative w-4 h-4 rounded-full bg-center bg-cover pointer-events-none",style:{backgroundImage:"url(".concat(t,")")}})})})})};t.a=function(e){var t=e.files,n=e.file,r=a.a.useRef(Math.random());return Object(i.jsxs)("div",{className:"flex justify-center",children:[(t||(n?[n]:[])).slice(0,4).map((function(e,t){return Object(i.jsx)("div",{className:"mr-0.5",children:Object(i.jsx)(s,{src:e})},"".concat(r,"-file-").concat(t))})),t&&t.length>4?Object(i.jsx)("div",{className:"relative",children:Object(i.jsxs)("div",{className:"w-4 h-4 rounded-full bg-fireck-4 text-10px flex items-center justify-center",children:[t.length-4,"+"]})}):null]})}},855:function(e,t,n){"use strict";n.d(t,"a",(function(){return cn}));var r,a=n(14),c=n(2),i=function(e){return Object(c.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{className:"w-8 rounded h-5 primaryBackground text-center flex justify-center items-center text-10px font-medium"}))},o=function(){return Object(c.jsx)(i,{children:"Ab"})},l=function(){return Object(c.jsx)(i,{children:"123"})},s=function(){return Object(c.jsx)(i,{children:"{ }"})},u=function(){return Object(c.jsx)(i,{children:"[ ]"})},d=n(888),f=n.n(d),b=function(){return Object(c.jsx)(i,{children:Object(c.jsx)(f.a,{fontSize:"inherit",className:"text-lg"})})},j=n(889),m=n.n(j),p=function(){return Object(c.jsx)(i,{children:Object(c.jsx)(m.a,{fontSize:"inherit",className:"text-sm"})})},x=n(890),h=n.n(x),O=function(){return Object(c.jsx)(i,{children:Object(c.jsx)(h.a,{fontSize:"inherit",className:"text-base"})})},v=n(891),g=n.n(v),y=function(){return Object(c.jsx)(i,{children:Object(c.jsx)(g.a,{fontSize:"inherit",className:"text-base"})})},w=function(){return Object(c.jsx)(i,{children:Object(c.jsx)("span",{className:"text-10px",children:"JSON"})})},N=n(892),C=n.n(N),k=function(){return Object(c.jsx)(i,{children:Object(c.jsx)(C.a,{fontSize:"inherit",className:"text-xl"})})},S=n(893),I=n.n(S),T=function(){return Object(c.jsx)(i,{children:Object(c.jsx)(I.a,{fontSize:"inherit",className:"text-base"})})},D=n(894),E=n.n(D),F=function(){return Object(c.jsx)(i,{children:Object(c.jsx)(E.a,{fontSize:"inherit",className:"text-lg"})})},B=n(0),L=n.n(B),P=["title","titleId"];function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function M(e,t){var n=e.title,a=e.titleId,c=V(e,P);return B.createElement("svg",z({width:11,height:11,viewBox:"0 0 19 19",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?B.createElement("title",{id:a},n):null,r||(r=B.createElement("path",{d:"M0.570312 0.778809H6.57031V4.77881H0.570312V0.778809ZM12.5703 7.77881H18.5703V11.7788H12.5703V7.77881ZM12.5703 14.7788H18.5703V18.7788H12.5703V14.7788ZM10.5703 10.7788H4.57031V15.7788H10.5703V17.7788H4.57031H2.57031V6.77881H4.57031V8.77881H10.5703V10.7788Z",fill:"currentColor"})))}var H=B.forwardRef(M),R=(n.p,function(){return Object(c.jsx)(i,{children:Object(c.jsx)(H,{className:"m-auto"})})}),_=n(895),A=n.n(_),U=function(){return Object(c.jsx)(i,{children:Object(c.jsx)(A.a,{fontSize:"inherit",className:"text-base"})})},J=n(115),Y=n(189),W=n(114),Z=n.n(W),G=["className","ground"],q=function(e){var t=e.className,n=void 0===t?"":t,r=e.ground,i=Object(Y.a)(e,G);return Object(c.jsx)("textarea",Object(a.a)(Object(a.a)({},i),{},{className:Z()("border-2 rounded px-3 py-2 w-full min-h-208px outline-none",n,"input".concat(r,"Background input").concat(r,"HoverBackground input").concat(r,"HoverTextColor input").concat(r,"FocusedBorderColor input").concat(r,"FocusedBackground input").concat(r,"FocusedTextColor"))}))},K=Object(B.memo)(q),Q=function(e){var t=e.field,n=e.ground,r=e.value,a=e.onValue,i=e.name;return t.stringLong?Object(c.jsx)(K,{ground:n,value:r,onChange:function(e){return a(e.target.value)},name:i}):Object(c.jsx)(J.a,{ground:n,className:"h-28px",type:"text",value:r,name:i,onChange:function(e){return a(e.target.value)}})},X=n(12),$=n(871);n(872),n(873),n(874),n(875),n(876),n(877);n(896);var ee=n(897);window.jsonlint=ee;var te,ne,re=function(e){var t=e.value,n=e.onChange,r=Object(B.useState)(),a=Object(X.a)(r,2),i=a[0],o=a[1];return Object(B.useEffect)((function(){if(!i&&t){var e;try{e=JSON.stringify(t)}catch(n){e=t.toString()}console.log("str and val",e,t),o(e)}}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("style",{children:".CodeMirror{\n          height: 100% !important;\n      }"}),Object(c.jsx)($.UnControlled,{value:i,className:"rounded overflow-auto h-208px",options:{mode:"application/json",theme:"material",lineNumbers:!0,autoCloseBrackets:!0,lint:!0,gutters:["CodeMirror-lint-markers"]},onChange:function(e,t,r){var a;try{a=JSON.parse(r)}catch(c){a=r}n(a)}})]})},ae=Object(B.memo)(re),ce=function(e){var t=e.value,n=e.onValue;return Object(c.jsx)(ae,{value:t,onChange:n})},ie=function(e){var t=e.value,n=e.onValue,r=e.ground,a=e.name;return Object(c.jsx)(J.a,{ground:r,className:"h-28px",type:"number",name:a,onChange:function(e){return n(e.target.value)},value:t})},oe=function(e){var t=e.value,n=e.onChange,r=e.ground;return Object(c.jsx)("div",{onClick:function(){return n(!t)},className:"h-28px w-16 relative transition-all flex items-center rounded-full cursor-pointer ".concat(t?"primaryBackground ":"input".concat(r,"Background")),children:Object(c.jsx)("div",{className:"p-1",children:Object(c.jsx)("div",{className:"w-6 h-6 relative rounded-full bg-white transition transform ".concat(t?"translate-x-8":"tenslate-x-0")})})})},le=Object(B.memo)(oe),se=function(e){var t=e.value,n=e.onValue,r=e.ground;return Object(c.jsx)(le,{ground:r,value:t,onChange:function(e){return n(e)}})},ue=function(e){var t=e.value,n=e.onValue,r=e.ground,a=e.name;return Object(c.jsx)(J.a,{ground:r,className:"h-28px",type:"date",name:a,onChange:function(e){return n(e.target.value)},value:t})},de=n(1),fe=n.n(de),be=n(19),je=n(4),me=n(902),pe=n.n(me),xe=n(903),he=n.n(xe),Oe=n(858),ve=n.n(Oe),ge=n(901),ye=n.n(ge),we=n(838),Ne=n(844),Ce=n(27),ke=n(52),Se=n(57),Ie=n(898),Te=n.n(Ie),De=n(324),Ee=n(37),Fe=n(847),Be=n(862),Le=n(322),Pe=n.n(Le),ze=function(e){var t=e.multiple,n=void 0!==t&&t,r=e.proceed,a=L.a.useRef(null),i=L.a.useRef(null),o=L.a.useState(!1),l=Object(X.a)(o,2),s=(l[0],l[1]),u=L.a.useState(!1),d=Object(X.a)(u,2),f=d[0],b=d[1],j=L.a.useState(0),m=Object(X.a)(j,2),p=m[0],x=m[1],h=Object(Ee.e)((function(e){return{collectionType:e.collectionTypes.find((function(e){return"FilesReservedCollection"===e.id}))}})).collectionType;return Object(c.jsx)("div",{className:"fixed z-30 left-0 top-0 w-full h-full flex overflow-auto dialogOuterBackground",children:Object(c.jsxs)("div",{className:"m-auto p-8 rounded dialogBackground dialogTextColor max-w-846px w-full max-h-552px h-full relative flex-col flex animate-littlemoveup",children:[f?null:Object(c.jsx)(we.a,{className:"z-30 absolute shadow-2xl outline-none right-6 bottom-3 w-34px h-34px rounded flex cursor-pointer text-black bg-orange-300 hover:bg-orange-301 items-center justify-center",onClick:function(){return i.current.scrollIntoView({behavior:"smooth"})},children:Object(c.jsx)(Te.a,{})}),Object(c.jsx)(Pe.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return r(!1)}}),Object(c.jsx)(De.a,{onChange:function(e){return b(e)},children:Object(c.jsx)("div",{ref:i})}),Object(c.jsxs)("div",{className:"flex justify-between flex-wrap mb-7",children:[Object(c.jsx)("div",{className:"font-medium text-2xl leading-none mb-4 mr-4",children:"Select file"}),Object(c.jsx)("input",{type:"file",multiple:!0,className:"hidden",ref:a,onChange:function(){var e=Object(je.a)(fe.a.mark((function e(t){var n,r,a,c,i;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files)||!n.length){e.next=26;break}s("Uploading ".concat(n.length," file").concat(n.length>1?"s":"","...")),r=0,a=Object(Ce.a)(n),e.prev=5,a.s();case 7:if((c=a.n()).done){e.next=16;break}return i=c.value,e.next=11,ke.a.uploadFile(i);case 11:e.sent,r++,s("".concat(r,"/").concat(n.length," uploaded."));case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:x((function(e){return e+1})),s(!1);case 26:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})));return function(t){return e.apply(this,arguments)}}()}),Object(c.jsx)(Se.a,{onClick:function(){return a.current.click()},className:"primaryBackground buttonPrimaryTextColor h-28px mb-4 min-w-unset pl-2.5",children:Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)(ve.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(c.jsx)("span",{children:"Upload"})]})})]}),Object(c.jsx)("div",{className:"flex-grow h-0",children:h?Object(c.jsx)(Fe.a,{ground:"Dialog",onPick:function(e){r(n?e.map((function(e){return e.url})):e[0].url)},singleSelect:!n,collectionType:h,valueFormatters:Be.MediaDocumentFormatters},"media-table-".concat(p)):null})]})})},Ve=ze,Me=n(899),He=n.n(Me),Re=n(900),_e=n.n(Re),Ae=n(859),Ue=n.n(Ae),Je=n(870),Ye=function(e){var t=e.selectedFiles,n=e.setSelectedFiles,r=e.onClose;return Object(c.jsx)("div",{className:"fixed z-30 left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7",onMouseDown:r,children:Object(c.jsxs)("div",{onMouseDown:function(e){return e.stopPropagation()},className:"m-auto rounded bg-white max-w-552px w-full max-h-552px relative flex-col flex animate-littlemoveup",children:[Object(c.jsx)(Pe.a,{className:"absolute right-0 top-0 cursor-pointer",onClick:r}),Object(c.jsxs)("div",{className:"flex justify-between flex-wrap mb-4 px-9 pt-9 flex-shrink-0",children:[Object(c.jsx)("div",{className:"font-medium text-2xl mr-4 mb-4",children:"Reorder files"}),Object(c.jsx)(Se.a,{className:"mb-4 bg-fireck-4 hover:bg-fireck-4-hover",onClick:r,children:"Finish"})]}),Object(c.jsx)(Je.a,{onDragEnd:function(e){if(e.destination){var r=function(e,t,n){var r=Array.from(e),a=r.splice(t,1),c=Object(X.a)(a,1)[0];return r.splice(n,0,c),r}(t,e.source.index,e.destination.index);n(r)}},containerClassName:"px-9 pb-9 flex-grow overflow-auto",items:t.map((function(e){return{item:e}})),Item:function(e){var r=e.item,a=e.index;return Object(c.jsx)("div",{className:"pb-3",children:Object(c.jsxs)("div",{className:"bg-gray-300 flex items-center rounded p-2 justify-between",children:[Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)(He.a,{className:"mr-4"}),Object(c.jsx)("div",{className:"bg-fireck-5 rounded",children:Object(c.jsx)("div",{className:"bg-center bg-cover bg-no-repeat w-11 h-11",style:{backgroundImage:"url(".concat(r,")")}})})]}),Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsx)(we.a,{onClick:function(){return window.open(r,"_blank")},className:"outline-none mr-2 h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover",children:Object(c.jsx)(_e.a,{fontSize:"small"})}),Object(c.jsx)(we.a,{className:"outline-none h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover",children:Object(c.jsx)(Ue.a,{fontSize:"small",onClick:function(){var e=Object(be.a)(t);e.splice(a,1),n(e)}})})]})]})})}})]})})},We=n(837),Ze=["title","titleId"];function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ke(e,t){var n=e.title,r=e.titleId,a=qe(e,Ze);return B.createElement("svg",Ge({width:42,height:42,viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?B.createElement("title",{id:r},n):null,te||(te=B.createElement("path",{d:"M35.0859 0.75H7.58594C5.76257 0.75 4.01389 1.47433 2.72458 2.76364C1.43527 4.05295 0.710938 5.80164 0.710938 7.625V35.125C0.710938 36.9484 1.43527 38.697 2.72458 39.9864C4.01389 41.2757 5.76257 42 7.58594 42H35.0859C36.9093 42 38.658 41.2757 39.9473 39.9864C41.2366 38.697 41.9609 36.9484 41.9609 35.125V7.625C41.9609 5.80164 41.2366 4.05295 39.9473 2.76364C38.658 1.47433 36.9093 0.75 35.0859 0.75ZM7.58594 5.33333H35.0859C35.6937 5.33333 36.2766 5.57478 36.7064 6.00455C37.1362 6.43432 37.3776 7.01721 37.3776 7.625V26.7833L30.0443 20.5271C28.9081 19.5922 27.4823 19.081 26.0109 19.081C24.5395 19.081 23.1138 19.5922 21.9776 20.5271L5.29427 34.4375V7.625C5.29427 7.01721 5.53571 6.43432 5.96549 6.00455C6.39526 5.57478 6.97815 5.33333 7.58594 5.33333V5.33333Z",fill:"currentColor"})),ne||(ne=B.createElement("path",{d:"M12.1694 16.7915C14.0679 16.7915 15.6069 15.2525 15.6069 13.354C15.6069 11.4555 14.0679 9.9165 12.1694 9.9165C10.271 9.9165 8.73193 11.4555 8.73193 13.354C8.73193 15.2525 10.271 16.7915 12.1694 16.7915Z",fill:"currentColor"})))}var Qe,Xe=B.forwardRef(Ke),$e=(n.p,function(e){var t=e.selectedFiles,n=e.setSelectedFiles,r=e.ground,a=L.a.useState(0),i=Object(X.a)(a,2),o=i[0],l=i[1],s=L.a.useState(!1),u=Object(X.a)(s,2),d=u[0],f=u[1],b=function(){var e=Object(je.a)(fe.a.mark((function e(){var r,a;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.a)({Component:Ve,props:{multiple:!0}});case 2:"boolean"!==typeof(r=e.sent)&&(a=Object(be.a)(t),n([].concat(Object(be.a)(r),Object(be.a)(a))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"h-208px input".concat(r,"Background rounded-md relative"),children:[t.length?null:Object(c.jsx)("div",{className:"flex w-full h-full cursor-pointer relative z-10",onClick:b,children:Object(c.jsxs)("div",{className:"m-auto flex items-center",children:[Object(c.jsx)(Xe,{className:"text-39px mr-3 primaryTextColor",fontSize:"inherit"}),Object(c.jsx)("div",{children:"Upload multiple files"})]})}),t.map((function(e,t){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"absolute left-0 top-0 w-full h-full bg-center bg-contain bg-no-repeat ".concat(t!==o?"hidden":""),style:{backgroundImage:"url(".concat(e,")")}}),Object(c.jsx)("img",{src:e,alt:"",className:"hidden"})]})})),t.length?Object(c.jsx)("div",{className:"absolute left-0 top-0 w-full h-full",children:Object(c.jsxs)("div",{className:"relative flex items-center justify-between h-full",children:[Object(c.jsx)("div",{className:"absolute left-0 top-0 p-3",children:Object(c.jsxs)("div",{className:"h-26px rounded primaryBackground px-3 text-sm leading-26px",children:[o+1,"/",t.length]})}),Object(c.jsxs)("div",{className:"absolute top-0 right-0 flex p-3",children:[Object(c.jsx)(we.a,{onClick:b,className:"outline-none h-26px w-26px mr-2 rounded primaryBackground buttonPrimaryTextColor",children:Object(c.jsx)(ve.a,{fontSize:"small"})}),Object(c.jsx)(we.a,{onClick:function(){f(!0)},className:"outline-none h-26px w-26px rounded primaryBackground buttonPrimaryTextColor",children:Object(c.jsx)(ye.a,{fontSize:"small"})}),Object(c.jsx)(We.a,{open:d,children:Object(c.jsx)(Ye,{onClose:function(){return f(!1)},selectedFiles:t,setSelectedFiles:function(e){l(0),n(e)}})})]}),Object(c.jsx)(we.a,{className:"primaryBackground buttonPrimaryTextColor p-4 outline-none",onClick:function(){return l((function(e){return e>0?e-1:e}))},children:Object(c.jsx)(pe.a,{})}),Object(c.jsx)(we.a,{className:"primaryBackground buttonPrimaryTextColor p-4 outline-none",onClick:function(){return l((function(e){return e<t.length-1?e+1:e}))},children:Object(c.jsx)(he.a,{})})]})}):null]})}),et=L.a.memo($e),tt=function(e){var t=e.selectedFile,n=e.setSelectedFile,r=e.ground;return Object(c.jsxs)("div",{className:"h-208px input".concat(r,"Background rounded-md relative"),children:[t?null:Object(c.jsx)("div",{className:"flex w-full h-full cursor-pointer relative z-10",onClick:Object(je.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.a)({Component:Ve,props:{multiple:!1}});case 2:"boolean"!==typeof(t=e.sent)&&n(t);case 4:case"end":return e.stop()}}),e)}))),children:Object(c.jsxs)("div",{className:"m-auto flex items-center",children:[Object(c.jsx)(Xe,{className:"text-39px mr-3 primaryTextColor",fontSize:"inherit"}),Object(c.jsx)("div",{children:"Upload a file"})]})}),Object(c.jsx)("div",{className:"absolute left-0 top-0 w-full h-full bg-center bg-contain bg-no-repeat",style:{backgroundImage:"url(".concat(t,")")}}),t?Object(c.jsx)("div",{className:"absolute top-0 right-0 flex p-3",children:Object(c.jsx)(we.a,{onClick:function(){return n("")},className:"outline-none h-26px w-26px rounded primaryBackground buttonPrimaryTextColor",children:Object(c.jsx)(Ue.a,{fontSize:"small"})})}):null]})},nt=L.a.memo(tt),rt=function(e){var t=e.value,n=e.onValue,r=e.field,a=e.ground;return r.mediaSingle?Object(c.jsx)(nt,{ground:a,selectedFile:t,setSelectedFile:function(e){return n(e)}}):Object(c.jsx)(et,{ground:a,selectedFiles:t,setSelectedFiles:function(e){return n(e)}})},at=n(923),ct=(n(905),n(906)),it=n.n(ct),ot=function(e){var t=e.style,n=void 0===t?{}:t,r=e.onChange,a=(e.value,e.ground),i=new it.a;return Object(B.useEffect)((function(){var e,t=document.getElementsByClassName("rc-md-editor"),n=Object(Ce.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.classList.add("input".concat(a,"Background"),"input".concat(a,"TextColor"))}}catch(r){n.e(r)}finally{n.f()}}),[a]),Object(c.jsxs)("div",{children:[Object(c.jsx)("style",{children:".rc-md-navigation .button-wrap .button {\n        background-color: white !important;\n        border-radius: 4px !important;\n        margin-bottom: 2px !important;\n        margin-top: 2px !important;\n      }\n\n      .rc-md-navigation{\n        border-bottom: none !important;\n        background-color: transparent !important;\n        margin-bottom: 4px;\n      }\n\n      .rc-md-editor{\n        border: none !important;\n        padding: 7px !important;\n        border-radius: 4px !important;\n      } \n\n      .rc-md-editor textarea{\n        background-color: transparent !important;\n        // border-radius: 4px !important;\n        overflow: auto !important;\n        border-right: 1px solid #DDDDDD !important;\n      }\n\n      \n      \n      "}),Object(c.jsx)(at.a,{placeholder:"Type here...",onCustomImageUpload:function(e){return new Promise(function(){var e=Object(je.a)(fe.a.mark((function e(t,n){var r;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.a)({Component:Ve,props:{multiple:!1}});case 2:"string"===typeof(r=e.sent)?t({url:r,text:"image"}):n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onChange:function(e){var t=e.text;return r(t)},style:n,renderHTML:function(e){return i.render(e)}})]})},lt=Object(B.memo)(ot),st=function(e){var t=e.value,n=e.onValue,r=e.ground;return Object(c.jsx)(lt,{ground:r,style:{height:"30vw",minHeight:400},value:t,onChange:function(e){return n(e)}})},ut=n(845),dt=function(e){var t=e.value,n=e.onValue,r=e.ground,a=e.name,i=e.field;return Object(c.jsx)(ut.a,{ground:r,options:[{label:"Select",value:""}].concat(Object(be.a)(i.enumOptions.map((function(e){return{label:e,value:e}})))),name:a,onChange:function(e){return n(e.target.value)},value:t})},ft=function(e){var t=e.value,n=e.onValue,r=e.ground,a=e.name;return Object(c.jsx)(J.a,{ground:r,className:"h-28px",type:"password",value:t,name:a,onChange:function(e){return n(e.target.value)}})},bt=n(863),jt=n(915),mt=n.n(jt),pt=n(864),xt=n(865),ht=n(191),Ot=n(190),vt=function(e){var t=e.value,n=e.collectionType,r=e.labelField,a=Object(B.useState)(""),i=Object(X.a)(a,2),o=i[0],l=i[1];return Object(B.useEffect)((function(){n&&Object(je.a)(fe.a.mark((function e(){var a;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.getDocument(n.id,t);case 3:(a=e.sent).error||l(a[r]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t,r,n]),Object(c.jsx)(c.Fragment,{children:o})},gt=n(69),yt=function(e){var t=e.fieldType,n=e.value,r=e.onValue,a=e.ground,i=Object(Ee.e)((function(e){return e.collectionTypes.find((function(e){return e.docId===t.relatedCollectionTypeDocId}))})),o=L.a.useState(!1),l=Object(X.a)(o,2),s=l[0],u=l[1];return Object(c.jsxs)("div",{className:"rounded p-5 ".concat(Object(gt.e)(a),"ContainerBackground"),children:[Object(c.jsxs)("div",{className:"flex flex-wrap justify-between",children:[Object(c.jsxs)("div",{className:"flex items-center font-medium mb-3 mr-3",children:[Object(c.jsx)(mt.a,{className:"mr-3",fontSize:"small"}),Object(c.jsx)("div",{className:"capitalize mr-3",children:null===i||void 0===i?void 0:i.name}),t.relationOneToOne?Object(c.jsx)("div",{className:"flex w-8",children:Object(c.jsx)(pt.a,{})}):Object(c.jsx)("div",{className:"flex w-8",children:Object(c.jsx)(xt.a,{})})]}),Object(c.jsx)(bt.a,{onClick:function(){return u(!0)},className:"mb-3 primaryBackground buttonPrimaryTextColor",children:Object(c.jsx)(ve.a,{fontSize:"small"})})]}),Object(c.jsx)(We.a,{open:s,children:Object(c.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto p-12 dialogOuterBackground",onMouseDown:function(){return u(!1)},children:Object(c.jsxs)("div",{className:"p-9 rounded w-full h-full flex flex-col relative dialogBackground dialogTextColor",onMouseDown:function(e){return e.stopPropagation()},children:[Object(c.jsx)("div",{className:"absolute right-0 top-0 cursor-pointer",onClick:function(){return u(!1)},children:Object(c.jsx)(Pe.a,{})}),Object(c.jsx)("div",{className:"text-27px font-medium mb-5 capitalize leading-none",children:null===i||void 0===i?void 0:i.name}),Object(c.jsx)("div",{className:"flex-grow h-0",children:i?Object(c.jsx)(Fe.a,{ground:a,collectionType:i,blackList:"string"===typeof n?[n]:n,singleSelect:"string"===typeof n,onPick:function(e){e.length&&(r("string"===typeof n?e[0].docId:[].concat(Object(be.a)(n),Object(be.a)(e.map((function(e){return e.docId}))))),u(!1))}}):null})]})})}),Object(c.jsx)("div",{className:"w-full max-h-64 overflow-auto bg-white rounded",children:"string"===typeof n?Object(c.jsxs)("div",{className:"px-1 h-28px bg-white flex items-center justify-between",children:[Object(c.jsx)("span",{children:Object(c.jsx)(vt,{value:n,collectionType:i,labelField:t.labelField})}),n?Object(c.jsx)("div",{className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white","data-testid":"delete-for-field-".concat(t.id,"-").concat(n),onClick:Object(je.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)({confirmation:"Remove document?"});case 2:e.sent&&r("");case 4:case"end":return e.stop()}}),e)}))),children:Object(c.jsx)(Ue.a,{classes:{root:"pointer-events-none"},fontSize:"inherit"})}):null]}):Object(c.jsx)(Ot.a,{className:"h-36 scrollbar-light scrollbar-thin",autoHide:!1,children:n.map((function(e,a){return Object(c.jsxs)("div",{className:"px-1  flex justify-between tableDialogRowHoverBackground",children:[Object(c.jsx)("div",{children:Object(c.jsx)(vt,{value:e,collectionType:i,labelField:t.labelField})}),Object(c.jsx)("div",{className:"flex items-center flex-grow justify-end",children:Object(c.jsx)("div",{className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white","data-testid":"delete-for-field-".concat(t.id,"-").concat(e),onClick:Object(je.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)({confirmation:"Remove document?"});case 2:e.sent&&((t=Object(be.a)(n)).splice(a,1),r(t));case 4:case"end":return e.stop()}}),e)}))),children:Object(c.jsx)(Ue.a,{classes:{root:"pointer-events-none"},fontSize:"inherit"})})})]},"relation-".concat(t.id,"-docId-").concat(e))}))})})]})},wt=Object(B.memo)(yt),Nt=function(e){var t=e.value,n=e.onValue,r=e.field,a=e.ground;return Object(c.jsx)(wt,{ground:a,onValue:function(e){return n(e)},fieldType:r,value:t})},Ct=n(849),kt=n(854),St=n.n(kt),It=n(848),Tt=n(1028),Dt=n(853),Et=n.n(Dt),Ft=n(869),Bt=n(193),Lt=n.n(Bt),Pt=function(e){var t=e.fields,n=e.proceed,r=e.editableDocument,a=e.level;return Object(c.jsx)("div",{style:{padding:Math.min(30*a,90)},className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40",onMouseDown:function(){return n(null)},children:Object(c.jsxs)("div",{className:"bg-white rounded h-full w-full p-9 relative animate-littlemoveup",onMouseDown:function(e){return e.stopPropagation()},children:[Object(c.jsx)(Lt.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return n(null)}}),Object(c.jsx)(Ft.a,{level:a+1,ground:"Dialog",editableDocument:r,fields:t,onSubmit:n})]})})},zt=function(e){return Object(Ne.a)({Component:Pt,props:e})},Vt=function(e){var t=e.value,n=e.onValue,r=e.valueFormatters,a=e.ground,i=e.fields,o=e.level,l=L.a.useState([]),s=Object(X.a)(l,2),u=s[0],d=s[1],f=L.a.useState([]),b=Object(X.a)(f,2),j=b[0],m=b[1],p=L.a.useState(),x=Object(X.a)(p,2),h=x[0],O=x[1],v=L.a.useState(!1),g=Object(X.a)(v,2),y=(g[0],g[1]),w=function(){var e=Object(je.a)(fe.a.mark((function e(r,a){var c,l;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt({fields:i,level:o+1,editableDocument:r});case 2:if(c=e.sent){e.next=5;break}return e.abrupt("return");case 5:(l=Object(be.a)(t))[a]=c,n(l);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(je.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)({confirmation:"Delete ".concat(j.length," documents?")});case 2:if(!e.sent){e.next=5;break}n(t.filter((function(e){return!j.includes(e.docId)}))),m([]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){return(null===h||void 0===h?void 0:h.fieldId)!==e.id?function(){O({fieldId:e.id,direction:"asc"})}:"asc"!==(null===h||void 0===h?void 0:h.direction)?function(){return O(void 0)}:function(){return O({fieldId:e.id,direction:"desc"})}},k=function(e,t){return"date"===e.type?Et()(t).format("YYYY-MM-DD hh:mm"):r&&e.id in r?r[e.id](t):t.toString().substring(0,40)};return Object(c.jsxs)("div",{className:"h-96 w-full flex-col flex",children:[Object(c.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(c.jsxs)("div",{className:"flex flex-wrap",children:[Object(c.jsx)(It.a,{ground:a,collectionType:{fields:i},onValue:function(e){return d((function(t){return[e].concat(Object(be.a)(t))}))}}),u.map((function(e,t){return Object(c.jsxs)("div",{className:Z()("rounded min-h-28px border leading-28px pl-3 text-sm pr-3 flex mr-3 mb-3 relative","".concat(a.toLowerCase(),"TextColor ").concat(a.toLowerCase(),"BorderColor")),children:[e.fieldId," ",e.operator," ",e.value," ",Object(c.jsx)("span",{onClick:function(){return d((function(e){var n=Object(be.a)(e);return n.splice(t,1),n}))},className:"text-xs leading-28px ml-3 cursor-pointer",children:"\u2715"})]},"f-".concat(t))}))]}),Object(c.jsxs)("div",{className:"flex flex-wrap",children:[Object(c.jsx)(Se.a,{onClick:N,disabled:0===j.length,className:"px-7 mr-4 min-w-unset h-28px ".concat(0===j.length?"buttonDisabledBackground buttonDisabledTextColor cursor-default":"bg-red-FF0000 hover:bg-red-FF0000-hover text-white"," "),children:"Delete"}),Object(c.jsx)(Se.a,{onClick:Object(je.a)(fe.a.mark((function e(){var r;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt({fields:i,level:o+1});case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:n([].concat(Object(be.a)(t),[r]));case 6:case"end":return e.stop()}}),e)}))),className:"px-7 h-28px primaryBackground min-w-unset buttonPrimaryTextColor",children:"Add"})]})]}),Object(c.jsx)("div",{className:"flex-grow h-0 -mt-3 rounded overflow-hidden table".concat(a,"Background"),children:Object(c.jsxs)(Ot.a,{className:"relative scrollbar-light h-full",autoHide:!1,children:[Object(c.jsxs)("table",{className:"w-full text-center",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{className:"whitespace-nowrap",children:[Object(c.jsx)("th",{className:"sticky top-0 table".concat(a,"HeaderBackground table").concat(a,"HeaderTextColor z-10 px-1"),children:Object(c.jsx)(Tt.a,{size:"small",classes:{checked:"tableCheckboxColor",root:"p-0"},checked:j.length===t.length,onChange:function(e){return n=e.target.checked,m(n?t.map((function(e){return e.docId})):[]);var n}})}),i.map((function(e,t){return Object(c.jsx)("th",{className:"font-semibold sticky top-0 table".concat(a,"HeaderBackground table").concat(a,"HeaderTextColor"),children:Object(c.jsxs)("div",{className:"flex items-center justify-center",children:[Object(c.jsx)("div",{className:"w-5"}),Object(c.jsx)("div",{className:"cursor-pointer select-none",onClick:C(e),children:e.id}),Object(c.jsx)("div",{className:"w-5",children:(null===h||void 0===h?void 0:h.fieldId)===e.id?Object(c.jsx)(St.a,{fontSize:"small",className:"".concat("asc"===(null===h||void 0===h?void 0:h.direction)?"transform rotate-180":"")}):null})]})},"th-".concat(t))}))]})}),Object(c.jsx)("tbody",{children:t.map((function(e,t){return Object(c.jsxs)("tr",{onClick:function(){return w(e,t)},className:"cursor-pointer table".concat(a,"RowHoverTextColor table").concat(a,"RowHoverBackground"),children:[Object(c.jsx)("td",{className:"px-1",onClick:function(e){return e.stopPropagation()},children:Object(c.jsx)(Tt.a,{size:"small",classes:{checked:"tableCheckboxColor",root:"p-0"},checked:j.includes(e.docId),onChange:function(t){return n=e.docId,r=t.target.checked,void m(r?function(e){return[].concat(Object(be.a)(e),[n])}:function(e){var t=Object(be.a)(e),r=t.findIndex((function(e){return e===n}));return null!=r&&t.splice(r,1),t});var n,r}})}),i.map((function(n,r){return Object(c.jsx)("td",{className:"px-2",children:null!=e[n.id]?"media"===n.type?n.mediaSingle?Object(c.jsx)(Ct.a,{file:e[n.id]}):Object(c.jsx)(Ct.a,{files:e[n.id]}):Object(c.jsx)("div",{className:"whitespace-nowrap",children:k(n,e[n.id])}):null},"row-".concat(t,"-col-").concat(r))}))]},"row-".concat(t))}))})]}),Object(c.jsx)(De.a,{onChange:function(){var e=Object(je.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(c.jsx)("div",{className:"w-full"})}),Object(c.jsx)("div",{})]})})]})},Mt=L.a.memo(Vt),Ht=function(e){var t=e.value,n=e.onValue,r=e.level,a=e.field,i=e.ground;return Object(c.jsx)(Mt,{level:r,value:t,onValue:function(e){return n(e)},fields:a.collectionFields,ground:i})},Rt=function(e){try{if("function"!==typeof JSON.parse(JSON.stringify(e)).map)throw new Error("object is not an array")}catch(t){return"Wrong format"}return null},_t=function(e){try{var t=JSON.parse(JSON.stringify(e));if("string"===typeof t||"function"===typeof t.map)throw new Error("object is not a map")}catch(n){return"Wrong format"}return null},At=function(e){try{if("string"===typeof JSON.parse(JSON.stringify(e)))throw new Error("object is not a map")}catch(t){return"Wrong format"}return null},Ut=function(){return null},Jt=function(e){var t=e.value,n=e.onValue,r=e.ground,a=e.name,i=Object(B.useState)(""),o=Object(X.a)(i,2),l=o[0],s=o[1],u=function(){var e=Object(je.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(window.location.origin+"/auth/createPassword",{method:"POST",body:JSON.stringify(l)}).then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t.error?null:t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.useEffect)((function(){s(t)}),[t]),Object(c.jsxs)("div",{className:"w-full relative flex",children:[Object(c.jsx)("div",{className:"flex-grow",children:Object(c.jsx)(J.a,{disabled:t,onBlur:function(){},ground:r,className:"h-28px",type:"password",value:l,name:a,onChange:function(e){return s(e.target.value)}})}),Object(c.jsx)("div",{className:"ml-1 select-none font-medium",children:t?Object(c.jsx)("div",{onClick:function(){return n("")},className:"h-28px leading-28px text-xs rounded bg-red-FF0000 hover:bg-red-FF0000-hover text-white cursor-pointer px-3",children:"Clear"}):Object(c.jsx)("div",{onClick:Object(je.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)}))),className:"h-28px leading-28px text-xs rounded primaryBackground buttonPrimaryTextColor cursor-pointer px-3",children:"Save"})})]})},Yt=function(e){return e?null:"Required"},Wt=["title","titleId"];function Zt(){return Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zt.apply(this,arguments)}function Gt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qt(e,t){var n=e.title,r=e.titleId,a=Gt(e,Wt);return B.createElement("svg",Zt({width:19,height:18,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?B.createElement("title",{id:r},n):null,Qe||(Qe=B.createElement("path",{d:"M16.0025 12C16.0025 12 14.0025 14.17 14.0025 15.5C14.0025 16.0304 14.2132 16.5391 14.5883 16.9142C14.9634 17.2893 15.4721 17.5 16.0025 17.5C16.5329 17.5 17.0416 17.2893 17.4167 16.9142C17.7918 16.5391 18.0025 16.0304 18.0025 15.5C18.0025 14.17 16.0025 12 16.0025 12ZM2.2125 10.5L7.0025 5.71L11.7925 10.5H2.2125ZM13.5625 9.44L4.6225 0.5L3.2125 1.91L5.5925 4.29L0.4425 9.44C-0.1475 10 -0.1475 10.97 0.4425 11.56L5.9425 17.06C6.2325 17.35 6.6225 17.5 7.0025 17.5C7.3825 17.5 7.7725 17.35 8.0625 17.06L13.5625 11.56C14.1525 10.97 14.1525 10 13.5625 9.44Z",fill:"currentColor"})))}var Kt=B.forwardRef(qt),Qt=(n.p,function(){return Object(c.jsx)(i,{children:Object(c.jsx)(Kt,{className:"w-4"})})}),Xt=n(1044),$t=["content","anchorOrigin","transformOrigin","open","onClose","closeOnContentClick"],en=function(e){var t=e.content,n=e.anchorOrigin,r=e.transformOrigin,i=e.open,o=e.onClose,l=e.closeOnContentClick,s=Object(Y.a)(e,$t),u=Object(B.useState)(null),d=Object(X.a)(u,2),f=d[0],b=d[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Xt.a,Object(a.a)(Object(a.a)({open:null!=i?i:Boolean(f)},s),{},{anchorEl:f,onClose:o||function(){return b(null)},classes:{paper:"shadow-3-3-12-10 border rounded"},anchorOrigin:n||{vertical:"top",horizontal:"center"},transformOrigin:r||{vertical:"top",horizontal:"center"},children:Object(c.jsx)("div",{onClick:l?o||function(){return b(null)}:void 0,children:t})})),Object(c.jsx)("div",{onClick:function(e){return b(e.currentTarget)},children:s.children})]})},tn=n(922),nn=["value","onValue"],rn=function(e){var t=e.value,n=e.onValue,r=Object(Y.a)(e,nn);return Object(c.jsx)(en,{content:Object(c.jsx)(tn.a,{color:t,onChange:function(e,t){n("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"))}}),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{horizontal:"left",vertical:"top"},children:Object(c.jsx)("div",Object(a.a)({},r))})},an=Object(B.memo)(rn),cn={type:"hashed-password",Component:Jt,validate:Yt},on=[{type:"string",Badge:o,Component:Q,validate:Ut},{type:"number",Badge:l,Component:ie,validate:Ut},{type:"map",Badge:s,Component:ce,validate:_t},{type:"array",Badge:u,Component:ce,validate:Rt},{type:"boolean",Badge:b,Component:se,validate:Ut},{type:"date",Badge:p,Component:ue,validate:Ut},{type:"media",Badge:O,Component:rt,validate:Ut},{type:"rich-text",Badge:y,Component:st,validate:Ut},{type:"json",Badge:w,Component:ce,validate:At},{type:"enum",Badge:k,Component:dt,validate:Ut},{type:"password",Badge:T,Component:ft,validate:Ut},{type:"relation",Badge:F,Component:Nt,validate:Ut},{type:"collection",Badge:R,Component:Ht,validate:Ut},{type:"color",Badge:Qt,Component:function(e){e.field;var t=e.value,n=e.onValue;e.name;return Object(c.jsx)(an,{value:t,onValue:n,children:Object(c.jsx)("div",{style:{background:t},className:"h-28px w-32 rounded border-2"})})},validate:Ut},{type:"any",Badge:U,Component:ce,validate:Ut}];t.b=on},856:function(e,t,n){"use strict";var r=n(14),a=n(189),c=n(114),i=n.n(c),o=n(2),l=["className"];t.a=function(e){var t=e.className,n=Object(a.a)(e,l);return Object(o.jsx)("div",Object(r.a)(Object(r.a)({},n),{},{className:i()("text-27px font-medium capitalize leading-none",t)}))}},861:function(e,t,n){"use strict";var r=n(12),a=n(57),c=n(0),i=n.n(c),o=n(868),l=n.n(o),s=n(845),u=n(190),d=n(852),f=n.n(d),b=n(867),j=n.n(b),m=n(2),p=i.a.memo((function(e){var t,n=e.entity,i=e.enitityPlural,o=e.onAddEntity,d=e.entities,b=e.onSelectEntity,p=e.entityButtons,x=e.onInvokeEntityEdit,h=e.entityContent,O=e.selectedEntityId,v=Object(c.useState)(""),g=Object(r.a)(v,2),y=g[0],w=g[1];return Object(m.jsxs)("div",{className:"h-full flex flex-col",children:[Object(m.jsxs)("div",{className:"flex flex-wrap justify-between mb-4",children:[Object(m.jsx)("div",{className:"font-medium text-27px leading-none mb-4 mr-4 capitalize",children:i}),o?Object(m.jsx)(a.a,{"data-testid":"add-collection-btn",onClick:o,className:"primaryBackground buttonPrimaryTextColor mb-4 min-w-unset",children:Object(m.jsxs)("div",{className:"flex items-center pointer-events-none h-34px",children:[Object(m.jsx)(f.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(m.jsxs)("span",{className:"hidden md:block",children:["Add ",n]}),Object(m.jsx)("span",{className:"md:hidden",children:"Add"})]})}):null]}),d.length?Object(m.jsxs)("div",{className:"flex flex-wrap lg:flex-nowrap w-full flex-grow",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"relative mb-3 mr-4 hidden lg:block",style:{width:180},children:[Object(m.jsx)("div",{className:"h-6 flex items-center left-1 top-0 absolute",children:Object(m.jsx)(j.a,{fontSize:"inherit",className:"text-base text-gray-500 pointer-events-none"})}),Object(m.jsx)("input",{type:"search",spellCheck:!1,placeholder:"Search",className:"placeholder-gray-500 pl-7 h-6 leading-6 hover:bg-fireck-3 focus:bg-fireck-3 w-full text-sm px-2 border-white rounded bg-transparent outline-none focus:outline-none",value:y,onChange:function(e){return w(e.target.value)}})]}),Object(m.jsx)(u.a,{style:{maxHeight:230},className:"max-w-192px w-full flex-shrink-0 mr-4 hidden lg:block groundScrollbar pr-3",autoHide:!1,children:d.filter((function(e){return!y||e.name.toLowerCase().includes(y.toLowerCase())})).map((function(e){return Object(m.jsx)("div",{"data-testid":"entity-name-".concat(e.name),onClick:function(){b(e.docId)},className:"mb-1 capitalize truncate select-none cursor-pointer ".concat(O===e.docId?"primaryBackground buttonPrimaryTextColor":"groundHoverBackground"," rounded h-28px leading-28px px-3"),children:e.name},"entity-".concat(e.docId))}))})]}),Object(m.jsxs)("div",{className:"lg:flex-grow w-full rounded-lg groundContainerBackground p-3 md:p-7 flex flex-col",children:[Object(m.jsxs)("div",{className:"flex justify-between mb-3 flex-wrap",children:[Object(m.jsxs)("div",{className:"font-medium text-22px capitalize mb-3 mr-3",children:[Object(m.jsx)("span",{className:"hidden lg:inline-block",children:(null===(t=d.find((function(e){return e.docId===O})))||void 0===t?void 0:t.name)||""}),Object(m.jsx)("div",{className:"lg:hidden inline-block text-base",children:Object(m.jsx)(s.a,{className:"h-28px",ground:"GroundContainer",onChange:function(e){return b(e.target.value)},value:O,options:d.map((function(e){return{label:e.name,value:e.docId}}))})}),x?Object(m.jsx)(l.a,{"data-testid":"edit-collection-btn",onClick:x,className:"ml-3 text-lg cursor-pointer",fontSize:"inherit"}):null]}),p]}),Object(m.jsx)("div",{className:"flex-grow h-0",children:h})]})]}):Object(m.jsx)("div",{})]})}));t.a=p},862:function(e,t,n){"use strict";n.r(t),n.d(t,"MediaDocumentFormatters",(function(){return y}));var r=n(1),a=n.n(r),c=n(27),i=n(4),o=n(12),l=n(57),s=n(0),u=n.n(s),d=n(52),f=n(33),b=n(99),j=n(856),m=n(847),p=n(37),x=n(852),h=n.n(x),O=n(69),v=n(36),g=n(2),y={url:function(e){return Object(g.jsx)("div",{onClick:function(t){t.stopPropagation(),window.open(e,"_blank")},className:"bg-center bg-cover h-10 w-10 mx-auto bg-gray-E1E1E1",style:{backgroundImage:"url(".concat(e,")")}})},size:function(e){return Object(O.a)(e)}};t.default=function(){var e=u.a.useRef(null),t=Object(b.b)(),n=Object(s.useState)(0),r=Object(o.a)(n,2),x=r[0],O=r[1],w=Object(p.e)((function(e){return{collectionType:e.collectionTypes.find((function(e){return e.id===v.a.MEDIA}))}})).collectionType;return Object(g.jsxs)("div",{className:"h-full w-full flex flex-col",children:[Object(g.jsxs)("div",{className:"flex justify-between flex-wrap mb-3",children:[Object(g.jsx)(j.a,{className:"mb-4 mr-4",children:"Media"}),Object(g.jsx)("input",{type:"file",multiple:!0,className:"hidden",ref:e,onChange:function(){var e=Object(i.a)(a.a.mark((function e(n){var r,i,o,l,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.target.files)||!r.length){e.next=25;break}f.a.dispatch({type:"SET_LOADING",payload:"Uploading ".concat(r.length," file").concat(r.length>1?"s":"","...")}),i=0,o=Object(c.a)(r),e.prev=5,o.s();case 7:if((l=o.n()).done){e.next=15;break}return s=l.value,e.next=11,d.a.uploadFile(s);case 11:"error"in(u=e.sent)?t(u.error+". Try reload the app",{variant:"error"}):(i++,f.a.dispatch({type:"SET_LOADING",payload:"".concat(i,"/").concat(r.length," uploaded.")}));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),o.e(e.t0);case 20:return e.prev=20,o.f(),e.finish(20);case 23:f.a.dispatch({type:"SET_LOADING",payload:!1}),O((function(e){return e+1}));case 25:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},"file-input-".concat(x)),Object(g.jsx)(l.a,{onClick:function(){return e.current.click()},className:"primaryBackground buttonPrimaryTextColor mb-4 h-34px pr-6 pl-5 min-w-unset",children:Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(h.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(g.jsx)("span",{children:"Upload"})]})})]}),w?Object(g.jsx)(m.a,{ground:"Ground",valueFormatters:y,collectionType:w},"files-table-".concat(x)):null]})}},863:function(e,t,n){"use strict";var r=n(14),a=n(189),c=n(2),i=["className","variant"];t.a=function(e){var t=e.className,n=void 0===t?"":t,o=(e.variant,Object(a.a)(e,i));return Object(c.jsx)("div",Object(r.a)(Object(r.a)({},o),{},{className:"bg-fireck-4 hover:bg-fireck-4-hover h-5 w-5 rounded flex items-center justify-center transition cursor-pointer "+n}))}},864:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,a,c,i=n(0),o=["title","titleId"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){var n=e.title,u=e.titleId,d=s(e,o);return i.createElement("svg",l({width:40,height:9,viewBox:"0 0 40 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":u},d),n?i.createElement("title",{id:u},n):null,r||(r=i.createElement("path",{d:"M9.36621 4.67223H30.7241M30.7241 4.67223L28.3085 2.25659M30.7241 4.67223L28.3085 7.08786",stroke:"currentColor",strokeWidth:1.37296,strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=i.createElement("circle",{cx:4.69562,cy:4.49835,r:3.31773,stroke:"currentColor",strokeWidth:1.37296})),c||(c=i.createElement("circle",{cx:35.3948,cy:4.49835,r:3.31773,stroke:"currentColor",strokeWidth:1.37296})))}var d=i.forwardRef(u);n.p},865:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,a,c,i,o,l=n(0),s=["title","titleId"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e,t){var n=e.title,f=e.titleId,b=d(e,s);return l.createElement("svg",u({width:40,height:37,viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":f},b),n?l.createElement("title",{id:f},n):null,r||(r=l.createElement("path",{d:"M10.5875 18.8431L30.4119 7.39751M30.4119 7.39751L26.8752 6.44984M30.4119 7.39751L29.4643 10.9342",stroke:"currentColor",strokeWidth:1.47153,strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=l.createElement("path",{d:"M10.5873 18.8433L30.4117 30.2889M30.4117 30.2889L29.4641 26.7522M30.4117 30.2889L26.875 31.2366",stroke:"currentColor",strokeWidth:1.47153,strokeLinecap:"round",strokeLinejoin:"round"})),c||(c=l.createElement("circle",{cx:5.00165,cy:18.7858,r:3.55593,stroke:"currentColor",strokeWidth:1.47153})),i||(i=l.createElement("circle",{cx:35.2653,cy:32.5311,r:3.55593,stroke:"currentColor",strokeWidth:1.47153})),o||(o=l.createElement("circle",{cx:35.2653,cy:5.15558,r:3.55593,stroke:"currentColor",strokeWidth:1.47153})))}var b=l.forwardRef(f);n.p},869:function(e,t,n){"use strict";var r=n(1),a=n.n(r),c=n(4),i=n(5),o=n(14),l=n(19),s=n(12),u=n(0),d=n.n(u),f=n(57),b=n(192),j=n(846),m=n(855),p=n(37),x=n(114),h=n.n(x),O={password:function(){return""},string:function(){return""},"rich-text":function(){return""},json:function(){return{}},map:function(){return{}},array:function(){return[]},media:function(e){return"media"===e.type&&e.mediaSingle?"":[]},date:function(){return null},enum:function(){return null},number:function(){return null},boolean:function(){return!1},relation:function(e){return"relation"===e.type&&e.relationOneToOne?"":[]},collection:function(){return[]},document:function(e){return"document"===e.type&&e.documentFields.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t.id,O[t.type]))}),{})},any:function(){return""},"hashed-password":function(){return""},color:function(){return""}},v=O,g=n(916),y=n.n(g),w=n(2);t.a=function(e){var t=e.onSubmit,n=e.fields,r=e.editableDocument,x=e.level,O=e.docId,g=e.ground,N=e.singleName,C=Object(u.useState)(0),k=Object(s.a)(C,2),S=k[0],I=k[1],T=[].concat(Object(l.a)(m.b),[m.a]),D=Object(p.d)(),E=n.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t.id,r&&r[t.id]?r[t.id]:v[t.type](t)))}),{}),F=Object(b.a)({validateOnChange:!1,initialValues:E,enableReinitialize:!0,onSubmit:function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({type:"SET_DOCUMENT_CHANGED",payload:!1});case 2:return e.next=4,t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){var t={};return n.forEach((function(n){var r=T.find((function(e){return e.type===n.type}));if(!r)return t;var a=r.validate(e[n.id]);a&&(t[n.id]=a)})),t}}),B=F.values,L=F.errors,P=F.setFieldValue,z=F.handleSubmit,V=F.submitCount,M=F.isSubmitting,H=!r||JSON.stringify(E)!==JSON.stringify(B);d.a.useEffect((function(){D({type:"SET_DOCUMENT_CHANGED",payload:H})}),[H,D]);var R=Object(u.useCallback)(y()((function(e){return function(t){P(e,t)}})),[P]),_=m.b.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t.type,t.Component))}),{});return Object(w.jsxs)("div",{className:"h-full flex flex-col w-full",children:[Object(w.jsxs)("div",{className:h()({"shadow-md":S},"flex justify-between transition-all flex-wrap mb-2 -mx-7 -mt-7 px-7 pt-7"),children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:h()("font-medium text-27px leading-none capitalize mb-1 mr-4","".concat(g.toLowerCase(),"TextColor")),children:O?"Edit Document":N||"Add Document"}),O?Object(w.jsxs)("div",{className:h()("".concat(g.toLowerCase(),"TextColor"),"mb-3 text-xs"),children:["Doc id: ",O]}):null]}),Object(w.jsx)(f.a,{type:"submit",onClick:function(){return z()},disabled:M||!H,className:"h-34px ".concat(H?"primaryBackground buttonPrimaryTextColor":"buttonDisabledBackground buttonDisabledTextColor cursor-default","  mb-2"),children:M?"Loading...":null!=r||N?"Save":"Publish"})]}),Object.keys(B).length?Object(w.jsx)("div",{className:"flex-grow h-0 overflow-y-auto overflow-x-hidden pt-4 -mx-7 -mb-7 px-7",onScroll:function(e){e.persist(),I(e.currentTarget.scrollTop)},children:Object(w.jsx)("div",{className:"flex flex-wrap -mx-3",children:n.filter((function(e){return!e.isDefault})).map((function(e,t){var n,r=_[e.type];return Object(w.jsxs)("div",{className:"".concat(["rich-text","collection"].includes(e.type)?"w-full":"sm:w-1/2 w-full"," px-3 mb-12"),children:[Object(w.jsxs)(j.a,{ground:g,className:"mb-2 font-medium",error:V>0?null===(n=L[e.id])||void 0===n?void 0:n.toString():null,children:[e.id," "]}),r?Object(w.jsx)(r,{onValue:R(e.id),ground:g,value:B[e.id],name:e.id,level:x,field:e}):null]},"field-".concat(t))}))})}):null]})}},870:function(e,t,n){"use strict";var r=n(14),a=n(0),c=n(34),i=function(){var e=Object(a.useRef)({}).current;return Object(a.useEffect)((function(){var t=document.createElement("div");return t.style.position="absolute",t.style.pointerEvents="none",t.style.top="0",t.style.width="100%",t.style.height="100%",e.elt=t,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e]),function(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=t.apply(void 0,[n].concat(a));return"fixed"===n.draggableProps.style.position?Object(c.createPortal)(o,e.elt):o}}},o=n(885),l=n(69),s=n(2);t.a=function(e){var t=e.onDragEnd,n=e.Item,c=e.items,u=e.containerClassName,d=i(),f=Object(a.useRef)(Math.random()),b=function(e,t){return"".concat(e,"-").concat(t,"-").concat(f.current)};return Object(s.jsx)(o.a,{onDragEnd:function(e){if(e.destination){var n=Object(l.d)(c,e.source.index,e.destination.index);t(n)}},children:Object(s.jsx)(o.c,{droppableId:"droppable-sub",children:function(e){return Object(s.jsxs)("div",Object(r.a)(Object(r.a)({className:u},e.droppableProps),{},{ref:e.innerRef,children:[c.map((function(e,t){return Object(s.jsx)(o.b,{draggableId:b("draggable",t),index:t,children:d((function(a){return Object(s.jsx)("div",Object(r.a)(Object(r.a)(Object(r.a)({ref:a.innerRef},a.draggableProps),a.dragHandleProps),{},{children:Object(s.jsx)(n,Object(r.a)(Object(r.a)({},e),{},{index:t}))}))}))},b("draggable",t))})),e.placeholder]}))}})})}},919:function(e,t,n){"use strict";var r=n(62),a=n(248);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(0)),i=(0,r(n(249)).default)(c.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=i},920:function(e,t,n){"use strict";var r=n(62),a=n(248);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(0)),i=(0,r(n(249)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");t.default=i}}]);
//# sourceMappingURL=8.837a9a92.chunk.js.map