{"version":3,"sources":["components/Input.tsx","components/Confirm.tsx","facades/LoadingManager.ts","utils/classes/CommandsController.ts","utils/classes/Command.ts","commands/AddDocument.ts","commands/UpdateDocument.ts","commands/DeleteDocument.ts","commands/DeleteMultipleDocuments.ts","facades/CollectionsManager.ts","store/index.ts","api/collections.ts","facades/TasksManager.ts","api/firebaseApp.ts","components/Button.tsx","assets/webhook.svg","assets/logo.svg","assets/dropzone.svg","components/Menu/Section.tsx","components/Menu/index.tsx","components/TopBar.tsx","pages/index.tsx","assets/folder.svg","components/Dropzone.tsx","pages/Firebase/index.tsx","pages/AdminCreation/index.tsx","pages/Login.tsx","components/Loader.tsx","pages/Firestore/index.tsx","components/ToDos.tsx","components/UpdateAppWidget.tsx","components/LoadingIndicator.tsx","App.tsx","components/RouteLeaveGuard.tsx","serviceWorkerRegistration.ts","index.tsx","api/netlify.ts","helper.ts","api/API_URL.ts","api/adminUsers.ts","components/NotificationsProvider.tsx"],"names":["WarningIcon","React","forwardRef","props","ref","className","fontSize","Input","error","ground","classes","base","spellCheck","title","placement","Confirm","confirmation","proceed","useState","show","setShow","onMouseDown","style","zIndex","maxWidth","e","stopPropagation","onClick","confirm","createConfirmation","confirmable","LoadingManager","loader","interval","setInterval","el","document","getElementById","clearInterval","this","classList","remove","add","CommandsController","history","lastCommand","busy","command","a","slice","push","execute","undo","hide","length","Command","AddDocument","collectionId","data","docId","addDocument","res","queryClient","invalidateQueries","deleteDocument","UpdateDocument","newData","updateDocument","DeleteDocument","DeleteMultipleDocuments","Promise","all","map","x","CollectionsManager","controller","redo","documents","options","signal","getCollection","rootReducer","combineReducers","configState","state","initalConfigState","action","type","payload","configKeys","initialConfigKeys","update","available","gitName","gitRepo","user","initialUser","collectionTypes","fields","filter","loading","appearance","saved","items","documentChanged","store","createStore","composeWithDevTools","getAuthHeader","getState","token","orderBy","startAt","startAfter","where","limit","populateRef","url","window","location","origin","fetch","headers","Authorization","then","json","catch","code","toString","doc","method","body","JSON","stringify","getDocument","collectionType","resolve","username","email","adminSdkState","isAdminSet","isAppCreated","checkCompleted","firestoreWorks","authWorks","updateAvailable","netlifyAccessToken","siteId","projectId","firebaseAppApiKey","TasksManagerClass","keys","COLORS_AMOUNT","applyAppearance","fetchSiteId","check","readNetlifyToken","initializeFirebase","fetchAppearance","fetchCollectionTypes","tryParseNetlifyToken","tryParseUserToken","checkIfUpdateAvailable","checkAdminSdkState","_testFirestore","_testAuthentication","checkIfAdminIsCreated","updateState","console","log","key","value","dispatch","vals","notify","createSuperAdmin","details","variant","TasksManager","setUser","onLogin","firebaseToken","values","login","signInWithCustomToken","getAuth","er","toJSON","adminKeysJson","updateEnvVariables","FIREBASE_ADMIN_CREDENTIAL","APP_SECRET","cryptoRandomString","PROJECT_ID","project_id","buildSite","reload","getEnv","currentEnv","getSite","site","adminCredentialString","build_settings","env","sdkJsonInBuild","parse","newAdminState","myApp","myAppPublishTime","repoUrl","urlParts","split","fireckApp","fireckAppPublishTime","setUpdate","localStorage","getItem","updateKeys","hash","includes","handleAccessToken","setItem","URLSearchParams","search","get","testFirestore","testAuthentication","initializeApp","isSuperAdminSet","aggregated","forEach","generateCssClass","darken","hover","focus","simple","Object","some","w","generate","createElement","innerHTML","getElementsByTagName","appendChild","colors","Array","fill","i","index","documentElement","setProperty","envRes","SITE_ID","Button","rest","padding","minWidth","borderRadius","classNames","_path","_excluded","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgWebhook","_ref","svgRef","titleId","width","height","viewBox","xmlns","id","d","_rect","_path2","_path3","ForwardRef","Section","section","onCloseMenu","useHistory","useLocation","setSearch","searchON","setSearchON","placeholder","onChange","persist","name","searchable","onAdd","maxHeight","scroll","autoHide","subitems","toLowerCase","item","ButtonBase","path","pathname","icon","Menu","showSystemCollections","useSelector","collections","logo","find","shallowEqual","isSystem","single","BrushRounded","PanoramaRounded","PersonRounded","VpnKeyRounded","Webhook","Palette","ImportExportRounded","alt","src","Logo","ind","ResponsiveMenu","setMenuOpened","menuOpened","Drawer","open","onClose","anchor","TopBar","match","matchPath","exact","strict","collectionName","params","goBack","decodeURI","ReadNetlifyToken","lazy","CollectionTypes","Collection","CollectionDocument","Media","Roles","Appearance","ImportExport","Emails","Webhooks","Users","Pages","routes","component","render","SvgDropzone","y","rx","stroke","strokeWidth","strokeDasharray","MyDropzone","onFiles","accept","multiple","disabled","onDrop","useCallback","acceptedFiles","useDropzone","getRootProps","getInputProps","SvgFolder","connector","connect","ownProps","setConnections","serviceAccountFile","setServiceAccountFile","Dropzone","files","reader","FileReader","onload","result","connectAdminSdk","readAsText","AuthorizeNetlify","LinearProgress","colorPrimary","barColorPrimary","color","frameBorder","allow","allowFullScreen","AdminCreation","useNotify","useFormik","onSubmit","_createSuperAdmin","initialValues","password","confirmationPassword","subscribeEmails","validationSchema","yup","shape","test","val","parent","required","errors","submitCount","isSubmitting","handleSubmit","handleChange","checked","Login","_login","Loader","size","normal","small","tiny","large","cx","cy","r","strokeMiterlimit","FirestorePage","rel","href","ToDos","onCreateAdmin","onCreateApp","setLoading","toDos","btnTitle","createApp","apiKey","UpdateAppWidget","LoadingIndicator","PageLoader","pageTopRef","useRef","isTopVisible","setIsTopVisible","openAdminCreation","setOpenAdminCreation","useEffect","initTasks","Firebase","inView","current","scrollIntoView","behavior","fallback","Firestore","Modal","hideBackdrop","RouteLeaveGuard","when","currLocation","nextLocation","endsWith","isActive","onCancel","onConfirm","Boolean","hostname","QueryClient","defaultOptions","queries","refetchOnWindowFocus","ReactDOM","StrictMode","NotificationsProvider","client","Cypress","navigator","serviceWorker","ready","registration","unregister","message","appUrl","Math","random","setToken","response","replace","reduce","pair","keyValue","access_token","newEnv","accessToken","formatBytes","b","c","floor","parseFloat","pow","toFixed","getFileExtension","file","mime","extension","pop","uncapitalize","string","charAt","properties","apiUrl","superAdmin","credentials","variantSuccess","variantError","variantWarning","variantInfo","anchorOrigin","vertical","horizontal","useSnackbar","enqueueSnackbar"],"mappings":"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","file":"static/js/main.f846edd3.chunk.js","sourcesContent":["import ErrorRounded from \"@mui/icons-material/ErrorRounded\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport React, { InputHTMLAttributes } from \"react\";\r\nimport { GroundType } from \"utils/types\";\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <ErrorRounded className=\"text-red-500 text-xl\" fontSize=\"inherit\"></ErrorRounded>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  className?: string;\r\n  error?: string | boolean;\r\n  ground: GroundType;\r\n}\r\n\r\nconst Input: React.FC<InputProps> = ({ className = \"\", error, ground, ...props }) => {\r\n  const classes = {\r\n    base: `input${ground}Background input${ground}HoverBackground input${ground}HoverTextColor input${ground}FocusedBorderColor input${ground}FocusedBackground input${ground}FocusedTextColor`,\r\n    error: \"border-red-FF0000\",\r\n  };\r\n\r\n  return (\r\n    <div className={\"relative flex items-center \" + className}>\r\n      <input\r\n        className={`px-3 focus:border-2 h-full border-solid w-full placeholder-gray-500 rounded outline-none ${\r\n          error ? classes.error : classes.base\r\n        }`}\r\n        {...props}\r\n        spellCheck={false}\r\n      ></input>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { confirmable, createConfirmation } from \"react-confirm\";\r\nimport Button from \"components/Button\";\r\nimport { useState } from \"react\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\n\r\nexport interface ConfirmProps {\r\n  proceed: ((value?: string | undefined) => void) & ((value?: boolean | undefined) => void);\r\n  confirmation: string;\r\n}\r\n\r\nconst Confirm: React.FC<ConfirmProps> = ({ confirmation, proceed }) => {\r\n  const [show, setShow] = useState(true); // for some reason after cancelling, popup closes with delay.\r\n\r\n  return show ? (\r\n    <div\r\n      onMouseDown={() => {\r\n        proceed(false);\r\n        setShow(false);\r\n      }}\r\n      className=\"flex fixed left-0 top-0 w-full h-full bg-black bg-opacity-40 overflow-auto p-7\"\r\n      style={{ zIndex: 5000 }}\r\n    >\r\n      <div\r\n        style={{ maxWidth: 348 }}\r\n        className=\"bg-white rounded-md p-7 m-auto relative w-full animate-littlemoveup\"\r\n        onMouseDown={(e) => e.stopPropagation()}\r\n      >\r\n        <CloseRounded\r\n          onClick={() => {\r\n            proceed(false);\r\n            setShow(false);\r\n          }}\r\n          className=\"absolute right-0 top-0 cursor-pointer\"\r\n        ></CloseRounded>\r\n        <div className=\"mb-4 text-22px font-medium\">{confirmation}</div>\r\n        <div className=\"mb-12 text-sm font-medium\">Action is irreversible</div>\r\n        <div className=\"flex justify-between\">\r\n          <Button\r\n            data-testid=\"dialog-cancel-btn\"\r\n            className=\"secondaryBackground buttonSecondaryTextColor rounded mr-7 px-6 h-28px min-w-unset\"\r\n            onClick={() => {\r\n              proceed(false);\r\n              setShow(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            data-testid=\"dialog-confirm-btn\"\r\n            className=\"primaryBackground buttonPrimaryTextColor px-6 h-28px min-w-unset\"\r\n            onClick={() => {\r\n              proceed(true);\r\n              setShow(false);\r\n            }}\r\n          >\r\n            Confirm\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport const confirm = createConfirmation(confirmable(Confirm));\r\n\r\nexport default Confirm;\r\n","class LoadingManagerClass {\r\n  loader: HTMLElement | undefined;\r\n\r\n  constructor() {\r\n    let interval = setInterval(() => {\r\n      let el = document.getElementById(\"loading-indicator\");\r\n      if (el) {\r\n        clearInterval(interval);\r\n        this.loader = el;\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  show() {\r\n    this.loader?.classList.remove(\"-translate-y-14\");\r\n  }\r\n\r\n  hide() {\r\n    this.loader?.classList.add(\"-translate-y-14\");\r\n  }\r\n}\r\n\r\nconst LoadingManager = new LoadingManagerClass();\r\n\r\nexport default LoadingManager;\r\n","import { Command } from \"utils/classes/Command\";\r\nimport LoadingManager from \"facades/LoadingManager\";\r\n\r\nexport class CommandsController {\r\n  history: Command[] = [];\r\n  lastCommand: number = -1;\r\n  busy = false;\r\n\r\n  async execute(command: Command) {\r\n    if (!this.busy) {\r\n      this.busy = true;\r\n      this.history = this.history.slice(0, this.lastCommand + 1);\r\n      this.history.push(command);\r\n      this.lastCommand++;\r\n      await this.history[this.lastCommand].execute();\r\n      this.busy = false;\r\n    }\r\n  }\r\n  async undo() {\r\n    if (!this.busy) {\r\n      this.busy = true;\r\n      LoadingManager.show();\r\n      if (this.lastCommand >= 0) {\r\n        await this.history[this.lastCommand].undo();\r\n        this.lastCommand--;\r\n      }\r\n      LoadingManager.hide();\r\n      this.busy = false;\r\n    }\r\n  }\r\n\r\n  async redo() {\r\n    if (!this.busy) {\r\n      this.busy = true;\r\n      LoadingManager.show();\r\n      if (this.lastCommand < this.history.length - 1) {\r\n        this.lastCommand++;\r\n        await this.history[this.lastCommand].execute();\r\n      }\r\n      LoadingManager.hide();\r\n      this.busy = false;\r\n    }\r\n  }\r\n}\r\n","export abstract class Command {\r\n  execute() {}\r\n  undo() {}\r\n}\r\n","import { addDocument, deleteDocument } from \"api/collections\";\r\nimport { queryClient } from \"index\";\r\nimport { Command } from \"utils/classes/Command\";\r\n\r\nexport class AddDocument extends Command {\r\n  collectionId: string;\r\n  data: any;\r\n  docId = \"\";\r\n\r\n  constructor(collectionId: string, data: any) {\r\n    super();\r\n    this.collectionId = collectionId;\r\n    this.data = data;\r\n  }\r\n\r\n  async execute() {\r\n    const res = await addDocument(this.collectionId, this.data);\r\n    if (!res.error) {\r\n      this.docId = res.docId;\r\n    }\r\n    await queryClient.invalidateQueries(this.collectionId);\r\n  }\r\n  async undo() {\r\n    if (!this.docId) return;\r\n    await deleteDocument(this.collectionId, this.docId);\r\n    await queryClient.invalidateQueries(this.collectionId);\r\n  }\r\n}\r\n","import { updateDocument } from \"api/collections\";\r\nimport { queryClient } from \"index\";\r\nimport { Command } from \"utils/classes/Command\";\r\nimport { Document } from \"utils/interfaces\";\r\n\r\nexport class UpdateDocument extends Command {\r\n  data: Document;\r\n  newData: any;\r\n  collectionId: string;\r\n\r\n  constructor(collectionId: string, data: Document, newData: any) {\r\n    super();\r\n    this.collectionId = collectionId;\r\n    this.data = data;\r\n    this.newData = newData;\r\n  }\r\n\r\n  async undo() {\r\n    await updateDocument(this.collectionId, this.data.docId, this.data);\r\n    await queryClient.invalidateQueries(this.collectionId);\r\n  }\r\n  async execute() {\r\n    await updateDocument(this.collectionId, this.data.docId, this.newData);\r\n    await queryClient.invalidateQueries(this.collectionId);\r\n  }\r\n}\r\n","import { addDocument, deleteDocument } from \"api/collections\";\r\nimport { queryClient } from \"index\";\r\nimport { Command } from \"utils/classes/Command\";\r\n\r\nexport class DeleteDocument extends Command {\r\n  collectionId: string;\r\n  data: any;\r\n  docId = \"\";\r\n\r\n  constructor(collectionId: string, docId: string) {\r\n    super();\r\n    this.collectionId = collectionId;\r\n    this.docId = docId;\r\n  }\r\n\r\n  async undo() {\r\n    await addDocument(this.collectionId, { ...this.data, docId: this.docId });\r\n    await queryClient.invalidateQueries(this.collectionId);\r\n  }\r\n  async execute() {\r\n    await deleteDocument(this.collectionId, this.docId);\r\n    await queryClient.invalidateQueries(this.collectionId);\r\n  }\r\n}\r\n","import { addDocument, deleteDocument } from \"api/collections\";\r\nimport { queryClient } from \"index\";\r\nimport { Command } from \"utils/classes/Command\";\r\nimport { Document } from \"utils/interfaces\";\r\n\r\nexport class DeleteMultipleDocuments extends Command {\r\n  collectionId: string;\r\n  data: Document[];\r\n\r\n  constructor(collectionId: string, data: Document[]) {\r\n    super();\r\n    this.collectionId = collectionId;\r\n    this.data = data;\r\n  }\r\n\r\n  async undo() {\r\n    await Promise.all(\r\n      this.data.map((x) => addDocument(this.collectionId, { ...x, docId: x.docId }))\r\n    );\r\n    await queryClient.invalidateQueries(this.collectionId);\r\n  }\r\n  async execute() {\r\n    await Promise.all(this.data.map((x) => deleteDocument(this.collectionId, x.docId)));\r\n    await queryClient.invalidateQueries(this.collectionId);\r\n  }\r\n}\r\n","import { Document } from \"utils/interfaces\";\r\nimport { CommandsController } from \"utils/classes/CommandsController\";\r\nimport { AddDocument } from \"commands/AddDocument\";\r\nimport { UpdateDocument } from \"commands/UpdateDocument\";\r\nimport { DeleteDocument } from \"commands/DeleteDocument\";\r\nimport { DeleteMultipleDocuments } from \"commands/DeleteMultipleDocuments\";\r\nimport { GetCollectionOptions } from \"utils/interfaces\";\r\nimport { getCollection } from \"api/collections\";\r\n\r\nexport class CollectionsManagerClass {\r\n  controller = new CommandsController();\r\n\r\n  undo() {\r\n    this.controller.undo();\r\n  }\r\n  redo() {\r\n    this.controller.redo();\r\n  }\r\n\r\n  addDocument(collectionId: string, data: any) {\r\n    return this.controller.execute(new AddDocument(collectionId, data));\r\n  }\r\n\r\n  deleteDocument(collectionId: string, docId: string) {\r\n    this.controller.execute(new DeleteDocument(collectionId, docId));\r\n  }\r\n\r\n  deleteMultipleDocuments(collectionId: string, documents: Document[]) {\r\n    this.controller.execute(new DeleteMultipleDocuments(collectionId, documents));\r\n  }\r\n\r\n  updateDocument(collectionId: string, document: Document, newData: any) {\r\n    return this.controller.execute(new UpdateDocument(collectionId, document, newData));\r\n  }\r\n\r\n  getCollection(options: GetCollectionOptions, signal?: AbortSignal) {\r\n    const { collectionId } = options;\r\n    return getCollection({ ...options }, signal);\r\n  }\r\n}\r\n\r\nconst CollectionsManager = new CollectionsManagerClass();\r\n\r\nexport default CollectionsManager;\r\n","import { createStore, combineReducers } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { CollectionType } from \"api/collectionTypes\";\r\nimport { ApperanceItem } from \"pages/Appearance\";\r\nimport {\r\n  ConfigKeys,\r\n  ConfigState,\r\n  initalConfigState,\r\n  initialConfigKeys,\r\n  Update,\r\n} from \"facades/TasksManager\";\r\nimport { initialUser } from \"facades/TasksManager\";\r\nimport { Document } from \"utils/interfaces\";\r\n\r\nexport interface User {\r\n  username: string;\r\n  token: string;\r\n  email: string;\r\n}\r\n\r\nfunction userReducer(state = initialUser, action: any): User {\r\n  switch (action.type) {\r\n    case \"SET_USER\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const SystemCollectionIds = [\r\n  \"EmailTemplatesReservedCollection\",\r\n  \"RolesReservedCollection\",\r\n  \"FilesReservedCollection\",\r\n  \"CollectionTypesReservedCollection\",\r\n];\r\n\r\nfunction collectionTypesReducer(\r\n  state = [] as CollectionType[],\r\n  action: any\r\n): Array<CollectionType> {\r\n  switch (action.type) {\r\n    case \"SET_COLLECTION_TYPES\":\r\n      return action.payload;\r\n    case \"UPDATE_COLLECTION_FIELDS\":\r\n      return state.map((x) => (x.docId === action.docId ? { ...x, fields: action.payload } : x));\r\n    case \"UPDATE_COLLECTION_TYPE\":\r\n      return state.map((x) => (x.docId === action.docId ? { ...x, ...action.payload } : x));\r\n    case \"ADD_COLLECTION_TYPE\":\r\n      return [...state, action.payload];\r\n    case \"DELETE_COLLECTION_TYPE\":\r\n      return state.filter((x) => x.docId !== action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction loadingReducer(state = false, action: any): boolean | string {\r\n  switch (action.type) {\r\n    case \"SET_LOADING\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ninterface AppearanceState {\r\n  saved: boolean;\r\n  items: ApperanceItem[];\r\n}\r\n\r\nfunction appearanceReducer(\r\n  state: AppearanceState = { saved: true, items: [] },\r\n  action: any\r\n): AppearanceState {\r\n  switch (action.type) {\r\n    case \"SET_APPEARANCE\":\r\n      return { items: action.payload, saved: false };\r\n    case \"SET_APPEARANCE_SAVED\":\r\n      return { ...state, saved: true };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction documentChangedReducer(state = false, action: any) {\r\n  switch (action.type) {\r\n    case \"SET_DOCUMENT_CHANGED\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction configStateReducer(state: ConfigState = initalConfigState, action: any) {\r\n  switch (action.type) {\r\n    case \"SET_CONFIG_STATE\":\r\n      return { ...state, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction configKeysReducer(state: ConfigKeys = initialConfigKeys, action: any): ConfigKeys {\r\n  switch (action.type) {\r\n    case \"SET_CONFIG_KEYS\":\r\n      return { ...state, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction updateReducer(\r\n  state: Update = { available: false, gitName: \"\", gitRepo: \"\" },\r\n  action: any\r\n): Update {\r\n  switch (action.type) {\r\n    case \"SET_UPDATE\":\r\n      return { ...state, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n  configState: configStateReducer,\r\n  configKeys: configKeysReducer,\r\n  update: updateReducer,\r\n  user: userReducer,\r\n  collectionTypes: collectionTypesReducer,\r\n  loading: loadingReducer,\r\n  appearance: appearanceReducer,\r\n  documentChanged: documentChangedReducer,\r\n});\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools());\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport default store;\r\n","import store from \"store\";\r\nimport { GetCollectionOptions } from \"utils/interfaces\";\r\n\r\nconst getAuthHeader = () => {\r\n  const user = store.getState().user;\r\n  const token = user ? user.token : null;\r\n  return \"Bearer \" + token;\r\n};\r\n\r\nexport const getCollection = (\r\n  {\r\n    collectionId,\r\n    orderBy,\r\n    startAt,\r\n    startAfter,\r\n    where,\r\n    limit = 10,\r\n    populateRef = true,\r\n  }: GetCollectionOptions,\r\n  signal?: AbortSignal\r\n) => {\r\n  const url = `${\r\n    window.location.origin\r\n  }/api/${collectionId}?limit=${limit}&populateRef=${populateRef}${\r\n    orderBy ? `&orderBy=${orderBy}` : \"\"\r\n  }${startAt ? `&startAt=${startAt}` : startAfter ? `&startAfter=${startAfter}` : \"\"}${\r\n    where ? `&where=${where}` : \"\"\r\n  }`;\r\n  return fetch(url, {\r\n    headers: { Authorization: getAuthHeader() },\r\n    signal,\r\n  })\r\n    .then((x) => x.json())\r\n    .catch((error: any) => {\r\n      if (error.code && error.code === 20) {\r\n        return { error: \"aborted\" };\r\n      }\r\n      return { error: error.toString() };\r\n    });\r\n};\r\n\r\nexport const addDocument = (collectionId: string, doc: { [index: string]: any }) => {\r\n  try {\r\n    return fetch(window.location.origin + `/api/${collectionId}`, {\r\n      method: \"POST\",\r\n      headers: { Authorization: getAuthHeader() },\r\n      body: JSON.stringify(doc),\r\n    }).then((x) => x.json());\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n\r\nexport const deleteDocument = (collectionId: string, docId: string) => {\r\n  try {\r\n    return fetch(window.location.origin + `/api/${collectionId}/${docId}`, {\r\n      method: \"DELETE\",\r\n      headers: { Authorization: getAuthHeader() },\r\n    }).then((x) => x.json());\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n\r\nexport const getDocument = (collectionId: string, docId: string) => {\r\n  try {\r\n    return fetch(\r\n      window.location.origin + `/api/${collectionId}${docId ? `/${docId}` : \"\"}?populateRef=false`,\r\n      {\r\n        headers: { Authorization: getAuthHeader() },\r\n      }\r\n    ).then((x) => x.json());\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n\r\nexport const updateDocument = (\r\n  collectionType: string,\r\n  docId: string,\r\n  doc: { [index: string]: any }\r\n) => {\r\n  try {\r\n    return fetch(window.location.origin + `/api/${collectionType}/${docId}`, {\r\n      method: \"PUT\",\r\n      headers: { Authorization: getAuthHeader() },\r\n      body: JSON.stringify(doc),\r\n    }).then((x) => x.json());\r\n  } catch (error) {\r\n    return Promise.resolve({ error });\r\n  }\r\n};\r\n","import { buildSite, getEnv, getSite, handleAccessToken, updateEnvVariables } from \"api/netlify\";\r\nimport store, { User } from \"store\";\r\nimport { getFirebaseAppConfig } from \"api/firebaseApp\";\r\nimport {\r\n  createSuperAdmin,\r\n  isSuperAdminSet,\r\n  testAuthentication,\r\n  testFirestore,\r\n} from \"api/adminUsers\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getCollection, getDocument } from \"api/collections\";\r\nimport { login } from \"api/adminUsers\";\r\nimport { getAuth, signInWithCustomToken } from \"firebase/auth\";\r\nimport cryptoRandomString from \"crypto-random-string\";\r\nimport { darken } from \"polished\";\r\nimport { generateCssClass } from \"helper\";\r\n\r\nexport const initialUser = {\r\n  username: \"\",\r\n  token: process.env.NODE_ENV === \"development\" ? \"developing\" : \"\",\r\n  email: \"\",\r\n};\r\n\r\nexport type ConfigState = {\r\n  checkCompleted: boolean;\r\n  isAdminSet: boolean;\r\n  isAppCreated: boolean;\r\n  adminSdkState: ConnectionState;\r\n  firestoreWorks: boolean;\r\n  authWorks: boolean;\r\n  updateAvailable: boolean;\r\n};\r\n\r\nexport type ConfigKeys = {\r\n  netlifyAccessToken: string;\r\n  siteId: string;\r\n  projectId: string;\r\n  firebaseAppApiKey: string;\r\n};\r\n\r\nexport const initalConfigState: ConfigState = {\r\n  adminSdkState: \"not connected\",\r\n  isAdminSet: false,\r\n  isAppCreated: false,\r\n  checkCompleted: false,\r\n  firestoreWorks: false,\r\n  authWorks: false,\r\n  updateAvailable: false,\r\n};\r\n\r\nexport const initialConfigKeys = {\r\n  netlifyAccessToken: \"\",\r\n  siteId: \"\",\r\n  projectId: \"\",\r\n  firebaseAppApiKey: \"\",\r\n};\r\n\r\nexport type ConnectionState = \"connected\" | \"not connected\" | \"building\";\r\n\r\nexport type Update = { available: boolean; gitName: string; gitRepo: string };\r\n\r\nclass TasksManagerClass {\r\n  state: ConfigState = initalConfigState;\r\n  keys: ConfigKeys = initialConfigKeys;\r\n  user: User = initialUser;\r\n  update: Update = { available: false, gitName: \"\", gitRepo: \"\" };\r\n  COLORS_AMOUNT = 5;\r\n\r\n  async initTasks() {\r\n    this.applyAppearance();\r\n    await this.fetchSiteId();\r\n    this.check();\r\n    this.readNetlifyToken();\r\n    this.initializeFirebase();\r\n    this.fetchAppearance();\r\n    this.fetchCollectionTypes();\r\n    this.tryParseNetlifyToken();\r\n    this.tryParseUserToken();\r\n    this.checkIfUpdateAvailable();\r\n  }\r\n\r\n  check() {\r\n    Promise.all([\r\n      this.checkAdminSdkState(),\r\n      this._testFirestore(),\r\n      this._testAuthentication(),\r\n      this.checkIfAdminIsCreated(),\r\n    ])\r\n      .then(() => {\r\n        this.updateState(\"checkCompleted\", true);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  updateState<Key extends keyof ConfigState>(key: Key, value: ConfigState[Key]) {\r\n    this.state[key] = value;\r\n    store.dispatch({ type: \"SET_CONFIG_STATE\", payload: this.state });\r\n  }\r\n\r\n  updateKeys<Key extends keyof ConfigKeys>(key: Key, value: ConfigKeys[Key]) {\r\n    this.keys[key] = value;\r\n    store.dispatch({ type: \"SET_CONFIG_KEYS\", payload: this.keys });\r\n  }\r\n\r\n  setUser(user: User) {\r\n    this.user = user;\r\n    store.dispatch({ type: \"SET_USER\", payload: user });\r\n  }\r\n\r\n  setUpdate(update: Update) {\r\n    this.update = update;\r\n    store.dispatch({ type: \"SET_UPDATE\", payload: update });\r\n  }\r\n\r\n  async _createSuperAdmin(vals: any, notify: any) {\r\n    const res = await createSuperAdmin(vals);\r\n    if (!res.error) {\r\n      TasksManager.updateState(\"isAdminSet\", true);\r\n      this.setUser(res);\r\n      this.onLogin(res.firebaseToken);\r\n      notify(\"Admin successfully created!\", { variant: \"success\" });\r\n    } else {\r\n      notify(\r\n        typeof res.error === \"string\"\r\n          ? res.error\r\n          : (res.error.details || \"Erorr occured\").toString(),\r\n        {\r\n          variant: \"error\",\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  async _login(values: { email: string; password: string }, notify: any) {\r\n    const res = await login(values);\r\n    if (!res.error) {\r\n      this.setUser(res);\r\n      this.onLogin(res.firebaseToken);\r\n    } else {\r\n      notify(res.error, { variant: \"error\" });\r\n    }\r\n  }\r\n\r\n  onLogin(firebaseToken?: string) {\r\n    if (firebaseToken) {\r\n      signInWithCustomToken(getAuth(), firebaseToken).catch((er: any) => {\r\n        console.log(er.toJSON());\r\n      });\r\n    }\r\n\r\n    this.fetchCollectionTypes();\r\n    this.fetchAppearance();\r\n  }\r\n\r\n  async connectAdminSdk(adminKeysJson: { [key: string]: string }) {\r\n    await updateEnvVariables({\r\n      FIREBASE_ADMIN_CREDENTIAL: JSON.stringify(adminKeysJson),\r\n      APP_SECRET: cryptoRandomString({ length: 100 }),\r\n      PROJECT_ID: adminKeysJson.project_id,\r\n    });\r\n    await buildSite();\r\n    this.checkAdminSdkState();\r\n    const interval = setInterval(async () => {\r\n      await this.checkAdminSdkState();\r\n      if (this.state.adminSdkState === \"connected\") {\r\n        clearInterval(interval);\r\n        window.location.reload();\r\n      }\r\n    }, 5000);\r\n  }\r\n\r\n  async checkAdminSdkState() {\r\n    if (\r\n      (this.state.adminSdkState !== \"connected\" && this.keys.siteId, this.keys.netlifyAccessToken)\r\n    ) {\r\n      const currentEnv = await getEnv();\r\n      //get env exposes only PROJECT_ID and some other variables which are not sensitive\r\n      const site = await getSite(this.keys.siteId, this.keys.netlifyAccessToken);\r\n      const adminCredentialString = site.build_settings?.env?.FIREBASE_ADMIN_CREDENTIAL;\r\n      const sdkJsonInBuild = adminCredentialString ? JSON.parse(adminCredentialString) : null;\r\n      if (!sdkJsonInBuild) return;\r\n      const newAdminState =\r\n        currentEnv.PROJECT_ID && currentEnv.PROJECT_ID === sdkJsonInBuild.project_id\r\n          ? \"connected\"\r\n          : sdkJsonInBuild.project_id\r\n          ? \"building\"\r\n          : \"not connected\";\r\n      this.updateState(\"adminSdkState\", newAdminState);\r\n    }\r\n  }\r\n\r\n  async checkIfUpdateAvailable() {\r\n    const myApp = await fetch(`https://api.netlify.com/api/v1/sites/${this.keys.siteId}`).then(\r\n      (x) => x.json()\r\n    );\r\n    const myAppPublishTime = myApp[\"published_deploy\"][\"published_at\"];\r\n\r\n    const repoUrl = myApp[\"repo_url\"];\r\n    const urlParts = repoUrl.split(\"/\");\r\n    let gitName = urlParts[urlParts.length - 2];\r\n    let gitRepo = urlParts[urlParts.length - 1];\r\n\r\n    const fireckApp = await fetch(\r\n      \"https://api.netlify.com/api/v1/sites/a93410c4-4afc-414d-a7a0-5a9a7073815d\"\r\n    ).then((x) => x.json());\r\n\r\n    const fireckAppPublishTime = fireckApp[\"published_deploy\"][\"published_at\"];\r\n    this.setUpdate({ gitName, gitRepo, available: fireckAppPublishTime > myAppPublishTime });\r\n  }\r\n\r\n  readNetlifyToken() {\r\n    const netlifyAccessToken = localStorage.getItem(\"netlify-access-token-for-fireck\");\r\n    if (netlifyAccessToken != null) {\r\n      this.updateKeys(\"netlifyAccessToken\", netlifyAccessToken);\r\n    }\r\n  }\r\n\r\n  tryParseNetlifyToken() {\r\n    if (window.location.hash.includes(\"access_token=\")) {\r\n      handleAccessToken(window.location.hash, (token: string) => {\r\n        localStorage.setItem(\"netlify-access-token-for-fireck\", token);\r\n        this.updateKeys(\"netlifyAccessToken\", token);\r\n      });\r\n    }\r\n  }\r\n\r\n  tryParseUserToken() {\r\n    const search = new URLSearchParams(window.location.search);\r\n    let token = search.get(\"user-token\");\r\n    if (token) {\r\n      this.setUser({ token, username: \"\", email: \"\" });\r\n      this.onLogin();\r\n    }\r\n  }\r\n\r\n  _testFirestore() {\r\n    return testFirestore().then((res) => {\r\n      if (res.error) {\r\n        return;\r\n      }\r\n\r\n      this.updateState(\"firestoreWorks\", true);\r\n    });\r\n  }\r\n\r\n  _testAuthentication() {\r\n    return testAuthentication().then((res) => {\r\n      if (res.error) {\r\n        return;\r\n      }\r\n      this.updateState(\"authWorks\", true);\r\n    });\r\n  }\r\n\r\n  initializeFirebase() {\r\n    getFirebaseAppConfig().then((res) => {\r\n      if (res.error) return;\r\n      initializeApp(res);\r\n      this.updateState(\"isAppCreated\", true);\r\n    });\r\n  }\r\n\r\n  checkIfAdminIsCreated() {\r\n    return isSuperAdminSet().then((res) => {\r\n      if (res.error) return;\r\n      this.updateState(\"isAdminSet\", res);\r\n      this.updateState(\"adminSdkState\", \"connected\");\r\n    });\r\n  }\r\n\r\n  async applyAppearance() {\r\n    let appearance: { [key: string]: string } = await getDocument(\r\n      \"AppearanceReservedCollection\",\r\n      \"\"\r\n    );\r\n\r\n    if (appearance.error) {\r\n      console.log(appearance.error);\r\n    } else {\r\n      let aggregated = \"\";\r\n\r\n      [\"primary\", \"secondary\", \"utility\", \"danger\"].forEach((x) => {\r\n        if (appearance[x]) {\r\n          aggregated += generateCssClass(`${x}Background`, [\"background\"], [appearance[x]]);\r\n          aggregated += generateCssClass(\r\n            `${x}Background:hover`,\r\n            [\"background\"],\r\n            [darken(0.05, appearance[x])]\r\n          );\r\n          aggregated += generateCssClass(\r\n            `${x}FocusedBorderColor:focus`,\r\n            [\"border-color\"],\r\n            [appearance[x]]\r\n          );\r\n          aggregated += generateCssClass(`${x}BorderColor`, [\"border-color\"], [appearance[x]]);\r\n          aggregated += generateCssClass(`${x}TextColor`, [\"color\"], [appearance[x]]);\r\n          aggregated += generateCssClass(`${x}Background`, [\"background\"], [appearance[x]]);\r\n          aggregated += generateCssClass(`${x}Stroke`, [\"stroke\"], [appearance[x]]);\r\n        }\r\n      });\r\n      let hover: string[] = [],\r\n        focus: string[] = [],\r\n        simple: string[] = [];\r\n\r\n      Object.keys(appearance).forEach((x) => {\r\n        if ([\"TextColor\", \"Background\", \"BorderColor\"].some((w) => x.includes(w))) {\r\n          if (x.includes(\"Hover\")) {\r\n            hover.push(x);\r\n          } else if (x.includes(\"Focus\")) {\r\n            focus.push(x);\r\n          } else {\r\n            simple.push(x);\r\n          }\r\n        }\r\n      });\r\n      const generate = (className: string) => {\r\n        aggregated += generateCssClass(\r\n          `${className}${\r\n            className.includes(\"Hover\") ? \":hover\" : className.includes(\"Focus\") ? \":focus\" : \"\"\r\n          }`,\r\n          [\r\n            className.includes(\"TextColor\")\r\n              ? \"color\"\r\n              : className.includes(\"Background\")\r\n              ? \"background\"\r\n              : className.includes(\"BorderColor\")\r\n              ? \"border-color\"\r\n              : \"\",\r\n          ],\r\n          [appearance[className]]\r\n        );\r\n      };\r\n\r\n      simple.forEach(generate);\r\n      hover.forEach(generate);\r\n      focus.forEach(generate);\r\n\r\n      var style = document.createElement(\"style\");\r\n      style.type = \"text/css\";\r\n      style.innerHTML = aggregated;\r\n      document.getElementsByTagName(\"head\")[0].appendChild(style);\r\n    }\r\n  }\r\n\r\n  setColors(colors: string[]) {\r\n    if (colors.length === this.COLORS_AMOUNT * 2) {\r\n      new Array(this.COLORS_AMOUNT).fill(0).forEach((x, i) => {\r\n        let index = (i % this.COLORS_AMOUNT) + 1;\r\n        document.documentElement.style.setProperty(`--fireck-${index}`, colors[i]);\r\n        document.documentElement.style.setProperty(\r\n          `--fireck-${index}-hover`,\r\n          colors[this.COLORS_AMOUNT + i]\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  async fetchAppearance() {\r\n    const res = await getCollection({\r\n      collectionId: \"AppearanceReservedCollection\",\r\n      limit: 1000,\r\n    });\r\n    if (!res.error) {\r\n      // store.dispatch({ type: \"SET_APPEARANCE\", payload: res });\r\n      // let colors = res.find((x: ApperanceItem) => x.id === \"colors\")?.value;\r\n      // if (colors) {\r\n      //   this.setColors(colors);\r\n      // }\r\n    }\r\n  }\r\n\r\n  async fetchSiteId() {\r\n    const envRes = await getEnv();\r\n    if (envRes.SITE_ID) {\r\n      this.updateKeys(\"siteId\", envRes.SITE_ID);\r\n    }\r\n  }\r\n\r\n  async fetchCollectionTypes() {\r\n    store.dispatch({ type: \"SET_LOADING\", payload: true });\r\n    let res = await getCollection({\r\n      limit: 1000,\r\n      collectionId: \"CollectionTypesReservedCollection\",\r\n    });\r\n\r\n    if (!res.error) {\r\n      store.dispatch({\r\n        type: \"SET_COLLECTION_TYPES\",\r\n        payload: res,\r\n      });\r\n    }\r\n    store.dispatch({ type: \"SET_LOADING\", payload: false });\r\n  }\r\n}\r\n\r\nexport const TasksManager = new TasksManagerClass();\r\n","export const getFirebaseAppConfig = () => {\r\n  return fetch(window.location.origin + \"/private/app\")\r\n    .then((x) => x.json())\r\n    .catch((error) => ({ error }));\r\n};\r\n","import React, { ButtonHTMLAttributes } from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {}\r\n\r\nconst Button: React.FC<ButtonProps> = ({ className = \"\", ...rest }) => {\r\n  return (\r\n    <button\r\n      {...rest}\r\n      style={{ fontSize: 14, padding: \"0 16px\", minWidth: 120, borderRadius: \"5px\" }}\r\n      className={classNames(\r\n        \"whitespace-nowrap font-medium outline-none select-none focus:outline-none text-center\",\r\n        className\r\n      )}\r\n    ></button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWebhook(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 21,\n    height: 20,\n    viewBox: \"0 0 21 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.34739 17.2676C7.85943 19.3772 4.95485 19.9072 2.8554 18.4396C0.766144 16.972 0.276952 14.0471 1.74453 11.9171C2.63119 10.6431 3.99685 9.9603 5.39308 9.89915L5.44404 11.3565C4.51662 11.4279 3.61976 11.9069 3.03885 12.7426C2.0197 14.2102 2.33563 16.1873 3.73187 17.1759C5.1383 18.1543 7.10526 17.7772 8.12441 16.3198C8.44034 15.8612 8.62379 15.3618 8.69513 14.8522V13.8229L14.382 13.7821L14.4533 13.67C14.9935 12.7324 16.1655 12.4063 17.0827 12.9362C18 13.4662 18.3159 14.6484 17.7758 15.586C17.2356 16.5134 16.0534 16.8396 15.1362 16.3096C14.7183 16.0752 14.4228 15.6981 14.2903 15.2701L10.1423 15.2905C10.0302 15.9733 9.76524 16.6357 9.34739 17.2676ZM16.7668 9.99087C19.3452 10.3068 21.1797 12.6203 20.8638 15.158C20.5478 17.7058 18.2038 19.5097 15.6253 19.1938C14.1068 19.0103 12.8533 18.1441 12.1297 16.9415L13.3934 16.2077C13.8928 16.9924 14.7387 17.553 15.7578 17.6855C17.5413 17.8995 19.121 16.6867 19.3351 14.9847C19.5491 13.2827 18.2853 11.7234 16.5222 11.5094C15.9719 11.4483 15.4419 11.5196 14.9629 11.6929L14.0966 12.1413L11.4672 7.27993H11.243C10.1627 7.23917 9.327 6.35251 9.35758 5.29259C9.38815 4.23268 10.3054 3.40717 11.3755 3.44793C12.4456 3.50908 13.2915 4.37536 13.2609 5.43527C13.2405 5.8837 13.0673 6.29136 12.7921 6.6073L14.7285 10.1845C15.3604 9.98068 16.0534 9.90934 16.7668 9.99087ZM7.09506 7.21879C6.07591 4.82378 7.15621 2.08227 9.51045 1.0835C11.8749 0.0847368 14.6062 1.21599 15.6253 3.61099C16.2266 5.00723 16.1043 6.53595 15.4215 7.75893L14.1578 7.02515C14.5858 6.19964 14.6572 5.19068 14.2495 4.24287C13.5565 2.61223 11.7118 1.82748 10.1321 2.48993C8.54226 3.16257 7.82885 5.03781 8.52187 6.66844C8.80724 7.34108 9.28624 7.86085 9.86715 8.20736L10.2646 8.42138L7.13583 13.5069C7.1664 13.5579 7.20717 13.619 7.23775 13.7006C7.73713 14.628 7.39062 15.8 6.453 16.2994C5.52557 16.7988 4.35355 16.4319 3.84398 15.4739C3.34459 14.5261 3.6911 13.3541 4.62872 12.8547C5.02619 12.6407 5.46442 12.5897 5.88228 12.6814L8.23651 8.83923C7.75751 8.401 7.34985 7.85066 7.09506 7.21879Z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWebhook);\nexport default __webpack_public_path__ + \"static/media/webhook.1a5aa60f.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/logo.177fbf6b.svg\";","var _rect, _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDropzone(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 434,\n    height: 214,\n    viewBox: \"0 0 434 214\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 1.77545,\n    y: 1.14417,\n    width: 431.165,\n    height: 211.399,\n    rx: 12,\n    fill: \"#F3F6FA\",\n    stroke: \"#21B9B0\",\n    strokeWidth: 2,\n    strokeDasharray: \"14 8\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M102.384 139.476C103.716 139.476 104.88 139.734 105.876 140.25C106.884 140.754 107.658 141.486 108.198 142.446C108.75 143.394 109.026 144.504 109.026 145.776C109.026 147.048 108.75 148.152 108.198 149.088C107.658 150.024 106.884 150.744 105.876 151.248C104.88 151.74 103.716 151.986 102.384 151.986H98.2976V139.476H102.384ZM102.384 150.312C103.848 150.312 104.97 149.916 105.75 149.124C106.53 148.332 106.92 147.216 106.92 145.776C106.92 144.324 106.53 143.19 105.75 142.374C104.97 141.558 103.848 141.15 102.384 141.15H100.35V150.312H102.384ZM113.111 143.508C113.411 143.004 113.807 142.614 114.299 142.338C114.803 142.05 115.397 141.906 116.081 141.906V144.03H115.559C114.755 144.03 114.143 144.234 113.723 144.642C113.315 145.05 113.111 145.758 113.111 146.766V151.986H111.059V142.068H113.111V143.508ZM122.27 152.148C121.334 152.148 120.488 151.938 119.732 151.518C118.976 151.086 118.382 150.486 117.95 149.718C117.518 148.938 117.302 148.038 117.302 147.018C117.302 146.01 117.524 145.116 117.968 144.336C118.412 143.556 119.018 142.956 119.786 142.536C120.554 142.116 121.412 141.906 122.36 141.906C123.308 141.906 124.166 142.116 124.934 142.536C125.702 142.956 126.308 143.556 126.752 144.336C127.196 145.116 127.418 146.01 127.418 147.018C127.418 148.026 127.19 148.92 126.734 149.7C126.278 150.48 125.654 151.086 124.862 151.518C124.082 151.938 123.218 152.148 122.27 152.148ZM122.27 150.366C122.798 150.366 123.29 150.24 123.746 149.988C124.214 149.736 124.592 149.358 124.88 148.854C125.168 148.35 125.312 147.738 125.312 147.018C125.312 146.298 125.174 145.692 124.898 145.2C124.622 144.696 124.256 144.318 123.8 144.066C123.344 143.814 122.852 143.688 122.324 143.688C121.796 143.688 121.304 143.814 120.848 144.066C120.404 144.318 120.05 144.696 119.786 145.2C119.522 145.692 119.39 146.298 119.39 147.018C119.39 148.086 119.66 148.914 120.2 149.502C120.752 150.078 121.442 150.366 122.27 150.366ZM131.498 143.526C131.846 143.07 132.32 142.686 132.92 142.374C133.52 142.062 134.198 141.906 134.954 141.906C135.818 141.906 136.604 142.122 137.312 142.554C138.032 142.974 138.596 143.568 139.004 144.336C139.412 145.104 139.616 145.986 139.616 146.982C139.616 147.978 139.412 148.872 139.004 149.664C138.596 150.444 138.032 151.056 137.312 151.5C136.604 151.932 135.818 152.148 134.954 152.148C134.198 152.148 133.526 151.998 132.938 151.698C132.35 151.386 131.87 151.002 131.498 150.546V156.702H129.446V142.068H131.498V143.526ZM137.528 146.982C137.528 146.298 137.384 145.71 137.096 145.218C136.82 144.714 136.448 144.336 135.98 144.084C135.524 143.82 135.032 143.688 134.504 143.688C133.988 143.688 133.496 143.82 133.028 144.084C132.572 144.348 132.2 144.732 131.912 145.236C131.636 145.74 131.498 146.334 131.498 147.018C131.498 147.702 131.636 148.302 131.912 148.818C132.2 149.322 132.572 149.706 133.028 149.97C133.496 150.234 133.988 150.366 134.504 150.366C135.032 150.366 135.524 150.234 135.98 149.97C136.448 149.694 136.82 149.298 137.096 148.782C137.384 148.266 137.528 147.666 137.528 146.982ZM145.637 146.982C145.637 145.986 145.841 145.104 146.249 144.336C146.669 143.568 147.233 142.974 147.941 142.554C148.661 142.122 149.453 141.906 150.317 141.906C151.097 141.906 151.775 142.062 152.351 142.374C152.939 142.674 153.407 143.052 153.755 143.508V142.068H155.825V151.986H153.755V150.51C153.407 150.978 152.933 151.368 152.333 151.68C151.733 151.992 151.049 152.148 150.281 152.148C149.429 152.148 148.649 151.932 147.941 151.5C147.233 151.056 146.669 150.444 146.249 149.664C145.841 148.872 145.637 147.978 145.637 146.982ZM153.755 147.018C153.755 146.334 153.611 145.74 153.323 145.236C153.047 144.732 152.681 144.348 152.225 144.084C151.769 143.82 151.277 143.688 150.749 143.688C150.221 143.688 149.729 143.82 149.273 144.084C148.817 144.336 148.445 144.714 148.157 145.218C147.881 145.71 147.743 146.298 147.743 146.982C147.743 147.666 147.881 148.266 148.157 148.782C148.445 149.298 148.817 149.694 149.273 149.97C149.741 150.234 150.233 150.366 150.749 150.366C151.277 150.366 151.769 150.234 152.225 149.97C152.681 149.706 153.047 149.322 153.323 148.818C153.611 148.302 153.755 147.702 153.755 147.018ZM166.796 152.148C166.016 152.148 165.314 152.01 164.69 151.734C164.078 151.446 163.592 151.062 163.232 150.582C162.872 150.09 162.68 149.544 162.656 148.944H164.78C164.816 149.364 165.014 149.718 165.374 150.006C165.746 150.282 166.208 150.42 166.76 150.42C167.336 150.42 167.78 150.312 168.092 150.096C168.416 149.868 168.578 149.58 168.578 149.232C168.578 148.86 168.398 148.584 168.038 148.404C167.69 148.224 167.132 148.026 166.364 147.81C165.62 147.606 165.014 147.408 164.546 147.216C164.078 147.024 163.67 146.73 163.322 146.334C162.986 145.938 162.818 145.416 162.818 144.768C162.818 144.24 162.974 143.76 163.286 143.328C163.598 142.884 164.042 142.536 164.618 142.284C165.206 142.032 165.878 141.906 166.634 141.906C167.762 141.906 168.668 142.194 169.352 142.77C170.048 143.334 170.42 144.108 170.468 145.092H168.416C168.38 144.648 168.2 144.294 167.876 144.03C167.552 143.766 167.114 143.634 166.562 143.634C166.022 143.634 165.608 143.736 165.32 143.94C165.032 144.144 164.888 144.414 164.888 144.75C164.888 145.014 164.984 145.236 165.176 145.416C165.368 145.596 165.602 145.74 165.878 145.848C166.154 145.944 166.562 146.07 167.102 146.226C167.822 146.418 168.41 146.616 168.866 146.82C169.334 147.012 169.736 147.3 170.072 147.684C170.408 148.068 170.582 148.578 170.594 149.214C170.594 149.778 170.438 150.282 170.126 150.726C169.814 151.17 169.37 151.518 168.794 151.77C168.23 152.022 167.564 152.148 166.796 152.148ZM181.901 146.784C181.901 147.156 181.877 147.492 181.829 147.792H174.251C174.311 148.584 174.605 149.22 175.133 149.7C175.661 150.18 176.309 150.42 177.077 150.42C178.181 150.42 178.961 149.958 179.417 149.034H181.631C181.331 149.946 180.785 150.696 179.993 151.284C179.213 151.86 178.241 152.148 177.077 152.148C176.129 152.148 175.277 151.938 174.521 151.518C173.777 151.086 173.189 150.486 172.757 149.718C172.337 148.938 172.127 148.038 172.127 147.018C172.127 145.998 172.331 145.104 172.739 144.336C173.159 143.556 173.741 142.956 174.485 142.536C175.241 142.116 176.105 141.906 177.077 141.906C178.013 141.906 178.847 142.11 179.579 142.518C180.311 142.926 180.881 143.502 181.289 144.246C181.697 144.978 181.901 145.824 181.901 146.784ZM179.759 146.136C179.747 145.38 179.477 144.774 178.949 144.318C178.421 143.862 177.767 143.634 176.987 143.634C176.279 143.634 175.673 143.862 175.169 144.318C174.665 144.762 174.365 145.368 174.269 146.136H179.759ZM185.973 143.508C186.273 143.004 186.669 142.614 187.161 142.338C187.665 142.05 188.259 141.906 188.943 141.906V144.03H188.421C187.617 144.03 187.005 144.234 186.585 144.642C186.177 145.05 185.973 145.758 185.973 146.766V151.986H183.921V142.068H185.973V143.508ZM194.663 150.15L197.471 142.068H199.649L195.869 151.986H193.421L189.659 142.068H191.855L194.663 150.15ZM202.244 140.754C201.872 140.754 201.56 140.628 201.308 140.376C201.056 140.124 200.93 139.812 200.93 139.44C200.93 139.068 201.056 138.756 201.308 138.504C201.56 138.252 201.872 138.126 202.244 138.126C202.604 138.126 202.91 138.252 203.162 138.504C203.414 138.756 203.54 139.068 203.54 139.44C203.54 139.812 203.414 140.124 203.162 140.376C202.91 140.628 202.604 140.754 202.244 140.754ZM203.252 142.068V151.986H201.2V142.068H203.252ZM205.262 147.018C205.262 145.998 205.466 145.104 205.874 144.336C206.294 143.556 206.87 142.956 207.602 142.536C208.334 142.116 209.174 141.906 210.122 141.906C211.322 141.906 212.312 142.194 213.092 142.77C213.884 143.334 214.418 144.144 214.694 145.2H212.48C212.3 144.708 212.012 144.324 211.616 144.048C211.22 143.772 210.722 143.634 210.122 143.634C209.282 143.634 208.61 143.934 208.106 144.534C207.614 145.122 207.368 145.95 207.368 147.018C207.368 148.086 207.614 148.92 208.106 149.52C208.61 150.12 209.282 150.42 210.122 150.42C211.31 150.42 212.096 149.898 212.48 148.854H214.694C214.406 149.862 213.866 150.666 213.074 151.266C212.282 151.854 211.298 152.148 210.122 152.148C209.174 152.148 208.334 151.938 207.602 151.518C206.87 151.086 206.294 150.486 205.874 149.718C205.466 148.938 205.262 148.038 205.262 147.018ZM225.829 146.784C225.829 147.156 225.805 147.492 225.757 147.792H218.179C218.239 148.584 218.533 149.22 219.061 149.7C219.589 150.18 220.237 150.42 221.005 150.42C222.109 150.42 222.889 149.958 223.345 149.034H225.559C225.259 149.946 224.713 150.696 223.921 151.284C223.141 151.86 222.169 152.148 221.005 152.148C220.057 152.148 219.205 151.938 218.449 151.518C217.705 151.086 217.117 150.486 216.685 149.718C216.265 148.938 216.055 148.038 216.055 147.018C216.055 145.998 216.259 145.104 216.667 144.336C217.087 143.556 217.669 142.956 218.413 142.536C219.169 142.116 220.033 141.906 221.005 141.906C221.941 141.906 222.775 142.11 223.507 142.518C224.239 142.926 224.809 143.502 225.217 144.246C225.625 144.978 225.829 145.824 225.829 146.784ZM223.687 146.136C223.675 145.38 223.405 144.774 222.877 144.318C222.349 143.862 221.695 143.634 220.915 143.634C220.207 143.634 219.601 143.862 219.097 144.318C218.593 144.762 218.293 145.368 218.197 146.136H223.687ZM231.84 146.982C231.84 145.986 232.044 145.104 232.452 144.336C232.872 143.568 233.436 142.974 234.144 142.554C234.864 142.122 235.656 141.906 236.52 141.906C237.3 141.906 237.978 142.062 238.554 142.374C239.142 142.674 239.61 143.052 239.958 143.508V142.068H242.028V151.986H239.958V150.51C239.61 150.978 239.136 151.368 238.536 151.68C237.936 151.992 237.252 152.148 236.484 152.148C235.632 152.148 234.852 151.932 234.144 151.5C233.436 151.056 232.872 150.444 232.452 149.664C232.044 148.872 231.84 147.978 231.84 146.982ZM239.958 147.018C239.958 146.334 239.814 145.74 239.526 145.236C239.25 144.732 238.884 144.348 238.428 144.084C237.972 143.82 237.48 143.688 236.952 143.688C236.424 143.688 235.932 143.82 235.476 144.084C235.02 144.336 234.648 144.714 234.36 145.218C234.084 145.71 233.946 146.298 233.946 146.982C233.946 147.666 234.084 148.266 234.36 148.782C234.648 149.298 235.02 149.694 235.476 149.97C235.944 150.234 236.436 150.366 236.952 150.366C237.48 150.366 237.972 150.234 238.428 149.97C238.884 149.706 239.25 149.322 239.526 148.818C239.814 148.302 239.958 147.702 239.958 147.018ZM244.039 147.018C244.039 145.998 244.243 145.104 244.651 144.336C245.071 143.556 245.647 142.956 246.379 142.536C247.111 142.116 247.951 141.906 248.899 141.906C250.099 141.906 251.089 142.194 251.869 142.77C252.661 143.334 253.195 144.144 253.471 145.2H251.257C251.077 144.708 250.789 144.324 250.393 144.048C249.997 143.772 249.499 143.634 248.899 143.634C248.059 143.634 247.387 143.934 246.883 144.534C246.391 145.122 246.145 145.95 246.145 147.018C246.145 148.086 246.391 148.92 246.883 149.52C247.387 150.12 248.059 150.42 248.899 150.42C250.087 150.42 250.873 149.898 251.257 148.854H253.471C253.183 149.862 252.643 150.666 251.851 151.266C251.059 151.854 250.075 152.148 248.899 152.148C247.951 152.148 247.111 151.938 246.379 151.518C245.647 151.086 245.071 150.486 244.651 149.718C244.243 148.938 244.039 148.038 244.039 147.018ZM254.832 147.018C254.832 145.998 255.036 145.104 255.444 144.336C255.864 143.556 256.44 142.956 257.172 142.536C257.904 142.116 258.744 141.906 259.692 141.906C260.892 141.906 261.882 142.194 262.662 142.77C263.454 143.334 263.988 144.144 264.264 145.2H262.05C261.87 144.708 261.582 144.324 261.186 144.048C260.79 143.772 260.292 143.634 259.692 143.634C258.852 143.634 258.18 143.934 257.676 144.534C257.184 145.122 256.938 145.95 256.938 147.018C256.938 148.086 257.184 148.92 257.676 149.52C258.18 150.12 258.852 150.42 259.692 150.42C260.88 150.42 261.666 149.898 262.05 148.854H264.264C263.976 149.862 263.436 150.666 262.644 151.266C261.852 151.854 260.868 152.148 259.692 152.148C258.744 152.148 257.904 151.938 257.172 151.518C256.44 151.086 255.864 150.486 255.444 149.718C255.036 148.938 254.832 148.038 254.832 147.018ZM270.611 152.148C269.675 152.148 268.829 151.938 268.073 151.518C267.317 151.086 266.723 150.486 266.291 149.718C265.859 148.938 265.643 148.038 265.643 147.018C265.643 146.01 265.865 145.116 266.309 144.336C266.753 143.556 267.359 142.956 268.127 142.536C268.895 142.116 269.753 141.906 270.701 141.906C271.649 141.906 272.507 142.116 273.275 142.536C274.043 142.956 274.649 143.556 275.093 144.336C275.537 145.116 275.759 146.01 275.759 147.018C275.759 148.026 275.531 148.92 275.075 149.7C274.619 150.48 273.995 151.086 273.203 151.518C272.423 151.938 271.559 152.148 270.611 152.148ZM270.611 150.366C271.139 150.366 271.631 150.24 272.087 149.988C272.555 149.736 272.933 149.358 273.221 148.854C273.509 148.35 273.653 147.738 273.653 147.018C273.653 146.298 273.515 145.692 273.239 145.2C272.963 144.696 272.597 144.318 272.141 144.066C271.685 143.814 271.193 143.688 270.665 143.688C270.137 143.688 269.645 143.814 269.189 144.066C268.745 144.318 268.391 144.696 268.127 145.2C267.863 145.692 267.731 146.298 267.731 147.018C267.731 148.086 268.001 148.914 268.541 149.502C269.093 150.078 269.783 150.366 270.611 150.366ZM286.77 142.068V151.986H284.718V150.816C284.394 151.224 283.968 151.548 283.44 151.788C282.924 152.016 282.372 152.13 281.784 152.13C281.004 152.13 280.302 151.968 279.678 151.644C279.066 151.32 278.58 150.84 278.22 150.204C277.872 149.568 277.698 148.8 277.698 147.9V142.068H279.732V147.594C279.732 148.482 279.954 149.166 280.398 149.646C280.842 150.114 281.448 150.348 282.216 150.348C282.984 150.348 283.59 150.114 284.034 149.646C284.49 149.166 284.718 148.482 284.718 147.594V142.068H286.77ZM294.481 141.906C295.261 141.906 295.957 142.068 296.569 142.392C297.193 142.716 297.679 143.196 298.027 143.832C298.375 144.468 298.549 145.236 298.549 146.136V151.986H296.515V146.442C296.515 145.554 296.293 144.876 295.849 144.408C295.405 143.928 294.799 143.688 294.031 143.688C293.263 143.688 292.651 143.928 292.195 144.408C291.751 144.876 291.529 145.554 291.529 146.442V151.986H289.477V142.068H291.529V143.202C291.865 142.794 292.291 142.476 292.807 142.248C293.335 142.02 293.893 141.906 294.481 141.906ZM303.561 143.742V149.232C303.561 149.604 303.645 149.874 303.813 150.042C303.993 150.198 304.293 150.276 304.713 150.276H305.973V151.986H304.353C303.429 151.986 302.721 151.77 302.229 151.338C301.737 150.906 301.491 150.204 301.491 149.232V143.742H300.321V142.068H301.491V139.602H303.561V142.068H305.973V143.742H303.561ZM316.698 143.742H314.862V151.986H312.792V143.742H311.622V142.068H312.792V141.366C312.792 140.226 313.092 139.398 313.692 138.882C314.304 138.354 315.258 138.09 316.554 138.09V139.8C315.93 139.8 315.492 139.92 315.24 140.16C314.988 140.388 314.862 140.79 314.862 141.366V142.068H316.698V143.742ZM319.56 140.754C319.188 140.754 318.876 140.628 318.624 140.376C318.372 140.124 318.246 139.812 318.246 139.44C318.246 139.068 318.372 138.756 318.624 138.504C318.876 138.252 319.188 138.126 319.56 138.126C319.92 138.126 320.226 138.252 320.478 138.504C320.73 138.756 320.856 139.068 320.856 139.44C320.856 139.812 320.73 140.124 320.478 140.376C320.226 140.628 319.92 140.754 319.56 140.754ZM320.568 142.068V151.986H318.516V142.068H320.568ZM325.314 138.666V151.986H323.262V138.666H325.314ZM337.099 146.784C337.099 147.156 337.075 147.492 337.027 147.792H329.449C329.509 148.584 329.803 149.22 330.331 149.7C330.859 150.18 331.507 150.42 332.275 150.42C333.379 150.42 334.159 149.958 334.615 149.034H336.829C336.529 149.946 335.983 150.696 335.191 151.284C334.411 151.86 333.439 152.148 332.275 152.148C331.327 152.148 330.475 151.938 329.719 151.518C328.975 151.086 328.387 150.486 327.955 149.718C327.535 148.938 327.325 148.038 327.325 147.018C327.325 145.998 327.529 145.104 327.937 144.336C328.357 143.556 328.939 142.956 329.683 142.536C330.439 142.116 331.303 141.906 332.275 141.906C333.211 141.906 334.045 142.11 334.777 142.518C335.509 142.926 336.079 143.502 336.487 144.246C336.895 144.978 337.099 145.824 337.099 146.784ZM334.957 146.136C334.945 145.38 334.675 144.774 334.147 144.318C333.619 143.862 332.965 143.634 332.185 143.634C331.477 143.634 330.871 143.862 330.367 144.318C329.863 144.762 329.563 145.368 329.467 146.136H334.957Z\",\n    fill: \"#19393B\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M248.129 66.1449H216.095L208.976 59.0262H191.179C187.264 59.0262 184.06 62.2297 184.06 66.1449V80.3824H255.247V73.2637C255.247 69.3484 252.044 66.1449 248.129 66.1449Z\",\n    fill: \"#19393B\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M248.129 66.1448H191.179C187.264 66.1448 184.06 69.3482 184.06 73.2635V108.857C184.06 112.772 187.264 115.976 191.179 115.976H248.129C252.044 115.976 255.247 112.772 255.247 108.857V73.2635C255.247 69.3482 252.044 66.1448 248.129 66.1448Z\",\n    fill: \"#1B9F97\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropzone);\nexport default __webpack_public_path__ + \"static/media/dropzone.72a8bccb.svg\";\nexport { ForwardRef as ReactComponent };","import { SectionType } from \"./index\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport SearchRounded from \"@mui/icons-material/SearchRounded\";\r\nimport ButtonBase from \"@mui/material/ButtonBase\";\r\nimport classNames from \"classnames\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport CloseRounded from \"@mui/icons-material/CloseRounded\";\r\n\r\ninterface SectionProps {\r\n  section: SectionType;\r\n  onCloseMenu: () => void;\r\n}\r\n\r\nconst Section: React.FC<SectionProps> = ({ section, onCloseMenu }) => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [searchON, setSearchON] = useState(false);\r\n\r\n  return (\r\n    <div className=\"mb-6\">\r\n      {searchON ? (\r\n        <div className=\"flex items-center mb-5\">\r\n          <input\r\n            style={{ width: 199 }}\r\n            placeholder=\"type here...\"\r\n            className=\"h-5 border border-white rounded text-sm focus:outline-none bg-transparent text-white px-2\"\r\n            type=\"text\"\r\n            value={search}\r\n            onChange={(e) => {\r\n              e.persist();\r\n              setSearch(e.target.value);\r\n            }}\r\n          ></input>\r\n          <CloseRounded\r\n            className=\"text-lg cursor-pointer text-white ml-1\"\r\n            fontSize=\"inherit\"\r\n            onClick={() => setSearchON(false)}\r\n          ></CloseRounded>\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex justify-between items-center mb-5 pr-5\">\r\n          <div className=\"capitalize text-sm text-white underline pl-2\">{section.name}</div>\r\n          <div className=\"flex items-center\">\r\n            {!section.searchable ? null : (\r\n              <div\r\n                onClick={() => setSearchON(true)}\r\n                className=\"h-5 px-1 border-white border rounded text-white cursor-pointer flex items-center\"\r\n              >\r\n                <SearchRounded fontSize=\"inherit\" className=\"text-sm\"></SearchRounded>\r\n              </div>\r\n            )}\r\n            {!section.onAdd ? null : (\r\n              <div\r\n                onClick={section.onAdd}\r\n                className=\"h-5 leading-5 ml-3 font-medium bg-white bg-opacity-10 px-2 rounded cursor-pointer text-10px\"\r\n              >\r\n                Add\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"pr-2\">\r\n        <SimpleBar\r\n          style={{ maxHeight: section.scroll ? 200 : \"unset\" }}\r\n          className={classNames(\"pr-3 scrollbar-dark\")}\r\n          autoHide={false}\r\n        >\r\n          {section.subitems\r\n            .filter(\r\n              (x) => !search || !searchON || x.name.toLowerCase().includes(search.toLowerCase())\r\n            )\r\n            .map((item, i) => (\r\n              <ButtonBase\r\n                onClick={() => {\r\n                  history.push(item.path);\r\n                  onCloseMenu();\r\n                }}\r\n                key={`section-${section.name}-item-${i}`}\r\n                className={classNames(\r\n                  `flex items-center rounded cursor-pointer leftMenuHoverBackground leftMenuHoverTextColor px-2 outline-none w-full justify-start h-28px`,\r\n                  {\r\n                    \"leftMenuSelectedBackground leftMenuSelectedTextColor\":\r\n                      location.pathname === item.path,\r\n                  }\r\n                )}\r\n              >\r\n                <item.icon className=\"mr-2 flex-shrink-0\" fontSize=\"small\"></item.icon>\r\n                <div className=\"capitalize truncate\">{item.name}</div>\r\n              </ButtonBase>\r\n            ))}\r\n        </SimpleBar>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Section;\r\n","import Logo from \"assets/logo.svg\";\r\nimport VpnKeyRounded from \"@mui/icons-material/VpnKeyRounded\";\r\nimport PanoramaRounded from \"@mui/icons-material/PanoramaRounded\";\r\nimport BrushRounded from \"@mui/icons-material/BrushRounded\";\r\nimport Palette from \"@mui/icons-material/Palette\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport Drawer from \"@mui/material/Drawer\";\r\nimport { useSelector, shallowEqual } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport ImportExportRounded from \"@mui/icons-material/ImportExportRounded\";\r\nimport { ReactComponent as Webhook } from \"assets/webhook.svg\";\r\nimport PersonRounded from \"@mui/icons-material/PersonRounded\";\r\n\r\nimport Section from \"./Section\";\r\n\r\nexport type SectionType = {\r\n  name: string;\r\n  subitems: { icon: any; name: string; path: string }[];\r\n  scroll?: boolean;\r\n  onAdd?: () => void;\r\n  searchable?: boolean;\r\n};\r\n\r\nconst Menu = ({ onCloseMenu = () => {} }: { onCloseMenu?: () => void }) => {\r\n  const history = useHistory();\r\n  const [showSystemCollections, setShowSystemCollections] = useState(false);\r\n  const { collections, logo } = useSelector(\r\n    (state: RootState) => ({\r\n      user: state.user,\r\n      collections: state.collectionTypes,\r\n      logo: state.appearance.items.find((x) => x.id === \"logo\")?.value,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  console.log(\"collections\", collections);\r\n\r\n  const items: SectionType[] = [\r\n    {\r\n      name: \"Collections\",\r\n      scroll: true,\r\n      subitems: collections\r\n        .filter((x) => showSystemCollections || !x.isSystem)\r\n        .map((x) => ({\r\n          icon: (props: any) => <div {...props}></div>,\r\n          name: x.name,\r\n          path: (x.single ? \"/documents/\" : \"/collections/\") + x.id,\r\n        })),\r\n      searchable: true,\r\n      onAdd: () => history.push(\"/collections\"),\r\n    },\r\n    {\r\n      name: \"General\",\r\n      scroll: false,\r\n      searchable: true,\r\n      subitems: [\r\n        { icon: BrushRounded, name: \"Collections\", path: \"/collections\" },\r\n        { icon: PanoramaRounded, name: \"Media\", path: \"/media\" },\r\n        { icon: PersonRounded, name: \"Users\", path: \"/users\" },\r\n        { icon: VpnKeyRounded, name: \"Roles\", path: \"/roles\" },\r\n        { icon: Webhook, name: \"Webhooks\", path: \"/webhooks\" },\r\n        { icon: Palette, name: \"Customize\", path: \"/documents/AppearanceReservedCollection\" },\r\n        { icon: ImportExportRounded, name: \"Import & export\", path: \"/import-export\" },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      style={{ width: 263 }}\r\n      className=\"h-full leftMenuBackground leftMenuTextColor scrollbar-dark flex-col flex pl-5\"\r\n    >\r\n      <div>\r\n        <img\r\n          alt=\"\"\r\n          onClick={() => history.push(\"/\")}\r\n          src={logo || Logo}\r\n          style={{ maxWidth: 212 }}\r\n          className=\"mt-5 mb-4 cursor-pointer flex-shrink-0 pl-2\"\r\n        ></img>\r\n      </div>\r\n      <div className=\"flex-grow h-0\">\r\n        <SimpleBar autoHide={false} className=\"max-h-full pt-3 scrollbar-dark\">\r\n          {items.map((section, ind) => (\r\n            <Section key={`section-${ind}`} section={section} onCloseMenu={onCloseMenu}></Section>\r\n          ))}\r\n          {process.env.NODE_ENV === \"production\" ? null : (\r\n            <div\r\n              className=\"text-white py-1 text-xs cursor-pointer\"\r\n              onClick={() => setShowSystemCollections((prev) => !prev)}\r\n            >\r\n              {showSystemCollections ? \"Hide\" : \"Show\"} system collections\r\n            </div>\r\n          )}\r\n        </SimpleBar>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ResponsiveMenu: React.FC<{ setMenuOpened: (val: boolean) => void; menuOpened: boolean }> = ({\r\n  setMenuOpened,\r\n  menuOpened,\r\n}) => {\r\n  return (\r\n    <>\r\n      <div className=\"h-full hidden md:block\">\r\n        <Menu></Menu>\r\n      </div>\r\n\r\n      <Drawer open={menuOpened} onClose={() => setMenuOpened(false)} anchor=\"left\">\r\n        <Menu onCloseMenu={() => setMenuOpened(false)}></Menu>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ResponsiveMenu;\r\n","import KeyboardArrowLeftRounded from \"@mui/icons-material/KeyboardArrowLeftRounded\";\r\nimport { useHistory, matchPath, useLocation } from \"react-router-dom\";\r\nimport store, { RootState } from \"store\";\r\nimport ButtonBase from \"@mui/material/ButtonBase\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CollectionsManager from \"facades/CollectionsManager\";\r\nimport Undo from \"@mui/icons-material/Undo\";\r\nimport Redo from \"@mui/icons-material/Redo\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\n\r\nconst TopBar = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const match = matchPath<{ id: string }>(location.pathname, {\r\n    path: [\"/:id\", \"/collections/:id\", \"/collections/:id/Add\", \"/collections/:id/edit/:docId\"],\r\n    exact: true,\r\n    strict: false,\r\n  });\r\n\r\n  let collectionName =\r\n    useSelector(\r\n      (state: RootState) => state.collectionTypes.find((x) => x.id === match?.params.id)?.name\r\n    ) ||\r\n    match?.params.id ||\r\n    \"\";\r\n\r\n  return (\r\n    <>\r\n      <div className=\"h-34px hidden md:flex topBarBackground topBarTextColor text-sm\">\r\n        <div className=\"flex-grow flex items-center\">\r\n          {/* <Tooltip title=\"Back\" classes={{ tooltip: \"font-poppins bg-fireck-4 text-black\" }}> */}\r\n          <ButtonBase\r\n            onClick={() => history.goBack()}\r\n            className=\"h-full px-2 topBarHoverBackground topBarHoverTextColor inline-flex items-center cursor-pointer outline-none\"\r\n          >\r\n            <KeyboardArrowLeftRounded\r\n              fontSize=\"inherit\"\r\n              className=\"text-2xl\"\r\n            ></KeyboardArrowLeftRounded>\r\n          </ButtonBase>\r\n          {/* </Tooltip> */}\r\n          {!collectionName ? null : (\r\n            <span className=\"capitalize px-3 rounded-md bg-black bg-opacity-5 py-0.5 mx-4\">\r\n              {decodeURI(collectionName)}\r\n            </span>\r\n          )}\r\n\r\n          {/* <Tooltip title=\"Undo\" classes={{ tooltip: \"font-poppins bg-fireck-4 text-black\" }}> */}\r\n          <ButtonBase\r\n            onClick={() => CollectionsManager.undo()}\r\n            className=\"px-7 topBarHoverBackground topBarHoverTextColor cursor-pointer flex items-center outline-none h-full\"\r\n          >\r\n            {/* <Undo fontSize=\"inherit\" className=\"text-lg\"></Undo> */}\r\n            Undo\r\n          </ButtonBase>\r\n          {/* </Tooltip> */}\r\n          {/* <Tooltip title=\"Redo\" classes={{ tooltip: \"font-poppins bg-fireck-4 text-black\" }}> */}\r\n          <ButtonBase\r\n            onClick={() => CollectionsManager.redo()}\r\n            className=\"px-7 topBarHoverBackground topBarHoverTextColor cursor-pointer flex items-center outline-none h-full\"\r\n          >\r\n            {/* <Redo fontSize=\"inherit\" className=\"text-lg\"></Redo> */}\r\n            Redo\r\n          </ButtonBase>\r\n          {/* </Tooltip> */}\r\n        </div>\r\n        <ButtonBase\r\n          onClick={() => window.open(\"https://fireck.com/docs\", \"_blank\")}\r\n          className=\"px-9 topBarHoverBackground topBarHoverTextColor cursor-pointer flex items-center outline-none\"\r\n        >\r\n          Docs\r\n        </ButtonBase>\r\n        <ButtonBase\r\n          className=\"flex items-center px-9 topBarHoverBackground topBarHoverTextColor cursor-pointer outline-none\"\r\n          onClick={() =>\r\n            store.dispatch({ type: \"SET_USER\", payload: { username: \"\", token: \"\", email: \"\" } })\r\n          }\r\n        >\r\n          Logout\r\n        </ButtonBase>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","import { Route, Switch } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst ReadNetlifyToken = React.lazy(() => import(\"./ReadNetlifyToken\"));\r\nconst CollectionTypes = React.lazy(() => import(\"pages/CollectionTypes\"));\r\nconst Collection = React.lazy(() => import(\"pages/Collection\"));\r\nconst CollectionDocument = React.lazy(() => import(\"./CollectionDocument\"));\r\nconst Media = React.lazy(() => import(\"pages/Media\"));\r\nconst Roles = React.lazy(() => import(\"pages/Roles\"));\r\nconst Appearance = React.lazy(() => import(\"pages/Appearance\"));\r\nconst ImportExport = React.lazy(() => import(\"pages/ImportExport\"));\r\nconst Emails = React.lazy(() => import(\"pages/Emails\"));\r\nconst Webhooks = React.lazy(() => import(\"pages/Webhooks/index\"));\r\nconst Users = React.lazy(() => import(\"pages/Users\"));\r\n\r\nexport interface PagesProps {\r\n  className?: string;\r\n}\r\n\r\nconst Pages: React.FC<PagesProps> = () => {\r\n  const routes = [\r\n    { path: \"/\", component: CollectionTypes },\r\n    { path: \"/collections/:id/add\", component: CollectionDocument },\r\n    { path: \"/collections/:id/edit/:docId\", component: CollectionDocument },\r\n    { path: \"/collections/:id\", component: Collection },\r\n    { path: \"/documents/:id\", component: CollectionDocument },\r\n    { path: \"/collections\", component: CollectionTypes },\r\n    { path: \"/media\", component: Media },\r\n    { path: \"/roles\", component: Roles },\r\n    { path: \"/appearance\", component: Appearance },\r\n    { path: \"/import-export\", component: ImportExport },\r\n    { path: \"/emails\", component: Emails },\r\n    { path: \"/webhooks\", component: Webhooks },\r\n    { path: \"/users\", component: Users },\r\n  ];\r\n\r\n  return (\r\n    <Switch>\r\n      {routes.map((x, i) => (\r\n        <Route\r\n          key={`route-${i}`}\r\n          path={x.path}\r\n          exact\r\n          render={(props: any) => (\r\n            <x.component key={props.match.params.id} {...props}></x.component>\r\n          )}\r\n        ></Route>\r\n      ))}\r\n      <Route path=\"/read-netlify-token\" exact component={ReadNetlifyToken}></Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Pages;\r\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFolder(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 87,\n    height: 87,\n    viewBox: \"0 0 87 87\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M72.1287 22.1449H40.0945L32.9758 15.0262H15.1791C11.2638 15.0262 8.06035 18.2297 8.06035 22.1449V36.3824H79.2474V29.2637C79.2474 25.3484 76.044 22.1449 72.1287 22.1449Z\",\n    fill: \"#19393B\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M72.1287 22.1448H15.1791C11.2638 22.1448 8.06035 25.3482 8.06035 29.2635V64.857C8.06035 68.7723 11.2638 71.9757 15.1791 71.9757H72.1287C76.044 71.9757 79.2474 68.7723 79.2474 64.857V29.2635C79.2474 25.3482 76.044 22.1448 72.1287 22.1448Z\",\n    fill: \"#1B9F97\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFolder);\nexport default __webpack_public_path__ + \"static/media/folder.0515634d.svg\";\nexport { ForwardRef as ReactComponent };","import { useCallback } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { ReactComponent as DropzoneImage } from \"assets/dropzone.svg\";\r\n\r\nconst MyDropzone = ({\r\n  onFiles,\r\n  accept = \"\",\r\n  multiple = false,\r\n  onClick = () => {},\r\n  disabled = false,\r\n}: {\r\n  onFiles: Function;\r\n  accept?: string;\r\n  multiple?: boolean;\r\n  onClick?: Function;\r\n  disabled?: boolean;\r\n}) => {\r\n  const onDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      onFiles(acceptedFiles);\r\n    },\r\n    [onFiles]\r\n  );\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    onDrop,\r\n    accept,\r\n    multiple,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"hover:opacity-80 cursor-pointer\"\r\n      onMouseDown={() => {\r\n        onClick();\r\n      }}\r\n      {...getRootProps()}\r\n    >\r\n      <input disabled={disabled} {...getInputProps()} />\r\n      <DropzoneImage className=\"w-full\"></DropzoneImage>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyDropzone;\r\n","import { connect, ConnectedProps } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport Logo from \"assets/logo.svg\";\r\nimport React from \"react\";\r\nimport { AuthorizeNetlify } from \"api/netlify\";\r\nimport { ConnectionState } from \"utils/types\";\r\nimport Dropzone from \"components/Dropzone\";\r\nimport { ReactComponent as FolderImage } from \"assets/folder.svg\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { TasksManager } from \"facades/TasksManager\";\r\n\r\nconst FirebaseSettings: React.FC<PropsFromRedux> = ({ configState, configKeys }) => {\r\n  const [serviceAccountFile, setServiceAccountFile] = React.useState<File>();\r\n\r\n  const handleFiles = (files: File[]) => {\r\n    if (!configKeys.netlifyAccessToken) {\r\n      AuthorizeNetlify();\r\n      return;\r\n    }\r\n    if (files.length) {\r\n      var reader = new FileReader();\r\n      reader.onload = async function () {\r\n        const json = JSON.parse(reader.result as string);\r\n        setServiceAccountFile(files[0]);\r\n        TasksManager.connectAdminSdk(json);\r\n      };\r\n      reader.readAsText(files[0]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-fireck-1 p-12\">\r\n      <img alt=\"\" src={Logo} className=\"absolute left-7 top-5\"></img>\r\n      <div className=\"m-auto py-16 max-w-922px w-full\">\r\n        <div className=\"w-full md:flex rounded overflow-hidden\">\r\n          {configState.adminSdkState === \"not connected\" ? (\r\n            <div className=\"p-9 bg-white md:w-7/12 justify-between items-center\">\r\n              <div className=\"mb-10 text-center\">\r\n                <div className=\"flex font-medium text-22px justify-between leading-none\">\r\n                  <div>1/2</div>\r\n                  <div>Connect admin sdk</div>\r\n                </div>\r\n              </div>\r\n              <Dropzone\r\n                onFiles={handleFiles}\r\n                onClick={!configKeys.netlifyAccessToken ? () => AuthorizeNetlify() : () => {}}\r\n                disabled={!configKeys.netlifyAccessToken}\r\n              ></Dropzone>\r\n            </div>\r\n          ) : configState.adminSdkState === \"building\" ? (\r\n            <div className=\"p-9 bg-white max-w-544px justify-between items-center\">\r\n              <div className=\"mb-10 text-center\">\r\n                <div className=\"font-medium text-28px mb-3\">App is building...</div>\r\n                <div className=\"text-gray-600 text-sm\">\r\n                  It usually takes up to 2 minutes. Once the building is finished, the app will\r\n                  automatically be reloaded\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center justify-center mb-9\">\r\n                <FolderImage className=\"mr-4\"></FolderImage>\r\n                <div>{serviceAccountFile ? serviceAccountFile.name : \"\"}</div>\r\n              </div>\r\n              <LinearProgress\r\n                classes={{\r\n                  colorPrimary: \"bg-gray-400\",\r\n                  barColorPrimary: \"bg-fireck-3\",\r\n                }}\r\n                color=\"primary\"\r\n              ></LinearProgress>\r\n            </div>\r\n          ) : null}\r\n          <div className=\"md:w-5/12 bg-fireck-4 flex p-9 flex-wrap\">\r\n            <div className=\"m-auto\">\r\n              <div className=\"mb-7 flex flex-wrap\">\r\n                {\"How to get a service account private keys file?\".split(\" \").map((x, i) => (\r\n                  <div\r\n                    className=\"bg-fireck-2 text-white font-medium px-1 py-0.5\"\r\n                    key={`text-part-${i}`}\r\n                  >\r\n                    {x}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"w-full pt-60% rounded relative\">\r\n                <iframe\r\n                  className=\"absolute left-0 top-0 right-0 bottom-0 w-full h-full\"\r\n                  src=\"https://www.youtube.com/embed/x_vhtPSV7s8\"\r\n                  title=\"YouTube video player\"\r\n                  frameBorder=\"0\"\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                ></iframe>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapState = (state: RootState, ownProps: { [index: string]: any }) => {\r\n  return {\r\n    configState: state.configState,\r\n    configKeys: state.configKeys,\r\n    ...ownProps,\r\n  };\r\n};\r\n\r\nconst mapDispatch = () => {\r\n  return {\r\n    setConnections: (update: { [index: string]: { state: ConnectionState } }) => ({\r\n      type: \"SET_FIREBASE_CONNECTION\",\r\n      payload: update,\r\n    }),\r\n  };\r\n};\r\n\r\nconst connector = connect(mapState, mapDispatch);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\nexport default connector(FirebaseSettings);\r\n","import Input from \"components/Input\";\r\nimport Button from \"components/Button\";\r\nimport { useFormik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\nimport { TasksManager } from \"facades/TasksManager\";\r\n\r\nexport interface AdminCreationProps {\r\n  onClose: () => void;\r\n}\r\n\r\nconst AdminCreation: React.FC<AdminCreationProps> = ({ onClose }) => {\r\n  const notify = useNotify();\r\n\r\n  const { values, errors, submitCount, isSubmitting, handleSubmit, handleChange } = useFormik({\r\n    onSubmit: async (vals) => {\r\n      await TasksManager._createSuperAdmin(vals, notify);\r\n      onClose();\r\n    },\r\n    initialValues: {\r\n      password: \"\",\r\n      confirmationPassword: \"\",\r\n      email: \"\",\r\n      subscribeEmails: false,\r\n    },\r\n    validationSchema: yup.object().shape({\r\n      password: yup\r\n        .string()\r\n        .test(\"validate-password\", \"1 upper case, 1 number, at least 8 symbols length\", (val) => {\r\n          return val ? /[A-Z]/.test(val) && /[0-9]/.test(val) && val.length >= 8 : false;\r\n        }),\r\n      confirmationPassword: yup\r\n        .mixed()\r\n        .test(\"must-match\", \"Passwords do not match\", function (val) {\r\n          return this.parent.password === val;\r\n        }),\r\n      email: yup.string().email().required(),\r\n    }),\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed left-0 top-0 w-full h-full flex overflow-auto p-7 dialogOuterBackground\"\r\n      onMouseDown={onClose}\r\n    >\r\n      <div\r\n        className=\"m-auto w-full\"\r\n        style={{ maxWidth: 360 }}\r\n        onMouseDown={(e) => e.stopPropagation()}\r\n      >\r\n        <form onSubmit={handleSubmit} className=\"dialogBackground rounded-lg p-9 text-sm relative\">\r\n          <CloseRounded\r\n            className=\"absolute top-0 right-0 cursor-pointer\"\r\n            onClick={onClose}\r\n          ></CloseRounded>\r\n          <div className=\"text-center mb-7\">\r\n            <div className=\"mb-2 text-2xl font-medium\">Create admin</div>\r\n            <div className=\"text-gray-600 text-sm max-w-xs mx-auto\">\r\n              Fill the form below to create your admin account and secure you app.\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-7\">\r\n            <div className=\"mb-2\">Email</div>\r\n            <Input\r\n              ground=\"Dialog\"\r\n              className=\"h-34px\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={values.email}\r\n              onChange={handleChange}\r\n              error={submitCount > 0 && errors.email ? errors.email : false}\r\n            ></Input>\r\n          </div>\r\n          <div className=\"mb-7\">\r\n            <div className=\"mb-2\">Password</div>\r\n            <Input\r\n              ground=\"Dialog\"\r\n              className=\"h-34px\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              error={submitCount > 0 && errors.password ? errors.password : false}\r\n            ></Input>\r\n          </div>\r\n          <div className=\"mb-9\">\r\n            <div className=\"mb-2\">Confirmation Password</div>\r\n            <Input\r\n              ground=\"Dialog\"\r\n              className=\"h-34px\"\r\n              type=\"password\"\r\n              name=\"confirmationPassword\"\r\n              value={values.confirmationPassword}\r\n              onChange={handleChange}\r\n              error={\r\n                submitCount > 0 && errors.confirmationPassword ? errors.confirmationPassword : false\r\n              }\r\n            ></Input>\r\n          </div>\r\n\r\n          <div className=\"flex text-sm mb-9 items-center\">\r\n            <input\r\n              checked={values.subscribeEmails}\r\n              name=\"subscribeEmails\"\r\n              onChange={handleChange}\r\n              type=\"checkbox\"\r\n              className=\"my-0.5 mr-4\"\r\n            ></input>\r\n            Subscribe the newsletter\r\n          </div>\r\n          <Button\r\n            disabled={isSubmitting}\r\n            type=\"submit\"\r\n            className=\"buttonPrimaryBackground h-34px w-full\"\r\n          >\r\n            {isSubmitting ? \"Loading...\" : \"Let's get started\"}\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCreation;\r\n","import Input from \"components/Input\";\r\nimport Logo from \"assets/logo.svg\";\r\nimport Button from \"components/Button\";\r\nimport { useFormik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { RootState } from \"store\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { TasksManager } from \"facades/TasksManager\";\r\n\r\nexport interface LoginProps {}\r\n\r\nconst Login: React.FC<LoginProps> = () => {\r\n  const notify = useNotify();\r\n  const logo = useSelector(\r\n    (state: RootState) => state.appearance.items.find((x) => x.id === \"logo\")?.value\r\n  );\r\n\r\n  const { values, errors, submitCount, handleSubmit, handleChange, isSubmitting } = useFormik({\r\n    onSubmit: async (vals) => {\r\n      await TasksManager._login(vals, notify);\r\n    },\r\n    initialValues: {\r\n      password: \"\",\r\n      email: \"\",\r\n    },\r\n    validationSchema: yup.object().shape({\r\n      password: yup.string().required(),\r\n      email: yup.string().email().required(),\r\n    }),\r\n  });\r\n  return (\r\n    <div className=\"fixed left-0 top-0 w-full h-full flex overflow-auto p-sm-12 p-7 loginBackground\">\r\n      <img alt=\"\" src={logo || Logo} className=\"absolute left-7 top-5\"></img>\r\n      <div style={{ maxWidth: 380 }} className=\"m-auto w-full md:py-10 py-16\">\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"LoginBoxBackground LoginBoxTextColor rounded-lg p-9 text-sm\"\r\n        >\r\n          <div className=\"text-center mb-7\">\r\n            <div className=\"mb-2 text-27px font-medium\">Login</div>\r\n          </div>\r\n          <div className=\"mb-7\">\r\n            <div className=\"mb-2\">Email</div>\r\n            <Input\r\n              ground=\"Login\"\r\n              className=\"h-34px\"\r\n              name=\"email\"\r\n              value={values.email}\r\n              onChange={handleChange}\r\n              error={submitCount > 0 && errors.email ? errors.email : false}\r\n            ></Input>\r\n          </div>\r\n          <div className=\"mb-9\">\r\n            <div className=\"mb-2\">Password</div>\r\n            <Input\r\n              ground=\"Login\"\r\n              className=\"h-34px\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              error={submitCount > 0 && errors.password ? errors.password : false}\r\n            ></Input>\r\n          </div>\r\n          <Button type=\"submit\" className=\"primaryBackground buttonPrimaryTextColor w-full h-34px\">\r\n            {isSubmitting ? \"Loading...\" : \"Login\"}\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","type size = \"tiny\" | \"small\" | \"normal\" | \"large\";\r\n\r\nexport interface LoaderProps {\r\n  className?: string;\r\n  size?: size;\r\n}\r\n\r\nconst Loader: React.FC<LoaderProps> = ({ className = \"\", size = \"normal\" }) => {\r\n  const sizes = {\r\n    normal: 50,\r\n    small: 40,\r\n    tiny: 30,\r\n    large: 70,\r\n  };\r\n  return (\r\n    <div className={`loader ` + className} style={{ width: sizes[size] }}>\r\n      <svg className=\"loader-circular primaryStroke\" viewBox=\"25 25 50 50\">\r\n        <circle\r\n          className=\"loader-path\"\r\n          cx=\"50\"\r\n          cy=\"50\"\r\n          r=\"20\"\r\n          fill=\"none\"\r\n          strokeWidth=\"2\"\r\n          strokeMiterlimit=\"10\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import Logo from \"assets/logo.svg\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport Button from \"components/Button\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport { TasksManager } from \"facades/TasksManager\";\r\n\r\nexport interface FirestorePageProps {}\r\n\r\nconst FirestorePage: React.FC<FirestorePageProps> = () => {\r\n  const projectId = useSelector((state: RootState) => state.configState.projectId);\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 w-full h-full flex overflow-auto p-sm-12 p-7 bg-fireck-1\">\r\n      <img alt=\"\" src={Logo} className=\"absolute left-7 top-5\"></img>\r\n      <div className=\"m-auto max-w-922px w-full md:py-10 py-16\">\r\n        <div className=\"w-full md:flex rounded overflow-hidden\">\r\n          <div className=\"p-9 bg-white md:w-7/12 justify-between items-center flex flex-col\">\r\n            <div className=\"mb-7 text-center w-full\">\r\n              <div className=\"flex font-medium text-22px justify-between\">\r\n                <div>2/2</div>\r\n                <div className=\"text-right max-w-247px\">Enable Firestore and Authentication</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-gray-600 mb-7 flex-grow text-center\">\r\n              Go to{\" \"}\r\n              <a\r\n                className=\"text-fireck-5 hover:underline\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                href={`https://console.firebase.google.com/project/${projectId}/firestore`}\r\n              >\r\n                firebase console\r\n              </a>\r\n              , then start your Firestore instance and Authentication service. Give a few minutes\r\n              for the changes to propogate.\r\n            </div>\r\n            <div className=\"flex justify-end w-full\">\r\n              <Button\r\n                className=\"bg-fireck-4 hover:bg-fireck-4-hover h-34px\"\r\n                onClick={async () => {\r\n                  const res = await confirm({\r\n                    confirmation: \"Step completed?\",\r\n                  });\r\n\r\n                  if (res) {\r\n                    TasksManager.updateState(\"firestoreWorks\", true);\r\n                    TasksManager.updateState(\"authWorks\", true);\r\n                  }\r\n                }}\r\n              >\r\n                Next\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <div className=\"md:w-5/12 bg-fireck-4 flex p-9 flex-wrap\">\r\n            <div className=\"m-auto\">\r\n              <div className=\"mb-7 flex flex-wrap\">\r\n                {\"How to enable the Firestore and Authentication?\".split(\" \").map((x, i) => (\r\n                  <div className=\"bg-fireck-3 text-white font-medium px-1 py-0.5\">{x}</div>\r\n                ))}\r\n              </div>\r\n              <div className=\"w-full pt-60% rounded relative\">\r\n                <iframe\r\n                  className=\"absolute left-0 top-0 right-0 bottom-0 w-full h-full\"\r\n                  src=\"https://www.youtube.com/embed/cd5vi0qylmE\"\r\n                  title=\"YouTube video player\"\r\n                  frameBorder=\"0\"\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                ></iframe>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FirestorePage;\r\n","import { createApp } from \"api/adminUsers\";\r\nimport store from \"store\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport Button from \"components/Button\";\r\nimport Error from \"@material-ui/icons/Error\";\r\nimport Loader from \"components/Loader\";\r\nimport { useState } from \"react\";\r\n\r\nexport interface ToDosProps {\r\n  isAdminSet: boolean;\r\n  isAppCreated: boolean;\r\n  onCreateAdmin: () => void;\r\n  onCreateApp: () => void;\r\n}\r\n\r\nconst ToDos: React.FC<ToDosProps> = ({ isAdminSet, isAppCreated, onCreateAdmin, onCreateApp }) => {\r\n  const notify = useNotify();\r\n  const [loading, setLoading] = useState<string | boolean>(false);\r\n\r\n  const toDos = [];\r\n  if (!isAdminSet) {\r\n    toDos.push({\r\n      id: \"admin\",\r\n      title: \"Admin user is not created\",\r\n      btnTitle: \"Create\",\r\n      onClick: onCreateAdmin,\r\n    });\r\n  }\r\n\r\n  if (!isAppCreated) {\r\n    toDos.push({\r\n      id: \"app\",\r\n      title: \"Firebase app is not created\",\r\n      btnTitle: \"Create\",\r\n      onClick: async () => {\r\n        setLoading(\"app\");\r\n        const res = await createApp();\r\n        setLoading(false);\r\n        if (res.error) {\r\n          notify(res.error, { variant: \"error\" });\r\n          return;\r\n        }\r\n        store.dispatch({ type: \"SET_FIREBASE_APP_API_KEY\", payload: res.apiKey });\r\n        onCreateApp();\r\n      },\r\n    });\r\n  }\r\n  return !toDos.length ? null : (\r\n    <div className=\"text-sm flex flex-wrap w-full groundBackground\">\r\n      {toDos.map((x) => (\r\n        <div key={x.title} className=\"flex items-center px-3 h-34px mr-4\">\r\n          <div className=\"flex items-center groundTextColor mr-3\">\r\n            {/* <Error className=\"mr-3 text-lg\"></Error> */}\r\n            <div>{x.title}</div>\r\n          </div>\r\n\r\n          <Button\r\n            onClick={x.onClick}\r\n            className=\"buttonPrimaryBackground buttonPrimaryTextColor h-6 px-4 min-w-unset\"\r\n          >\r\n            {loading === x.id ? <Loader size=\"tiny\"></Loader> : x.btnTitle}\r\n          </Button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToDos;\r\n","import classNames from \"classnames\";\r\nimport Button from \"components/Button\";\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\n\r\nexport interface UpdateAppWidgetProps {}\r\n\r\nconst UpdateAppWidget: React.FC<UpdateAppWidgetProps> = () => {\r\n  const { available, gitName, gitRepo } = useSelector((state: RootState) => state.update);\r\n  const [show, setShow] = useState(true);\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\"flex items-center px-3 h-34px bg-fireck-1 transition-all\", {\r\n        \"-mt-34px\": !available || !show,\r\n      })}\r\n    >\r\n      <div className=\"mr-3 text-white text-sm\">New version available</div>\r\n      <Button\r\n        className=\"bg-fireck-4 hover:bg-fireck-4-hover h-6 rounded px-4 mr-3 text-black min-w-unset\"\r\n        onClick={() =>\r\n          (window.location.href = `https://fireck.com/update?gitName=${gitName}&gitRepo=${gitRepo}&appUrl=${window.location.origin}`)\r\n        }\r\n      >\r\n        Update\r\n      </Button>\r\n      <Button\r\n        onClick={() => setShow(false)}\r\n        className=\"h-6 border-white border text-s rounded px-4 mr-3 text-white min-w-unset\"\r\n      >\r\n        Ignore\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateAppWidget;\r\n","const LoadingIndicator = () => {\r\n  return (\r\n    <div\r\n      id=\"loading-indicator\"\r\n      className=\"fixed left-0 top-1 pointer-events-none w-full flex justify-center transition transform -translate-y-14\"\r\n    >\r\n      <div className=\"px-7 py-3 rounded-md bg-white shadow-lg\">Loading...</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingIndicator;\r\n","import Menu from \"components/Menu\";\r\nimport TopBar from \"components/TopBar\";\r\nimport \"simplebar/dist/simplebar.min.css\";\r\nimport { useState, useRef, Suspense, useEffect } from \"react\";\r\nimport { RootState } from \"store\";\r\nimport { connect, ConnectedProps, useSelector } from \"react-redux\";\r\nimport PagesRoot from \"pages\";\r\nimport FirebaseSettings from \"pages/Firebase\";\r\nimport AdminCreation from \"pages/AdminCreation\";\r\nimport Login from \"pages/Login\";\r\nimport Loader from \"components/Loader\";\r\nimport ExpandLessRounded from \"@material-ui/icons/ExpandLessRounded\";\r\nimport ButtonBase from \"@mui/material/ButtonBase\";\r\nimport { InView } from \"react-intersection-observer\";\r\nimport FirestoreSettings from \"pages/Firestore\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport ToDos from \"components/ToDos\";\r\nimport UpdateAppWidget from \"components/UpdateAppWidget\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Logo from \"assets/logo.svg\";\r\nimport { TasksManager } from \"facades/TasksManager\";\r\nimport LoadingIndicator from \"components/LoadingIndicator\";\r\n\r\nfunction PageLoader({ loading }: { loading: boolean | string }) {\r\n  return (\r\n    <div className=\"flex w-full h-full bg-fireck-1 text-white\">\r\n      <div className=\"m-auto\">\r\n        <div className=\"flex justify-center mb-2\">\r\n          <Loader></Loader>\r\n        </div>\r\n        {typeof loading === \"string\" ? <div>{loading}</div> : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst App = (props: PropsFromRedux) => {\r\n  const pageTopRef = useRef<any>(null);\r\n  const [isTopVisible, setIsTopVisible] = useState(true);\r\n  const [menuOpened, setMenuOpened] = useState(false);\r\n  const [openAdminCreation, setOpenAdminCreation] = useState(false);\r\n\r\n  useEffect(() => {\r\n    TasksManager.initTasks();\r\n  }, []);\r\n\r\n  const { adminSdkState, checkCompleted, isAppCreated, isAdminSet, firestoreWorks, authWorks } =\r\n    useSelector((state: RootState) => state.configState);\r\n\r\n  return (\r\n    <div>\r\n      {checkCompleted ? (\r\n        adminSdkState !== \"connected\" ? (\r\n          <FirebaseSettings adminSdkState={adminSdkState}></FirebaseSettings>\r\n        ) : !firestoreWorks || !authWorks ? (\r\n          <FirestoreSettings></FirestoreSettings>\r\n        ) : isAdminSet && !props.user.token ? (\r\n          <Login></Login>\r\n        ) : (\r\n          <div className=\"fixed left-0 top-0 w-full h-full flex flex-col\">\r\n            <UpdateAppWidget></UpdateAppWidget>\r\n            <ToDos\r\n              isAdminSet={isAdminSet}\r\n              isAppCreated={isAppCreated}\r\n              onCreateAdmin={() => setOpenAdminCreation(true)}\r\n              onCreateApp={() => TasksManager.updateState(\"isAppCreated\", true)}\r\n            ></ToDos>\r\n            <div className=\"w-full leftMenuBackground h-34px flex md:hidden justify-between items-center leftMenuTextColor px-5\">\r\n              <div>\r\n                <img alt=\"\" src={Logo} width={85}></img>\r\n              </div>\r\n              <MenuIcon className=\"cursor-pointer\" onClick={() => setMenuOpened(true)}></MenuIcon>\r\n            </div>\r\n            <div className=\"h-0 flex-grow w-full flex\">\r\n              <Menu menuOpened={menuOpened} setMenuOpened={setMenuOpened}></Menu>\r\n              <div className=\"flex flex-col flex-grow w-0\">\r\n                <TopBar></TopBar>\r\n\r\n                <div className=\"flex-grow h-0 p-7 overflow-auto relative groundBackground groundTextColor\">\r\n                  <div className=\"absolute top-0\" ref={pageTopRef}>\r\n                    <InView onChange={(inView) => setIsTopVisible(inView)}>\r\n                      <div></div>\r\n                    </InView>\r\n                  </div>\r\n                  {!isTopVisible ? (\r\n                    <ButtonBase\r\n                      className=\"z-30 fixed shadow-2xl outline-none right-6 bottom-3 w-34px h-34px rounded flex cursor-pointer text-black bg-orange-300 hover:bg-orange-301 items-center justify-center\"\r\n                      onClick={() => pageTopRef.current.scrollIntoView({ behavior: \"smooth\" })}\r\n                    >\r\n                      <ExpandLessRounded></ExpandLessRounded>\r\n                    </ButtonBase>\r\n                  ) : null}\r\n\r\n                  {props.loading ? (\r\n                    <div className=\"absolute left-0 top-0 z-20 w-full h-full bg-white\">\r\n                      <PageLoader loading={props.loading}></PageLoader>{\" \"}\r\n                    </div>\r\n                  ) : null}\r\n                  <Suspense fallback={<PageLoader loading={props.loading}></PageLoader>}>\r\n                    <PagesRoot></PagesRoot>\r\n                  </Suspense>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      ) : (\r\n        <div className={`fixed left-0 top-0 w-full h-full ${checkCompleted ? \"hidden\" : \"\"}`}>\r\n          <PageLoader loading={true}></PageLoader>\r\n        </div>\r\n      )}\r\n      <Modal open={openAdminCreation} onClose={() => setOpenAdminCreation(false)} hideBackdrop>\r\n        <AdminCreation onClose={() => setOpenAdminCreation(false)}></AdminCreation>\r\n      </Modal>\r\n      <LoadingIndicator></LoadingIndicator>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst connector = connect((state: RootState) => {\r\n  return {\r\n    user: state.user,\r\n    loading: state.loading,\r\n  };\r\n});\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\nexport default connector(App);\r\n","import NavigationPrompt from \"react-router-navigation-prompt\";\r\nimport Confirm from \"components/Confirm\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\n\r\nexport interface RouteLeaveGuardProps {}\r\n\r\nconst RouteLeaveGuard: React.FC<RouteLeaveGuardProps> = () => {\r\n  const documentChanged = useSelector((state: RootState) => state.documentChanged);\r\n  return (\r\n    <NavigationPrompt\r\n      when={(currLocation, nextLocation) =>\r\n        (currLocation.pathname.includes(\"/edit/\") ||\r\n          currLocation.pathname.includes(\"/documents/\") ||\r\n          currLocation.pathname.endsWith(\"/add\")) &&\r\n        documentChanged\r\n      }\r\n    >\r\n      {({ isActive, onCancel, onConfirm }) => {\r\n        if (isActive) {\r\n          return (\r\n            <Confirm\r\n              confirmation=\"Leave page?\"\r\n              proceed={(val: any) => {\r\n                if (val) {\r\n                  onConfirm();\r\n                  return;\r\n                }\r\n                onCancel();\r\n              }}\r\n            ></Confirm>\r\n          );\r\n        }\r\n        return <div>This is probably an anti-pattern but ya know...</div>;\r\n      }}\r\n    </NavigationPrompt>\r\n  );\r\n};\r\n\r\nexport default RouteLeaveGuard;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://cra.link/PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\"No internet connection found. App is running in offline mode.\");\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport store from \"store\";\r\nimport { Provider } from \"react-redux\";\r\nimport NotificationsProvider from \"components/NotificationsProvider\";\r\nimport RouteLeaveGuard from \"components/RouteLeaveGuard\";\r\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\n\r\nexport const queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      refetchOnWindowFocus: false,\r\n      // cacheTime: 0,\r\n    },\r\n  },\r\n});\r\nqueryClient.invalidateQueries();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RouteLeaveGuard />\r\n        <NotificationsProvider>\r\n          <QueryClientProvider client={queryClient}>\r\n            <App />\r\n          </QueryClientProvider>\r\n        </NotificationsProvider>\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\ndeclare const window: any;\r\n\r\nif (window.Cypress) {\r\n  window.store = store;\r\n}\r\n\r\nserviceWorkerRegistration.unregister();\r\n","import store from \"store\";\r\n\r\nexport const AuthorizeNetlify = () => {\r\n  const clientId = \"nUd1kbqtonuTSCTdmgtBrJyxLX0gpBWMp2BpOIMWhHc\";\r\n  const redirectURI = `https://fireck-auth.netlify.app/`;\r\n  const appUrl = window.location.origin;\r\n  const state = Math.random();\r\n  localStorage.setItem(state.toString(), \"true\");\r\n  const url = `https://app.netlify.com/authorize?client_id=${clientId}&response_type=token&redirect_uri=${redirectURI}&state=${appUrl}`;\r\n  window.location.href = url;\r\n};\r\n\r\nexport const handleAccessToken = (hash: any, setToken: any) => {\r\n  const response = hash\r\n    .replace(/^#/, \"\")\r\n    .split(\"&\")\r\n    .reduce((result: any, pair: any) => {\r\n      const keyValue = pair.split(\"=\");\r\n      result[keyValue[0]] = keyValue[1];\r\n      return result;\r\n    }, {});\r\n\r\n  document.location.hash = \"\";\r\n\r\n  setToken(response.access_token);\r\n};\r\n\r\nexport const updateEnvVariables = async (env: { [key: string]: string }) => {\r\n  const { siteId, netlifyAccessToken } = store.getState().configKeys;\r\n  const site = await getSite(siteId, netlifyAccessToken);\r\n  const newEnv = { ...site.build_settings.env, ...env };\r\n  const response = await fetch(`https://api.netlify.com/api/v1/sites/${siteId}`, {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${netlifyAccessToken}`,\r\n    },\r\n    body: JSON.stringify({\r\n      build_settings: {\r\n        env: newEnv,\r\n      },\r\n    }),\r\n  })\r\n    .then((x) => x.json())\r\n    .catch((error) => {\r\n      return { error };\r\n    });\r\n\r\n  return response;\r\n};\r\n\r\nexport const buildSite = async () => {\r\n  const { siteId, netlifyAccessToken } = store.getState().configKeys;\r\n  const response = await fetch(`https://api.netlify.com/api/v1/sites/${siteId}/builds`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${netlifyAccessToken}`,\r\n    },\r\n  })\r\n    .then((x) => x.json())\r\n    .catch((error) => {\r\n      return { error };\r\n    });\r\n  return response;\r\n};\r\n\r\nexport const getBuilds = async (siteId: string, accessToken: string) => {\r\n  const response = await fetch(`https://api.netlify.com/api/v1/sites/${siteId}/builds`, {\r\n    headers: {\r\n      Authorization: `Bearer ${accessToken}`,\r\n    },\r\n  })\r\n    .then((x) => x.json())\r\n    .catch((error) => {\r\n      return { error };\r\n    });\r\n  return response;\r\n};\r\n\r\nexport const getSite = async (siteId: string, accessToken: string) => {\r\n  const response = await fetch(`https://api.netlify.com/api/v1/sites/${siteId}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${accessToken}`,\r\n    },\r\n  })\r\n    .then((x) => x.json())\r\n    .catch((error) => {\r\n      return { error };\r\n    });\r\n  return response;\r\n};\r\n\r\nexport const getEnv = async () => {\r\n  const response = await fetch(window.location.origin + \"/private/env\")\r\n    .then((x) => x.json())\r\n    .catch((error) => {\r\n      return { error };\r\n    });\r\n  return response;\r\n};\r\n","import mime from \"mime-types\";\r\n\r\nexport function formatBytes(a: number, b = 2) {\r\n  if (0 === a) return \"0 Bytes\";\r\n  const c = 0 > b ? 0 : b,\r\n    d = Math.floor(Math.log(a) / Math.log(1024));\r\n  return (\r\n    parseFloat((a / Math.pow(1024, d)).toFixed(c)) +\r\n    \" \" +\r\n    [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"][d]\r\n  );\r\n}\r\n\r\nexport function getFileExtension(file: File): string {\r\n  try {\r\n    return mime.extension(file.type) || file.name.split(\".\").pop() || \"unknown\";\r\n  } catch (er) {\r\n    return \"unknown\";\r\n  }\r\n}\r\n\r\nexport function uncapitalize(string: string) {\r\n  return string.charAt(0).toLowerCase() + string.slice(1);\r\n}\r\n\r\nexport function generateCssClass(className: string, properties: string[], value: any[]) {\r\n  return `.${className}{ \r\n    ${properties.reduce(\r\n      (a, b, i) =>\r\n        a +\r\n        `${b}:${value[i]} !important;\r\n    `,\r\n      \"\"\r\n    )}\r\n    }\r\n\r\n\r\n  `;\r\n}\r\n","const apiUrl =\r\n  process.env.NODE_ENV === \"development\" ? \"http://localhost:8888\" : window.location.origin;\r\n\r\nexport default apiUrl;\r\n","import store from \"store\";\r\nimport apiUrl from \"./API_URL\";\r\n\r\nconst getAuthHeader = () => {\r\n  const user = store.getState().user;\r\n  const token = user ? user.token : null;\r\n  return \"Bearer \" + token;\r\n};\r\n\r\nexport const isSuperAdminSet = () => {\r\n  return fetch(apiUrl + \"/private/admin/isSuperAdminCreated\").then((x) => x.json());\r\n};\r\n\r\nexport const createSuperAdmin = (superAdmin: {\r\n  password: string;\r\n  confirmationPassword: string;\r\n  email: string;\r\n  subscribeEmails: boolean;\r\n}) => {\r\n  return fetch(apiUrl + \"/private/admin/createSuperAdmin\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify({ ...superAdmin }),\r\n  }).then((x) => x.json());\r\n};\r\n\r\nexport const login = (credentials: { email: string; password: string }) => {\r\n  return fetch(apiUrl + \"/auth/local/login\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(credentials),\r\n  }).then((x) => x.json());\r\n};\r\n\r\nexport const completeApp = () => {\r\n  return fetch(apiUrl + \"/private/admin/completeApp\").then((x) => x.json());\r\n};\r\n\r\nexport const testFirestore = () => {\r\n  return fetch(apiUrl + \"/private/admin/testFirestore\").then((x) => x.json());\r\n};\r\n\r\nexport const testAuthentication = () => {\r\n  return fetch(apiUrl + \"/private/admin/testAuthentication\").then((x) => x.json());\r\n};\r\n\r\nexport const getAppearance = () => {\r\n  return fetch(apiUrl + \"/private/admin/getAppearance\", {\r\n    headers: {\r\n      Authorization: getAuthHeader(),\r\n    },\r\n  })\r\n    .then((x) => x.json())\r\n    .catch((error) => ({ error }));\r\n};\r\n\r\nexport const createApp = () => {\r\n  return fetch(apiUrl + \"/private/admin/createApp\", {\r\n    headers: {\r\n      Authorization: getAuthHeader(),\r\n    },\r\n  })\r\n    .then((x) => x.json())\r\n    .catch((error) => ({ error }));\r\n};\r\n\r\nexport const getLastDeployment = () => {\r\n  return fetch(apiUrl + \"/private/admin/getDeployment\", {\r\n    headers: {\r\n      Authorization: getAuthHeader(),\r\n    },\r\n  })\r\n    .then((x) => x.json())\r\n    .catch((error) => ({ error }));\r\n};\r\n\r\nexport const setDeployment = () => {\r\n  return fetch(apiUrl + \"/private/admin/setDeployment\", {\r\n    headers: {\r\n      Authorization: getAuthHeader(),\r\n    },\r\n  })\r\n    .then((x) => x.json())\r\n    .catch((error) => ({ error }));\r\n};\r\n","import { SnackbarProvider, useSnackbar } from \"notistack\";\r\n\r\nconst NotificationsProvider = (props: any) => {\r\n  return (\r\n    <SnackbarProvider\r\n      {...props}\r\n      classes={{\r\n        variantSuccess: \"text-green-400 bg-white shadow-snack capitalize\",\r\n        variantError: \"text-red-400 bg-white shadow-snack capitalize\",\r\n        variantWarning: \"text-orange-400 bg-white shadow-snack capitalize\",\r\n        variantInfo: \"text-blue-400 bg-white shadow-snack capitalize\",\r\n      }}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n    ></SnackbarProvider>\r\n  );\r\n};\r\n\r\nexport default NotificationsProvider;\r\n\r\nexport const useNotify = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const notify = enqueueSnackbar;\r\n  return notify;\r\n};\r\n"],"sourceRoot":""}