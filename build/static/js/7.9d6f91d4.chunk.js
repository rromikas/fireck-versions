(this["webpackJsonpfireck-cms"]=this["webpackJsonpfireck-cms"]||[]).push([[7,10,16],{1037:function(e,t,n){"use strict";var r=n(62),c=n(242);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),i=(0,r(n(243)).default)(a.createElement("path",{d:"M12 7c-.55 0-1 .45-1 1v3H8c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V8c0-.55-.45-1-1-1zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutlineRounded");t.default=i},1038:function(e,t,n){"use strict";var r=n(62),c=n(242);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),i=(0,r(n(243)).default)(a.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicatorRounded");t.default=i},1045:function(e,t,n){"use strict";var r=n(27),c=n(3),a=n(0),i=n(33),o=(n(12),n(776)),l=n(819),s=n(101),u=n(172),d=n(113);var f="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var b=a.forwardRef((function(e,t){var n=e.children,r=e.container,c=e.disablePortal,o=void 0!==c&&c,l=e.onRendered,s=a.useState(null),b=s[0],j=s[1],p=Object(d.a)(a.isValidElement(n)?n.ref:null,t);return f((function(){o||j(function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(r)||document.body)}),[r,o]),f((function(){if(b&&!o)return Object(u.a)(t,b),function(){Object(u.a)(t,null)}}),[t,b,o]),f((function(){l&&(b||o)&&l()}),[l,b,o]),o?a.isValidElement(n)?a.cloneElement(n,{ref:p}):n:b?i.createPortal(n,b):b})),j=n(325),p=n(190),m=n(330);var x=n(212),h=n(194);var v=n(326);function O(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function g(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Object(h.a)(r)),i=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===i.indexOf(e.tagName)&&O(e,c)}))}function w(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function k(e,t){var n,r=[],c=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(s.a)(e);return t.body===e?Object(v.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var i=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(g(a)+i,"px"),n=Object(s.a)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){c.push(e.style.paddingRight),e.style.paddingRight="".concat(g(e)+i,"px")}))}var o=a.parentElement,l="HTML"===o.nodeName&&"scroll"===window.getComputedStyle(o)["overflow-y"]?o:a;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){c[t]?e.style.paddingRight=c[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(x.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&O(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);y(t,e.mountNode,e.modalRef,r,!0);var c=w(this.containers,(function(e){return e.container===t}));return-1!==c?(this.containers[c].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=w(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=k(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=w(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&O(e.modalRef,!0),y(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var c=r.modals[r.modals.length-1];c.modalRef&&O(c.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var C=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,c=e.disableEnforceFocus,o=void 0!==c&&c,l=e.disableRestoreFocus,u=void 0!==l&&l,f=e.getDoc,b=e.isEnabled,j=e.open,p=a.useRef(),m=a.useRef(null),x=a.useRef(null),h=a.useRef(),v=a.useRef(null),O=a.useCallback((function(e){v.current=i.findDOMNode(e)}),[]),g=Object(d.a)(t.ref,O),y=a.useRef();return a.useEffect((function(){y.current=j}),[j]),!y.current&&j&&"undefined"!==typeof window&&(h.current=f().activeElement),a.useEffect((function(){if(j){var e=Object(s.a)(v.current);r||!v.current||v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var t=function(){null!==v.current&&(e.hasFocus()&&!o&&b()&&!p.current?v.current&&!v.current.contains(e.activeElement)&&v.current.focus():p.current=!1)},n=function(t){!o&&b()&&9===t.keyCode&&e.activeElement===v.current&&(p.current=!0,t.shiftKey?x.current.focus():m.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var c=setInterval((function(){t()}),50);return function(){clearInterval(c),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(h.current&&h.current.focus&&h.current.focus(),h.current=null)}}}),[r,o,u,b,j]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:g}),a.createElement("div",{tabIndex:0,ref:x,"data-test":"sentinelEnd"}))},S={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},E=a.forwardRef((function(e,t){var n=e.invisible,i=void 0!==n&&n,o=e.open,l=Object(r.a)(e,["invisible","open"]);return o?a.createElement("div",Object(c.a)({"aria-hidden":!0,ref:t},l,{style:Object(c.a)({},S.root,i?S.invisible:{},l.style)})):null}));var I=new N,F=a.forwardRef((function(e,t){var n=Object(o.a)(),u=Object(l.a)({name:"MuiModal",props:Object(c.a)({},e),theme:n}),f=u.BackdropComponent,x=void 0===f?E:f,h=u.BackdropProps,v=u.children,g=u.closeAfterTransition,y=void 0!==g&&g,w=u.container,k=u.disableAutoFocus,N=void 0!==k&&k,S=u.disableBackdropClick,F=void 0!==S&&S,D=u.disableEnforceFocus,T=void 0!==D&&D,L=u.disableEscapeKeyDown,B=void 0!==L&&L,z=u.disablePortal,P=void 0!==z&&z,R=u.disableRestoreFocus,M=void 0!==R&&R,V=u.disableScrollLock,A=void 0!==V&&V,H=u.hideBackdrop,_=void 0!==H&&H,U=u.keepMounted,W=void 0!==U&&U,J=u.manager,Y=void 0===J?I:J,K=u.onBackdropClick,Z=u.onClose,q=u.onEscapeKeyDown,G=u.onRendered,$=u.open,Q=Object(r.a)(u,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),X=a.useState(!0),ee=X[0],te=X[1],ne=a.useRef({}),re=a.useRef(null),ce=a.useRef(null),ae=Object(d.a)(ce,t),ie=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(u),oe=function(){return Object(s.a)(re.current)},le=function(){return ne.current.modalRef=ce.current,ne.current.mountNode=re.current,ne.current},se=function(){Y.mount(le(),{disableScrollLock:A}),ce.current.scrollTop=0},ue=Object(p.a)((function(){var e=function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(w)||oe().body;Y.add(le(),e),ce.current&&se()})),de=a.useCallback((function(){return Y.isTopModal(le())}),[Y]),fe=Object(p.a)((function(e){re.current=e,e&&(G&&G(),$&&de()?se():O(ce.current,!0))})),be=a.useCallback((function(){Y.remove(le())}),[Y]);if(a.useEffect((function(){return function(){be()}}),[be]),a.useEffect((function(){$?ue():ie&&y||be()}),[$,be,ie,y,ue]),!W&&!$&&(!ie||ee))return null;var je=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:m.a}),pe={};return void 0===v.props.tabIndex&&(pe.tabIndex=v.props.tabIndex||"-1"),ie&&(pe.onEnter=Object(j.a)((function(){te(!1)}),v.props.onEnter),pe.onExited=Object(j.a)((function(){te(!0),y&&be()}),v.props.onExited)),a.createElement(b,{ref:fe,container:w,disablePortal:P},a.createElement("div",Object(c.a)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&de()&&(q&&q(e),B||(e.stopPropagation(),Z&&Z(e,"escapeKeyDown")))},role:"presentation"},Q,{style:Object(c.a)({},je.root,!$&&ee?je.hidden:{},Q.style)}),_?null:a.createElement(x,Object(c.a)({open:$,onClick:function(e){e.target===e.currentTarget&&(K&&K(e),!F&&Z&&Z(e,"backdropClick"))}},h)),a.createElement(C,{disableEnforceFocus:T,disableAutoFocus:N,disableRestoreFocus:M,getDoc:oe,isEnabled:de,open:$},a.cloneElement(v,pe))))}));t.a=F},1064:function(e,t,n){"use strict";n.r(t),n.d(t,"reorder",(function(){return oe}));var r=n(19),c=n(1),a=n.n(c),i=n(17),o=n(4),l=n(13),s=n(57),u=n(0),d=n.n(u),f=n(35),b=n(921),j=n.n(b),p=n(922),m=n.n(p),x=n(1045),h=n(111),v=n(5),O=n(40),g=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="RolesReservedCollection","CollectionTypesReservedCollection",c=Object(i.a)(Object(i.a)({},t),{},{fields:[].concat(Object(r.a)(t.fields),[{id:"createdAt",type:"date",displayOnTable:!0,isDefault:!0},{id:"modifiedAt",type:"date",displayOnTable:!0,isDefault:!0},{id:"docId",type:"string",displayOnTable:!0,isDefault:!0}])}),e.next=6,Object(O.a)("CollectionTypesReservedCollection",c);case 6:if((o=e.sent).error||!o.docId){e.next=12;break}return e.next=10,Object(O.c)({collectionId:n,limit:1e3});case 10:e.sent.forEach((function(e){return Object(O.e)(n,e.docId,Object(i.a)(Object(i.a)({},e),{},{permissions:Object(i.a)(Object(i.a)({},e.permissions),{},Object(v.a)({},o.docId,e.defaultPermissions))})).then((function(e){return console.log(e)}))}));case 12:return e.abrupt("return",o);case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",Promise.resolve({error:e.t0.toString()}));case 18:return e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),y=n(98),w=n(186),k=n(188),N=n(185),C=n(2),S=["className","options","value","setValue","disabled"],E=function(e){var t=e.className,n=void 0===t?"":t,r=e.options,c=e.value,a=e.setValue,o=e.disabled,l=Object(N.a)(e,S);return Object(C.jsx)("div",Object(i.a)(Object(i.a)({className:"flex -mx-2 flex-wrap sm:flex-nowrap mb-10 "+n},l),{},{children:r.map((function(e,t){return Object(C.jsx)("div",{"data-testid":"touple-option-".concat(e.value),onClick:function(){return a(e.value)},className:"sm:w-1/2 w-full mx-2 mb-3 sm:mb-0 py-7 select-none ".concat(o?"cursor-default":"cursor-pointer"," flex items-center justify-center rounded ").concat(c===e.value?"border-4 border-fireck-4":"bg-gray-300 ".concat(o?"":"hover:bg-gray-301")),children:Object(C.jsxs)("div",{className:"flex items-center pointer-events-none",children:[Object(C.jsx)("div",{className:e.icon?"mr-7":"",children:e.label}),e.icon?Object(C.jsx)(e.icon,{}):null]})},e.value)}))}))},I=n(189),F=n.n(I),D=n(834);var T=function(e){for(var t,n,r="",c=0;c<e.length;c++)" "===e[c]?r+="-":c>0&&e[c-1].toLowerCase()===e[c-1]&&" "!==e[c-1]&&e[c].toUpperCase()===e[c]&&!((n=e[c])>="0"&&n<="9")&&(1===(t=e[c]).length&&t.match(/[a-z]/i))?r+="-"+e[c].toLowerCase():r+=e[c].toLowerCase();return r},L="CollectionTypesReservedCollection",B=function(e){var t=e.open,n=e.onClose,r=e.collections,c=e.editingCollectionDocId,l=e.onCreate,u=e.onUpdate,d=e.onDelete,f={name:"",id:"",single:!1,draftable:!0,fields:[],size:0,isSystem:!1,docId:""},b=Object(y.b)(),j=c.length&&r.find((function(e){return e.docId===c}))||f,p=Object(k.a)({enableReinitialize:!0,onSubmit:function(){var e=Object(o.a)(a.a.mark((function e(t,r){var o,s,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.resetForm,s=T(t.name),!c.length){e.next=8;break}return e.next=5,Object(O.e)(L,m.docId,Object(i.a)(Object(i.a)({},m),{},{id:s}));case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,g(Object(i.a)(Object(i.a)({},m),{},{id:s}));case 10:e.t0=e.sent;case 11:d=e.t0,f=c.length?"updated":"created",d.error?b(d.error,{variant:"error"}):(c.length?u(d):l(d),o(),n(),b("Collection type "+f+"!",{variant:"success"}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),initialValues:j,validate:function(e){var t={};if(e.name){var n=T(e.name),a=r.findIndex((function(e){return e.id===n}));-1!==a&&r[a].docId!==c&&(t.name="There is collection with the same name")}else t.name="Collection name is required";return t}}),m=p.values,v=p.errors,N=p.handleSubmit,S=p.handleChange,I=p.setFieldValue,B=p.isSubmitting,z=p.submitCount;return Object(C.jsx)(x.a,{open:t,hideBackdrop:!0,children:Object(C.jsx)("div",{className:"w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7",children:Object(C.jsxs)("div",{className:"m-auto rounded bg-white w-full p-7 relative animate-littlemoveup",style:{maxWidth:600},children:[Object(C.jsx)(F.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:n}),Object(C.jsxs)("div",{className:"text-22px font-medium mb-12",children:[c.length?"Edit":"Create"," collection type"]}),Object(C.jsxs)("div",{className:"flex flex-wrap mb-7",children:[Object(C.jsxs)("div",{className:"mb-3 sm:w-1/2 w-full sm:pr-2",children:[Object(C.jsx)(D.a,{ground:"Dialog",className:"mb-2",children:"Collection name"}),Object(C.jsx)(h.a,{ground:"Dialog",className:"h-34px","data-testid":"collection-name-input",error:!!(z>0&&v.name)&&v.name,value:m.name,name:"name",onChange:S,onKeyDown:function(e){"Enter"===e.key&&N()}})]}),Object(C.jsxs)("div",{className:"mb-3 sm:w-1/2 w-full sm:pl-2",children:[Object(C.jsx)(D.a,{ground:"Dialog",className:"mb-2",children:"UID"}),Object(C.jsx)(h.a,{className:"h-34px",ground:"Dialog",disabled:!0,value:T(m.name),name:"id"})]})]}),Object(C.jsx)(E,{disabled:c.length>0,value:m.single,options:[{value:!1,label:"Multiple elements"},{value:!0,label:"Single element"}],setValue:function(e){return c?{}:I("single",e)}}),c?Object(C.jsx)(s.a,{"data-testid":"delete-collection-btn",onClick:Object(o.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)({confirmation:"Delete collection type?"});case 2:if(!e.sent){e.next=9;break}return t=c,e.next=6,Object(O.b)(L,t);case 6:(r=e.sent).error?b(r.error,{variant:"error"}):(n(),d(t),b("Collection type deleted!",{variant:"success"})),n();case 9:case"end":return e.stop()}}),e)}))),className:"border-2 min-w-unset h-34px px-4 border-red-FF0000 text-red-FF0000 mb-10 hover:bg-red-FF0000 hover:text-white",children:"Delete collection"}):null,Object(C.jsxs)("div",{className:"flex justify-between",children:[Object(C.jsx)(s.a,{onClick:function(){return n()},className:"ButtonSecondaryBackground ButtonSecondaryTextColor",children:"Cancel"}),Object(C.jsx)(s.a,{"data-testid":"submit-btn",disabled:B,onClick:function(){return N()},className:"ButtonPrimaryBackground ButtonPrimaryTextColor h-34px",children:B?"Loading...":"Submit"})]})]})})})},z=n(842),P=n(871),R=n(1038),M=n.n(R),V=n(862),A=(n(863),n(864),n(865),n(866),n(867),n(868),function(e){var t=e.code;return Object(C.jsx)(V.UnControlled,{value:t,options:{theme:"material",lineNumbers:!0,readOnly:!0,mode:"text/typescript"}})}),H=function(e){return new Array(e).fill(0).reduce((function(e,t){return e+" "}),"")},_=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,c=function(t){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.length?"{\n".concat(t.reduce((function(t,c){return t+"".concat(H(n)).concat(c.id.includes(" ")||c.id.includes("-")?'"'.concat(c.id,'"'):c.id,": ").concat(e(c,n+r),";\n")}),"")).concat(H(n-r)).concat(c?"}[]":"}"):c?"any[]":"null"},a={password:function(){return"string"},string:function(){return"string"},"rich-text":function(){return"string"},json:function(){return"object"},map:function(){return"object"},array:function(){return"any[]"},media:function(e){return"media"===e.type&&e.mediaSingle?"string":"string[]"},date:function(){return"string"},enum:function(){return"string[]"},number:function(){return"number"},boolean:function(){return"boolean"},relation:function(e){return"relation"===e.type&&e.relationOneToOne?"string":"string[]"},collection:function(e){return c("collection"===e.type?e.collectionFields:[],!0)},document:function(e){return c("document"===e.type?e.documentFields:[])},script:function(){return"object"},"script-V2":function(){return"object"},any:function(){return"any"},"hashed-password":function(){return"string"},color:function(){return"string"}};return"".concat(a[t.type](t))},U=function(e){var t={type:"document",documentFields:e.fields};return"interface Document ".concat(_(t,3))},W=function(e){var t=e.open,n=e.collectionType,r=e.onClose,c=Object(u.useState)(!1),a=Object(l.a)(c,2),i=a[0],o=a[1],d=n?U(n):"";return n?Object(C.jsx)(x.a,{open:t,hideBackdrop:!0,children:Object(C.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-9",onMouseDown:r,children:Object(C.jsxs)("div",{className:"bg-white p-7 m-auto rounded md:max-w-lg max-w-sm w-full relative animate-littlemoveup",onMouseDown:function(e){return e.stopPropagation()},children:[Object(C.jsx)(F.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:r}),Object(C.jsxs)("div",{className:"mb-7 text-22px capitalize font-medium",children:[n.name," interface"]}),Object(C.jsxs)("div",{className:"relative rounded overflow-hidden",children:[Object(C.jsx)(s.a,{onClick:function(){navigator.clipboard.writeText(d),o(!0),setTimeout((function(){o(!1)}),2e3)},className:"absolute min-w-unset z-20 top-1 right-1 text-xs cursor-pointer h-6 px-3 bg-fireck-4 hover:bg-fireck-4-hover",children:i?"Copied!":"Copy"}),Object(C.jsx)(A,{code:d})]})]})})}):null},J=n(187),Y=n(839),K=n.n(Y),Z=n(858),q=n(831),G=function(e){var t=e.proceed,n=e.initialFieldInputType,r=d.a.useState("string"),c=Object(l.a)(r,2),a=c[0],i=c[1];return Object(u.useEffect)((function(){n&&i(n)}),[n]),Object(C.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7",children:Object(C.jsxs)("div",{className:"m-auto rounded bg-white p-7 w-full relative animate-littlemoveup",style:{maxWidth:550},children:[Object(C.jsx)(F.a,{className:"cursor-pointer absolute top-0 right-0",onClick:function(){return t(null)}}),Object(C.jsx)("div",{className:"text-22px font-medium mb-7",children:"Select field type"}),Object(C.jsx)("div",{className:"mb-6",children:Object(C.jsx)("div",{className:"flex flex-wrap",children:z.b.map((function(e,t){return Object(C.jsx)("div",{"data-testid":"fieldtype-option-".concat(e.type),onClick:function(){return i(e.type)},className:"flex md:w-1/3 sm:w-1/2 w-full select-none p-3 border-4 border-solid border-white items-center cursor-pointer rounded  ".concat(a===e.type?"border-fireck-4":"hover:border-gray-300 hover:bg-gray-300"),children:Object(C.jsxs)("div",{className:"flex items-center pointer-events-none",children:[Object(C.jsx)(e.Badge,{}),Object(C.jsx)("span",{className:"capitalize ml-2 line-clamp-1",children:e.type.replace("-"," ")})]})},"field-type-".concat(t))}))})}),Object(C.jsxs)("div",{className:"flex justify-between",children:[Object(C.jsx)(s.a,{"data-testid":"cancel-field-type-btn",onClick:function(){t(null)},className:"bg-black bg-opacity-10 hover:bg-opacity-20 h-28px px-6 min-w-unset",children:"Cancel"}),Object(C.jsx)(s.a,{"data-testid":"submit-field-type-btn",onClick:function(){t(a)},className:"bg-fireck-4 hover:bg-fireck-4-hover h-28px px-6 min-w-unset",children:"Submit"})]})]})})},$=n(832),Q=n(853),X=n(854),ee=n(1037),te=n.n(ee),ne=n(852),re=n(855),ce=["Badge","field","index"],ae=function(e){var t,n,c=e.editableField,u=e.existingFieldNames,b=e.proceed,p=e.fieldType,x=e.zLevel,v=Object(i.a)(Object(i.a)({},{id:"",displayOnTable:!0,isDefault:!1,type:""}),"collection"===p?{collectionFields:[],type:p}:"enum"===p?{enumOptions:[],type:p}:"string"===p?{stringLong:!1,type:p}:"media"===p?{mediaSingle:!1,type:p}:"relation"===p?{relatedCollectionTypeDocId:"",relationOneToOne:!0,type:p,labelField:""}:"document"===p?{documentFields:[],type:p}:{type:p}),O=Object(k.a)({onSubmit:function(e){b(e)},initialValues:c?Object(i.a)(Object(i.a)({},v),c):v,validate:function(e){var t={};return e.id?u&&u.findIndex((function(t){return t===e.id}))>-1&&(t.id="There is field with the same name"):t.id="Field name is required","enum"===e.type&&e.enumOptions.length<2&&(t.enumOptions="Enum requires at least two options"),"relation"===e.type&&""===e.relatedCollectionTypeDocId&&(t.relatedCollectionTypeDocId="Select related collection"),t}}),g=O.values,y=O.errors,S=O.handleChange,I=O.handleSubmit,T=O.setFieldValue,L=O.submitCount,B=d.a.useState(""),P=Object(l.a)(B,2),R=P[0],M=P[1],V=z.b.find((function(e){return e.type===p})),A=Object(f.e)((function(e){return e.collectionTypes})),H=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:"collection"===g.type&&(n=oe(g.collectionFields,t.source.index,t.destination.index),T("collectionFields",n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){if(R&&"enum"===g.type){var e=Object(r.a)(g.enumOptions);e.push(R),T("enumOptions",e),M("")}},U=y;return Object(C.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7",children:Object(C.jsxs)("div",{style:{maxWidth:550},className:"m-auto rounded bg-white p-7 w-full relative animate-littlemoveup",children:[Object(C.jsx)(F.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return b(null)}}),Object(C.jsxs)("div",{className:"text-22px font-medium mb-9 flex items-center",children:[V?Object(C.jsx)(V.Badge,{}):null,Object(C.jsxs)("span",{className:"ml-3",children:[c?"Edit":"Add"," ",V?V.type:""," field"]})]}),Object(C.jsxs)("div",{className:"mb-9",children:[Object(C.jsx)("div",{className:"mb-2",children:"Field name"}),Object(C.jsx)(h.a,{ground:"Dialog",className:"h-34px","data-testid":"field-id-input-".concat(x),error:L>0?y.id:"",value:g.id,name:"id",onChange:S,onKeyDown:function(e){"Enter"===e.key&&I()}})]}),"media"===g.type?Object(C.jsx)(E,{"data-testid":"media-touple-".concat(x),options:[{value:!1,label:"Multiple media"},{value:!0,label:"Single media"}],value:g.mediaSingle,setValue:function(e){return T("mediaSingle",e)}}):"enum"===g.type?Object(C.jsxs)("div",{className:"mb-10",children:[Object(C.jsx)("div",{className:"mb-2",children:"Options"}),Object(C.jsx)("div",{className:"flex flex-wrap",children:g.enumOptions.map((function(e,t){return Object(C.jsxs)("div",{"data-testid":"enum-option-".concat(e,"-").concat(x),className:"bg-gray-300 rounded flex items-center px-3 h-34px mr-3 mb-3",children:[Object(C.jsx)("div",{className:"mr-4",children:e}),Object(C.jsx)("div",{className:"cursor-pointer text-xs",onClick:function(){var e=Object(r.a)(g.enumOptions);e.splice(t,1),T("enumOptions",e)},children:"\u2715"})]},"enum-option-".concat(t))}))}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)(h.a,{ground:"Dialog","data-testid":"enum-option-input-".concat(x),className:"mr-3",error:L>0?null===(t=U.enumOptions)||void 0===t?void 0:t.toString():"",type:"text",value:R,onChange:function(e){return M(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&_()}}),Object(C.jsx)(s.a,{"data-testid":"add-enum-option-btn-".concat(x),onClick:_,className:"bg-fireck-4 hover:bg-fireck-4-hover",children:"Add option"})]})]}):"relation"===g.type?Object(C.jsxs)("div",{className:"mb-10",children:[Object(C.jsxs)("div",{className:"mb-9",children:[Object(C.jsx)(D.a,{ground:"Dialog",error:L>0?U.relatedCollectionTypeDocId:"",className:"mb-2",children:"Related collection"}),Object(C.jsx)($.a,{className:"h-34px",ground:"Dialog","data-testid":"related-collection-select-".concat(x),options:[{value:"",label:"Select"}].concat(Object(r.a)(A.filter((function(e){return!e.isSystem})).map((function(e){return{label:e.id,value:e.docId}})))),value:g.relatedCollectionTypeDocId,onChange:function(e){return T("relatedCollectionTypeDocId",e.target.value)}})]}),Object(C.jsxs)("div",{className:"mb-9",children:[Object(C.jsx)(D.a,{ground:"Dialog",error:L>0?U.relatedCollectionTypeDocId:"",className:"mb-2",children:"Label field"}),Object(C.jsx)($.a,{className:"h-34px",ground:"Dialog","data-testid":"label-field-select-".concat(x),options:[{value:"",label:"Select"}].concat(Object(r.a)((null===(n=A.find((function(e){return e.docId===g.relatedCollectionTypeDocId})))||void 0===n?void 0:n.fields.map((function(e){return{value:e.id,label:e.id}})))||[])),value:g.labelField,onChange:function(e){return T("labelField",e.target.value)}})]}),Object(C.jsx)("div",{className:"mb-2",children:"Relation type"}),Object(C.jsx)(E,{"data-testid":"relation-multiplicity-touple-".concat(x),value:g.relationOneToOne,setValue:function(e){return T("relationOneToOne",e)},options:[{value:!0,label:"One to one",icon:Q.a},{value:!1,label:"One to many",icon:X.a}]})]}):"string"===g.type?Object(C.jsx)(E,{"data-testid":"string-type-touple-".concat(x),value:g.stringLong,setValue:function(e){return T("stringLong",e)},options:[{label:"Short text",value:!1},{label:"Long text",value:!0}]}):"collection"===g.type?Object(C.jsxs)("div",{className:"mb-9",children:[Object(C.jsxs)("div",{className:"flex mb-2",children:[Object(C.jsx)("div",{className:"mr-2",children:"Fields"}),Object(C.jsx)(te.a,{"data-testid":"add-field-for-subcollection-btn-".concat(x),className:"cursor-pointer",onClick:Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie({existingFieldNames:g.collectionFields.map((function(e){return e.id})),zLevel:x+1});case 2:if(t=e.sent,console.log("FINAL FIELD",t),t){e.next=6;break}return e.abrupt("return");case 6:n=[].concat(Object(r.a)(g.collectionFields),[t]),T("collectionFields",n);case 8:case"end":return e.stop()}}),e)})))})]}),Object(C.jsx)(re.a,{items:g.collectionFields.map((function(e){var t;return{field:e,Badge:null===(t=z.b.find((function(t){return t.type===e.type})))||void 0===t?void 0:t.Badge}})),onDragEnd:H,containerClassName:"max-h-247px overflow-auto",Item:function(e){var t=e.Badge,n=e.field,c=e.index,l=Object(N.a)(e,ce);return Object(C.jsx)("div",{className:"pb-2",children:Object(C.jsxs)("div",Object(i.a)(Object(i.a)({className:"rounded bg-gray-300 px-3 py-2 flex items-center"},l),{},{children:[Object(C.jsx)("div",{className:"line-clamp-1 w-5/12 px-3",children:n.id}),Object(C.jsxs)("div",{className:"flex w-4/12 flex-shrink-0 items-center",children:[t?Object(C.jsx)(t,{}):null,Object(C.jsx)("span",{className:"ml-3 hidden sm:block line-clamp-1",children:n.type})]}),Object(C.jsxs)("div",{className:"flex items-center flex-grow justify-end text-base",children:[Object(C.jsx)(ne.a,{className:"mr-1",variant:"transparent",onClick:Object(o.a)(a.a.mark((function e(){var t,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie({zLevel:x+1,editableField:n,existingFieldNames:g.collectionFields.map((function(e){return e.id})).filter((function(e){return e!==n.id}))});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:(i=Object(r.a)(g.collectionFields))[c]=t,T("collectionFields",i);case 8:case"end":return e.stop()}}),e)}))),children:Object(C.jsx)(j.a,{fontSize:"inherit"})}),Object(C.jsx)(ne.a,{variant:"transparent",onClick:Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)({confirmation:"Delete field?"});case 2:e.sent&&((t=Object(r.a)(g.collectionFields)).splice(c,1),T("collectionFields",t));case 4:case"end":return e.stop()}}),e)}))),children:Object(C.jsx)(m.a,{fontSize:"inherit"})})]})]}))})}})]}):null,Object(C.jsxs)("div",{className:"flex justify-between",children:[Object(C.jsx)(s.a,{"data-testid":"cancel-field-details-btn-".concat(x),onClick:function(){return b(c?null:"back")},className:"bg-black bg-opacity-10 hover:bg-opacity-20 min-w-unset h-28px px-6",children:c?"Cancel":"Back"}),Object(C.jsx)(s.a,{"data-testid":"submit-field-details-btn-".concat(x),type:"submit",onClick:function(){return I()},className:"bg-fireck-4 hover:bg-fireck-4-hover h-28px px-6 min-w-unset",children:"Submit"})]})]})})},ie=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,c,i,o,l,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.editableField,r=t.existingFieldNames,c=t.initialFieldInputType,i=t.zLevel,!n){e.next=5;break}e.t0=n.type,e.next=8;break;case 5:return e.next=7,Object(q.a)({Component:G,props:c?{initialFieldInputType:c}:{}});case 7:e.t0=e.sent;case 8:if(null!=(o=e.t0)){e.next=11;break}return e.abrupt("return",o);case 11:return l=o,e.next=14,Object(q.a)({Component:ae,props:{fieldType:l,editableField:n,existingFieldNames:r,zLevel:i}});case 14:if("back"!==(s=e.sent)){e.next=19;break}return e.abrupt("return",ie({editableField:n,existingFieldNames:r,zLevel:i,initialFieldInputType:l}));case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e,t,n){var r=Array.from(e),c=r.splice(t,1),a=Object(l.a)(c,1)[0];return r.splice(n,0,a),r},le="CollectionTypesReservedCollection";t.default=function(){var e=d.a.useState(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],b=Object(f.d)(),p=Object(y.b)(),x=d.a.useState(""),h=Object(l.a)(x,2),v=h[0],g=h[1],k=d.a.useState(""),N=Object(l.a)(k,2),S=N[0],E=N[1],I=d.a.useState(),F=Object(l.a)(I,2),D=F[0],T=F[1],L=Object(f.e)((function(e){return e.collectionTypes.filter((function(e){return!e.isSystem}))}),f.c);Object(u.useEffect)((function(){L.length&&!S&&E(L[0].docId)}),[L]);var R=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,c,o,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=L.find((function(e){return e.docId===S}))){e.next=3;break}return e.abrupt("return");case 3:return r=n.fields[t],e.next=6,ie({editableField:r,zLevel:0,existingFieldNames:n.fields.filter((function(e){return e.id!==r.id})).map((function(e){return e.id}))});case 6:if(!(c=e.sent)){e.next=14;break}return(o=JSON.parse(JSON.stringify(n.fields)))[t]=c,e.next=12,Object(O.e)(le,n.docId,Object(i.a)(Object(i.a)({},n),{},{fields:o}));case 12:(l=e.sent).error?p(l.error,{variant:"error"}):b({type:"UPDATE_COLLECTION_FIELDS",payload:o,docId:n.docId});case 14:return e.abrupt("return",{success:!1});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L.find((function(e){return e.docId===S}))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ie({zLevel:0,existingFieldNames:t.fields.map((function(e){return e.id}))});case 5:if(!(n=e.sent)){e.next=12;break}return c=[].concat(Object(r.a)(t.fields),[n]),e.next=10,Object(O.e)(le,t.docId,Object(i.a)(Object(i.a)({},t),{},{fields:c}));case 10:(o=e.sent).error?p(o.error,{variant:"error"}):(b({type:"UPDATE_COLLECTION_FIELDS",payload:c,docId:t.docId}),p("Field added!",{variant:"success"}));case 12:return e.abrupt("return",{success:!1});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)({confirmation:"Delete field?"});case 2:if(!e.sent){e.next=10;break}return(n=JSON.parse(JSON.stringify(L.find((function(e){return e.docId===S}))))).fields.splice(t,1),e.next=8,Object(O.e)(le,S,n);case 8:(r=e.sent).error?p(r.error,{variant:"error"}):b({type:"UPDATE_COLLECTION_FIELDS",payload:n.fields,docId:S});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:if(n=L.find((function(e){return e.docId===S}))){e.next=5;break}return e.abrupt("return");case 5:r=oe(n.fields,t.source.index,t.destination.index),b({type:"UPDATE_COLLECTION_FIELDS",payload:r,docId:n.docId}),Object(O.e)(le,n.docId,Object(i.a)(Object(i.a)({},n),{},{fields:r}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Z.a,{entityContent:Object(C.jsx)("div",{className:"h-full bg-white rounded overflow-hidden",children:Object(C.jsx)(P.a,{onDragEnd:H,children:Object(C.jsx)(P.c,{droppableId:"droppable",children:function(e,t){var n;return Object(C.jsx)(J.a,{className:"overflow-auto w-full h-full scrollbar-light scrollbar-thin py-0.5",autoHide:!1,children:Object(C.jsxs)("div",Object(i.a)(Object(i.a)({className:"min-w-430px"},e.droppableProps),{},{ref:e.innerRef,children:[null===(n=L.find((function(e){return e.docId===S})))||void 0===n?void 0:n.fields.map((function(e,t){var n,r=null===(n=z.b.find((function(t){return t.type===e.type})))||void 0===n?void 0:n.Badge;return Object(C.jsx)(P.b,{draggableId:e.id,index:t,children:function(n,c){return Object(C.jsxs)("div",Object(i.a)(Object(i.a)({"data-testid":"field-id-".concat(e.id),className:"bg-white hover:bg-fireck-3 flex items-center px-2 py-0.5",ref:n.innerRef},n.draggableProps),{},{children:[Object(C.jsx)("div",Object(i.a)(Object(i.a)({},n.dragHandleProps),{},{children:Object(C.jsx)(M.a,{fontSize:"inherit",className:"text-lg"})})),Object(C.jsx)("div",{className:"line-clamp-1 w-5/12 px-3",children:e.id}),Object(C.jsxs)("div",{className:"flex w-4/12 flex-shrink-0 items-center",children:[r?Object(C.jsx)(r,{}):null,Object(C.jsx)("span",{className:"ml-3 hidden sm:block line-clamp-1",children:e.type})]}),e.isDefault?null:Object(C.jsxs)("div",{className:"flex items-center flex-grow justify-end",children:[Object(C.jsx)("div",{"data-testid":"edit-for-field-".concat(e.id),className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-white",onClick:function(){R(t)},children:Object(C.jsx)(j.a,{fontSize:"inherit",classes:{root:"pointer-events-none text-lg"}})}),Object(C.jsx)("div",{className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white","data-testid":"delete-for-field-".concat(e.id),onClick:function(){return A(t)},children:Object(C.jsx)(m.a,{classes:{root:"pointer-events-none text-lg"},fontSize:"inherit"})})]})]}),"field-".concat(t))}},e.id)})),e.placeholder]}))})}})})}),selectedEntityId:S,entity:"collection",enitityPlural:"collections",entities:L,onSelectEntity:function(e){return E(e)},onAddEntity:function(){return c(!0)},onInvokeEntityEdit:function(){g(S),c(!0)},entityButtons:Object(C.jsxs)("div",{className:"flex flex-wrap",children:[Object(C.jsx)(s.a,{"data-testid":"view-interface-btn",onClick:function(){return T(L.find((function(e){return e.docId===S})))},className:"bg-black bg-opacity-10 hover:bg-opacity-15 h-28px mr-3 mb-3 px-5 min-w-unset rounded",children:Object(C.jsx)("div",{className:"flex items-center pointer-events-none",children:"Interface"})}),Object(C.jsx)(s.a,{"data-testid":"add-new-field-btn",onClick:Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V();case 1:case"end":return e.stop()}}),e)}))),className:"bg-fireck-4 hover:bg-fireck-4-hover mb-3 h-28px pl-3 min-w-unset rounded",children:Object(C.jsxs)("div",{className:"flex items-center pointer-events-none",children:[Object(C.jsx)(K.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(C.jsx)("span",{children:"Add field"})]})})]})}),Object(C.jsx)(B,{editingCollectionDocId:v,collections:L,onCreate:function(e){b({type:"ADD_COLLECTION_TYPE",payload:e}),E(e.docId)},onUpdate:function(e){b({type:"UPDATE_COLLECTION_TYPE",payload:e,docId:e.docId})},onDelete:function(e){E(""),g(""),b({type:"DELETE_COLLECTION_TYPE",payload:e})},open:n,onClose:function(){c(!1),g("")}}),Object(C.jsx)(W,{onClose:function(){return T(void 0)},open:!!D,collectionType:D})]})}},831:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(17),c=n(33),a=n.n(c),i=(n(0),n(35)),o=n(30),l=n(98),s=n(244),u=n(65),d=n(2);function f(e){var t=e.Component,n=e.props;return new Promise((function(e,c){var f,b=null===(f=document.getElementById("root"))||void 0===f?void 0:f.appendChild(document.createElement("div"));b&&a.a.render(Object(d.jsx)(i.a,{store:o.a,children:Object(d.jsx)(l.a,{children:Object(d.jsx)(s.QueryClientProvider,{client:u.queryClient,children:Object(d.jsx)(t,Object(r.a)(Object(r.a)({},n),{},{proceed:function(t){var n;a.a.unmountComponentAtNode(b),null===(n=b.parentNode)||void 0===n||n.removeChild(b),e(t)}}))})})}),b)}))}},832:function(e,t,n){"use strict";var r=n(5),c=n(185),a=n(17),i=n(848),o=n(773),l=n(0),s=n.n(l),u=n(110),d=n.n(u),f=n(2),b=["className","options","error","ground"],j=s.a.forwardRef((function(e,t){return Object(f.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{ref:t,children:Object(f.jsx)(i.a,{className:"text-red-FF0000",size:20})}))}));t.a=function(e){var t=e.className,n=void 0===t?"":t,i=e.options,l=e.error,s=e.ground,u=Object(c.a)(e,b),p="input".concat(s,"TextColor input").concat(s,"HoverBackground input").concat(s,"FocusedTextColor input").concat(s,"FocusedBackground input").concat(s,"FocusedBorderColor input").concat(s,"Background");return Object(f.jsxs)("div",{className:"".concat(n," relative flex items-center"),children:[Object(f.jsx)("select",Object(a.a)(Object(a.a)({className:d()("px-3 h-full border-2 border-solid w-full rounded outline-none",Object(r.a)({"border-red-FF0000":l},p,!l))},u),{},{spellCheck:!1,children:i.map((function(e,t){return Object(f.jsx)("option",{"data-testid":"select-option-".concat(e.value),value:e.value,children:e.label},"opt-"+t)}))})),l?Object(f.jsx)(o.a,{title:l,placement:"top",children:Object(f.jsx)(j,{className:"absolute right-2 my-auto w-auto"})}):null]})}},833:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(849),c=n.n(r);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=0>t?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}function i(e){try{return c.a.extension(e.type)||e.name.split(".").pop()||"unknown"}catch(t){return"unknown"}}function o(e){return e.charAt(0).toLowerCase()+e.slice(1)}},834:function(e,t,n){"use strict";var r=n(17),c=n(0),a=n.n(c),i=n(319),o=n.n(i),l=n(773),s=n(110),u=n.n(s),d=n(2),f=a.a.forwardRef((function(e,t){return Object(d.jsx)("div",Object(r.a)(Object(r.a)({},e),{},{ref:t,children:Object(d.jsx)(o.a,{className:"text-red-500 text-xl",fontSize:"inherit"})}))}));t.a=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,c=e.error,a=e.ground;return Object(d.jsxs)("div",{className:u()("flex justify-between relative ".concat(n),"".concat(a.toLowerCase(),"TextColor")),children:[Object(d.jsx)("div",{children:r}),c?Object(d.jsx)(l.a,{title:c,placement:"top",children:Object(d.jsx)(f,{className:"absolute right-2 my-auto w-auto"})}):null]})}},835:function(e,t,n){"use strict";var r=n(19),c=n(1),a=n.n(c),i=n(4),o=n(13),l=n(837),s=n(0),u=n.n(s),d=n(844),f=n.n(d),b=n(34),j=n(186),p=n(836),m=n(57),x=n(187),h=n(110),v=n.n(h),O=n(17),g=n(98),y=(n(831),n(2)),w=n(245),k=n(244),N=function(e){var t=e.collectionId,n=e.filters,c=void 0===n?[]:n,a=e.orderBy,i=e.inView,o=(Object(g.b)(),Object(s.useCallback)((function(){var e={collectionId:t,where:"",orderBy:""};return c.forEach((function(t,n){e.where+=(n>0?";":"")+t.fieldId+","+t.operator+","+t.value,a&&a.fieldId!==t.fieldId&&(e.orderBy+=(e.orderBy?";":"")+t.fieldId)})),a&&(e.orderBy+=(e.orderBy?";":"")+"".concat(a.fieldId,",").concat(a.direction)),a||c.length||(e.orderBy="createdAt,asc"),e.populateRef=!1,e}),[a,c,t])),l=Object(k.useInfiniteQuery)([t,a,c],(function(e){var t=e.pageParam;return w.a.getCollection(Object(O.a)(Object(O.a)({},o()),{},{startAfter:t}))}),{keepPreviousData:!0,getNextPageParam:function(e,t){var n=(null===e||void 0===e?void 0:e.length)&&10===e.length?e[9]:null;return n?n[a?a.fieldId:"createdAt"]:void 0}}),u=l.data,d=(l.error,l.fetchNextPage),f=l.hasNextPage;return Object(s.useEffect)((function(){i&&f&&d()}),[i,d,f]),{docs:(null===u||void 0===u?void 0:u.pages.reduce((function(e,t){return[].concat(Object(r.a)(e),Object(r.a)(t))}),[]))||[]}},C=n(318),S=n(1044),E=n(843),I=n.n(E),F=n(833);t.a=function(e){var t=e.collectionType,n=e.onPick,c=e.blackList,d=void 0===c?[]:c,h=e.singleSelect,O=void 0!==h&&h,g=e.valueFormatters,k=e.ground,E=e.filters,D=void 0===E?[]:E,T=e.onEdit,L=e.hideFilters,B=void 0!==L&&L,z=Object(b.k)(),P=u.a.useState([]),R=Object(o.a)(P,2),M=R[0],V=R[1],A=t.fields.filter((function(e){return e.displayOnTable})),H=u.a.useState([]),_=Object(o.a)(H,2),U=_[0],W=_[1],J=u.a.useState(),Y=Object(o.a)(J,2),K=Y[0],Z=Y[1],q=u.a.useState(!1),G=Object(o.a)(q,2),$=G[0],Q=G[1],X=N({collectionId:t.id,filters:M,orderBy:K,inView:$}).docs,ee=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)({confirmation:"Delete ".concat(U.length," documents?")});case 2:if(!e.sent){e.next=5;break}w.a.deleteMultipleDocuments(t.id,X.filter((function(e){return U.includes(e.docId)}))),W([]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=T||function(e){z.push("/collections/".concat(t.id,"/edit/").concat(e.docId))},ne=function(e){return(null===K||void 0===K?void 0:K.fieldId)!==e.id?function(){Z({fieldId:e.id,direction:"asc"})}:"asc"!==(null===K||void 0===K?void 0:K.direction)?function(){return Z(void 0)}:function(){return Z({fieldId:e.id,direction:"desc"})}},re=function(e,t){W(t?O?[e]:function(t){return[].concat(Object(r.a)(t),[e])}:function(t){var n=Object(r.a)(t),c=n.findIndex((function(t){return t===e}));return null!=c&&n.splice(c,1),n})},ce=function(e,t){return"date"===e.type?I()(t).format("YYYY-MM-DD HH:mm"):g&&e.id in g?g[e.id](t):t.toString().substring(0,40)};return Object(s.useEffect)((function(){D.length&&V((function(e){return[].concat(Object(r.a)(e),Object(r.a)(D))}))}),[D]),Object(y.jsxs)("div",{className:"h-full w-full flex-col flex",children:[Object(y.jsxs)("div",{className:"flex justify-between mb-3",children:[B?null:Object(y.jsxs)("div",{className:"flex flex-wrap",children:[Object(y.jsx)(p.a,{ground:k,collectionType:t,onValue:function(e){return V((function(t){return[e].concat(Object(r.a)(t))}))}}),M.map((function(e,t){return e.hidden?null:Object(y.jsxs)("div",{className:v()("rounded min-h-28px border leading-28px pl-3 text-sm pr-3 flex mr-3 mb-3 relative","".concat(Object(F.c)(k),"TextColor ").concat(Object(F.c)(k),"BorderColor")),children:[e.fieldId," ",e.operator," ",e.value," ",Object(y.jsx)("span",{onClick:function(){return V((function(e){var n=Object(r.a)(e);return n.splice(t,1),n}))},className:"text-xs leading-28px ml-3 cursor-pointer",children:"\u2715"})]},"f-".concat(t))}))]}),n?Object(y.jsx)(m.a,{onClick:function(){return n(X.filter((function(e){return U.includes(e.docId)})))},className:"h-28px min-w-unset rounded mb-3 px-7 ".concat(0===U.length?"bg-gray-300 text-gray-500 cursor-default":"bg-fireck-4 hover:bg-fireck-4-hover"," "),children:"Select"}):Object(y.jsx)(m.a,{onClick:ee,disabled:0===U.length,className:"px-7 mb-3 min-w-unset rounded h-28px ".concat(0===U.length?"bg-fireck-3 text-gray-6C6C6C cursor-default":"bg-red-FF0000 hover:bg-red-FF0000-hover text-white"," "),children:"Delete"})]}),Object(y.jsx)("div",{className:v()("flex-grow h-0 -mt-3 rounded overflow-hidden bg-white"),children:Object(y.jsxs)(x.a,{className:"relative scrollbar-light h-full",autoHide:!1,children:[Object(y.jsxs)("table",{className:"w-full text-center",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"whitespace-nowrap",children:[Object(y.jsx)("th",{className:"sticky top-0 table".concat(k,"HeaderBackground z-10 px-1"),children:O?null:Object(y.jsx)(S.a,{size:"small",classes:{checked:"text-fireck-2",root:"p-0"},checked:U.length===X.length,onChange:function(e){return t=e.target.checked,W(t?X.map((function(e){return e.docId})):[]);var t}})}),A.map((function(e,t){return Object(y.jsx)("th",{className:"font-medium sticky top-0 table".concat(k,"HeaderBackground"),children:Object(y.jsxs)("div",{className:"flex items-center justify-center",children:[Object(y.jsx)("div",{className:"w-5"}),Object(y.jsx)("div",{className:"cursor-pointer select-none",onClick:ne(e),children:e.id}),Object(y.jsx)("div",{className:"w-5",children:(null===K||void 0===K?void 0:K.fieldId)===e.id?Object(y.jsx)(f.a,{fontSize:"small",className:"".concat("asc"===(null===K||void 0===K?void 0:K.direction)?"transform rotate-180":"")}):null})]})},"th-".concat(t))}))]})}),Object(y.jsxs)("tbody",{children:[X.map((function(e,t){return d.includes(e.docId)?null:Object(y.jsxs)("tr",{onClick:function(){return n?re(e.docId,!U.includes(e.docId)):te(e)},className:"cursor-pointer table".concat(k,"RowHoverTextColor table").concat(k,"RowHoverBackground"),children:[Object(y.jsx)("td",{className:"px-1",onClick:function(e){return e.stopPropagation()},children:Object(y.jsx)(S.a,{size:"small",classes:{checked:"text-fireck-2",root:"p-0"},checked:U.includes(e.docId),onChange:function(t){return re(e.docId,t.target.checked)}})}),A.map((function(n,r){return Object(y.jsx)("td",{className:"px-2",children:null!=e[n.id]?"media"===n.type?n.mediaSingle?Object(y.jsx)(l.a,{file:e[n.id]}):Object(y.jsx)(l.a,{files:e[n.id]}):Object(y.jsx)("div",{className:"whitespace-nowrap",children:ce(n,e[n.id])}):null},"row-".concat(t,"-col-").concat(r))}))]},"row-".concat(t))})),Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:A.length+1,children:Object(y.jsx)(C.a,{onChange:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(y.jsx)("div",{className:"w-full"})})})})]})]}),Object(y.jsx)("div",{})]})})]})}},836:function(e,t,n){"use strict";var r=n(19),c=n(1),a=n.n(c),i=n(4),o=n(13),l=n(822),s=n(111),u=n(832),d=n(57),f=n(0),b=n.n(f),j=n(188),p=n(834),m=n(316),x=n.n(m),h=n(2);t.a=function(e){var t=e.collectionType,n=e.onValue,c=(e.ground,b.a.useState(!1)),f=Object(o.a)(c,2),m=f[0],v=f[1],O=Object(j.a)({onSubmit:function(){var e=Object(i.a)(a.a.mark((function e(t,r){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r.resetForm,n(t),v(!1),c();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),initialValues:{value:"",operator:"",fieldId:""},validate:function(e){var t={};return Object.keys(e).forEach((function(n){e[n]||(t[n]="Required")})),t}}),g=O.values,y=O.errors,w=O.handleChange,k=O.submitCount,N=O.handleSubmit,C=O.isSubmitting;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{onClick:function(){return v(!0)},className:"bg-black bg-opacity-5 hover:bg-opacity-10 min-w-unset flex items-center justify-center h-28px px-7 rounded text-sm mr-3 mb-3",children:"Filters"}),m?Object(h.jsx)(l.a,{open:m,children:Object(h.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex p-7",onMouseDown:function(){return v(!1)},children:Object(h.jsxs)("div",{onMouseDown:function(e){return e.stopPropagation()},className:"bg-white rounded p-7 m-auto relative animate-littlemoveup",style:{maxWidth:600},children:[Object(h.jsx)(x.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return v(!1)}}),Object(h.jsxs)("div",{className:"flex flex-wrap -mx-2 mb-4",children:[Object(h.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(h.jsx)(p.a,{ground:"Dialog",className:"mb-2",error:k>0?y.fieldId:null,children:"Field"}),Object(h.jsx)(u.a,{className:"h-34px",ground:"Dialog",name:"fieldId",onChange:w,value:g.fieldId,options:[{value:"",label:"Select"}].concat(Object(r.a)(t.fields.map((function(e){return{value:e.id,label:e.id}}))))})]}),Object(h.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(h.jsx)(p.a,{ground:"Dialog",className:"mb-2",error:k>0?y.operator:null,children:"Operator"}),Object(h.jsx)(u.a,{className:"h-34px",ground:"Dialog",name:"operator",onChange:w,value:g.operator,options:[{value:"",label:"Select"}].concat(Object(r.a)(["<","<=","==",">",">=","!=","array-contains","array-contains-any","in","not-in"].map((function(e){return{value:e,label:e}}))))})]}),Object(h.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(h.jsx)(p.a,{ground:"Dialog",className:"mb-2 text-black",error:k>0?y.value:null,children:"Value"}),Object(h.jsx)(s.a,{onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),N())},ground:"Dialog",placeholder:["in","not in","array-contains-any"].includes(g.operator)?"value, value, value":"value",className:"placeholder-black h-34px",value:g.value,onChange:w,name:"value"})]})]}),Object(h.jsx)("div",{className:"flex justify-end",children:Object(h.jsx)(d.a,{disabled:C,onClick:function(){return N()},className:"buttonPrimaryBackground buttonPrimaryTextColor h-28px min-w-unset px-8",children:"Add"})})]})})}):null]})}},837:function(e,t,n){"use strict";var r=n(0),c=n.n(r),a=n(17),i=n(2),o=Object(r.forwardRef)((function(e,t){return Object(i.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),l=n(773),s=function(e){var t=e.src;return Object(i.jsx)(l.a,{arrow:!0,title:Object(i.jsx)("div",{className:"p-1",children:Object(i.jsx)("img",{src:t,className:"max-w-136px max-h-136px w-auto h-auto",alt:""})}),placement:"top",classes:{tooltip:"font-poppins text-xs p-0 rounded bg-fireck-1",arrow:"text-fireck-1"},children:Object(i.jsx)(o,{children:Object(i.jsx)("div",{className:"group w-4 h-4 relative flex items-center justify-center rounded hover:bg-gray-535371 hover:bg-opacity-5 cursor-pointer",children:Object(i.jsx)("div",{className:"relative w-4 h-4 rounded-full bg-center bg-cover pointer-events-none",style:{backgroundImage:"url(".concat(t,")")}})})})})};t.a=function(e){var t=e.files,n=e.file,r=c.a.useRef(Math.random());return Object(i.jsxs)("div",{className:"flex justify-center",children:[(t||(n?[n]:[])).slice(0,4).map((function(e,t){return Object(i.jsx)("div",{className:"mr-0.5",children:Object(i.jsx)(s,{src:e})},"".concat(r,"-file-").concat(t))})),t&&t.length>4?Object(i.jsx)("div",{className:"relative",children:Object(i.jsxs)("div",{className:"w-4 h-4 rounded-full bg-fireck-4 text-10px flex items-center justify-center",children:[t.length-4,"+"]})}):null]})}},840:function(e,t,n){"use strict";var r=n(17),c=n(185),a=n(110),i=n.n(a),o=n(2),l=["className"];t.a=function(e){var t=e.className,n=Object(c.a)(e,l);return Object(o.jsx)("div",Object(r.a)(Object(r.a)({},n),{},{className:i()("text-27px font-medium capitalize leading-none",t)}))}},842:function(e,t,n){"use strict";n.d(t,"a",(function(){return Qt}));var r,c=n(17),a=n(2),i=function(e){return Object(a.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{className:"w-8 rounded h-5 bg-fireck-4 text-center flex justify-center items-center text-10px font-medium"}))},o=function(){return Object(a.jsx)(i,{children:"Ab"})},l=function(){return Object(a.jsx)(i,{children:"123"})},s=function(){return Object(a.jsx)(i,{children:"{ }"})},u=function(){return Object(a.jsx)(i,{children:"[ ]"})},d=n(873),f=n.n(d),b=function(){return Object(a.jsx)(i,{children:Object(a.jsx)(f.a,{fontSize:"inherit",className:"text-lg"})})},j=n(874),p=n.n(j),m=function(){return Object(a.jsx)(i,{children:Object(a.jsx)(p.a,{fontSize:"inherit",className:"text-sm"})})},x=n(875),h=n.n(x),v=function(){return Object(a.jsx)(i,{children:Object(a.jsx)(h.a,{fontSize:"inherit",className:"text-base"})})},O=n(876),g=n.n(O),y=function(){return Object(a.jsx)(i,{children:Object(a.jsx)(g.a,{fontSize:"inherit",className:"text-base"})})},w=function(){return Object(a.jsx)(i,{children:Object(a.jsx)("span",{className:"text-10px",children:"JSON"})})},k=n(877),N=n.n(k),C=function(){return Object(a.jsx)(i,{children:Object(a.jsx)(N.a,{fontSize:"inherit",className:"text-xl"})})},S=n(878),E=n.n(S),I=function(){return Object(a.jsx)(i,{children:Object(a.jsx)(E.a,{fontSize:"inherit",className:"text-base"})})},F=n(879),D=n.n(F),T=function(){return Object(a.jsx)(i,{children:Object(a.jsx)(D.a,{fontSize:"inherit",className:"text-lg"})})},L=n(0),B=n.n(L),z=["title","titleId"];function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function M(e,t){var n=e.title,c=e.titleId,a=R(e,z);return L.createElement("svg",P({width:11,height:11,viewBox:"0 0 19 19",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},a),n?L.createElement("title",{id:c},n):null,r||(r=L.createElement("path",{d:"M0.570312 0.778809H6.57031V4.77881H0.570312V0.778809ZM12.5703 7.77881H18.5703V11.7788H12.5703V7.77881ZM12.5703 14.7788H18.5703V18.7788H12.5703V14.7788ZM10.5703 10.7788H4.57031V15.7788H10.5703V17.7788H4.57031H2.57031V6.77881H4.57031V8.77881H10.5703V10.7788Z",fill:"currentColor"})))}var V=L.forwardRef(M),A=(n.p,function(){return Object(a.jsx)(i,{children:Object(a.jsx)(V,{className:"m-auto"})})}),H=n(880),_=n.n(H),U=function(){return Object(a.jsx)(i,{children:Object(a.jsx)(_.a,{fontSize:"inherit",className:"text-base"})})},W=n(111),J=n(185),Y=n(110),K=n.n(Y),Z=["className","ground"],q=function(e){var t=e.className,n=void 0===t?"":t,r=e.ground,i=Object(J.a)(e,Z);return Object(a.jsx)("textarea",Object(c.a)(Object(c.a)({},i),{},{className:K()("border-2 rounded px-3 py-2 w-full min-h-208px outline-none",n,"input".concat(r,"Background input").concat(r,"HoverBackground input").concat(r,"HoverTextColor input").concat(r,"FocusedBorderColor input").concat(r,"FocusedBackground input").concat(r,"FocusedTextColor"))}))},G=function(e){var t=e.field,n=e.ground,r=e.value,c=e.onValue,i=e.name;return t.stringLong?Object(a.jsx)(q,{ground:n,value:r,onChange:function(e){return c(e.target.value)},name:i}):Object(a.jsx)(W.a,{ground:n,className:"h-28px",type:"text",value:r,name:i,onChange:function(e){return c(e.target.value)}})},$=n(13),Q=n(862);n(863),n(864),n(865),n(866),n(867),n(868);n(881);var X=n(882);window.jsonlint=X;var ee,te=function(e){var t=e.value,n=e.onChange,r=B.a.useState(""),c=Object($.a)(r,2),i=c[0],o=c[1],l=B.a.useState(0),s=Object($.a)(l,2),u=s[0],d=s[1];return B.a.useEffect((function(){u<3&&(d((function(e){return e+1})),o(JSON.stringify(t,void 0,2)))}),[t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("style",{children:".CodeMirror{\n          height: 100% !important;\n      }"}),Object(a.jsx)(Q.UnControlled,{className:"rounded overflow-auto h-208px",value:i,options:{mode:"application/json",theme:"material",lineNumbers:!0,autoCloseBrackets:!0,lint:!0,gutters:["CodeMirror-lint-markers"]},onChange:function(e,t,r){try{n(JSON.parse(r))}catch(c){n(r)}}})]})},ne=function(e){var t=e.value,n=e.onValue;return Object(a.jsx)(te,{value:t,onChange:function(e){return n(e)}})},re=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name;return Object(a.jsx)(W.a,{ground:r,className:"h-28px",type:"number",name:c,onChange:function(e){return n(e.target.value)},value:t})},ce=n(1063),ae=n(1065),ie=Object(ce.a)({switchBase:{"&$checked":{color:"".concat(getComputedStyle(document.documentElement).getPropertyValue("--fireck-4")," !important")},"&$checked + $track":{background:"".concat(getComputedStyle(document.documentElement).getPropertyValue("--fireck-4")," !important")}},checked:{},track:function(e){return{background:"".concat("white"===e.ground?"black":"white"," !important")}}}),oe=function(e){var t=e.value,n=e.onChange,r=e.ground,c=ie({ground:r});return Object(a.jsx)(ae.a,{classes:c,checked:t,onChange:function(e){return n(e.target.checked)}})},le=function(e){var t=e.value,n=e.onValue,r=e.ground;return Object(a.jsx)(oe,{ground:r,value:t,onChange:function(e){return n(e)}})},se=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name;return Object(a.jsx)(W.a,{ground:r,className:"h-28px",type:"date",name:c,onChange:function(e){return n(e.target.value)},value:t})},ue=n(1),de=n.n(ue),fe=n(19),be=n(4),je=n(887),pe=n.n(je),me=n(888),xe=n.n(me),he=n(846),ve=n.n(he),Oe=n(886),ge=n.n(Oe),ye=n(824),we=n(831),ke=n(32),Ne=n(845),Ce=n(57),Se=n(883),Ee=n.n(Se),Ie=n(318),Fe=n(35),De=n(835),Te=n(851),Le=n(316),Be=n.n(Le),ze=function(e){var t=e.multiple,n=void 0!==t&&t,r=e.proceed,c=B.a.useRef(null),i=B.a.useRef(null),o=B.a.useState(!1),l=Object($.a)(o,2),s=(l[0],l[1]),u=B.a.useState(!1),d=Object($.a)(u,2),f=d[0],b=d[1],j=B.a.useState(0),p=Object($.a)(j,2),m=p[0],x=p[1],h=Object(Fe.e)((function(e){return{collectionType:e.collectionTypes.find((function(e){return"FilesReservedCollection"===e.id}))}})).collectionType;return Object(a.jsx)("div",{className:"fixed z-30 left-0 top-0 w-full h-full flex overflow-auto dialogOuterBackground",children:Object(a.jsxs)("div",{className:"m-auto p-8 rounded dialogBackground dialogTextColor max-w-846px w-full max-h-552px h-full relative flex-col flex animate-littlemoveup",children:[f?null:Object(a.jsx)(ye.a,{className:"z-30 absolute shadow-2xl outline-none right-6 bottom-3 w-34px h-34px rounded flex cursor-pointer text-black bg-orange-300 hover:bg-orange-301 items-center justify-center",onClick:function(){return i.current.scrollIntoView({behavior:"smooth"})},children:Object(a.jsx)(Ee.a,{})}),Object(a.jsx)(Be.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return r(!1)}}),Object(a.jsx)(Ie.a,{onChange:function(e){return b(e)},children:Object(a.jsx)("div",{ref:i})}),Object(a.jsxs)("div",{className:"flex justify-between flex-wrap mb-7",children:[Object(a.jsx)("div",{className:"font-medium text-2xl leading-none mb-4 mr-4",children:"Select file"}),Object(a.jsx)("input",{type:"file",multiple:!0,className:"hidden",ref:c,onChange:function(){var e=Object(be.a)(de.a.mark((function e(t){var n,r,c,a,i;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files)||!n.length){e.next=26;break}s("Uploading ".concat(n.length," file").concat(n.length>1?"s":"","...")),r=0,c=Object(ke.a)(n),e.prev=5,c.s();case 7:if((a=c.n()).done){e.next=16;break}return i=a.value,e.next=11,Object(Ne.a)(i);case 11:e.sent,r++,s("".concat(r,"/").concat(n.length," uploaded."));case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:x((function(e){return e+1})),s(!1);case 26:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})));return function(t){return e.apply(this,arguments)}}()}),Object(a.jsx)(Ce.a,{onClick:function(){return c.current.click()},className:"buttonPrimaryBackground buttonPrimaryTextColor h-28px mb-4 min-w-unset",children:Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(ve.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(a.jsx)("span",{children:"Upload"})]})})]}),Object(a.jsx)("div",{className:"flex-grow h-0",children:h?Object(a.jsx)(De.a,{ground:"Dialog",onPick:function(e){r(n?e.map((function(e){return e.url})):e[0].url)},singleSelect:!n,collectionType:h,valueFormatters:Te.MediaDocumentFormatters},"media-table-".concat(m)):null})]})})},Pe=ze,Re=n(884),Me=n.n(Re),Ve=n(885),Ae=n.n(Ve),He=n(847),_e=n.n(He),Ue=n(855),We=function(e){var t=e.selectedFiles,n=e.setSelectedFiles,r=e.onClose;return Object(a.jsx)("div",{className:"fixed z-30 left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7",onMouseDown:r,children:Object(a.jsxs)("div",{onMouseDown:function(e){return e.stopPropagation()},className:"m-auto rounded bg-white max-w-552px w-full max-h-552px relative flex-col flex animate-littlemoveup",children:[Object(a.jsx)(Be.a,{className:"absolute right-0 top-0 cursor-pointer",onClick:r}),Object(a.jsxs)("div",{className:"flex justify-between flex-wrap mb-4 px-9 pt-9 flex-shrink-0",children:[Object(a.jsx)("div",{className:"font-medium text-2xl mr-4 mb-4",children:"Reorder files"}),Object(a.jsx)(Ce.a,{className:"mb-4 bg-fireck-4 hover:bg-fireck-4-hover",onClick:r,children:"Finish"})]}),Object(a.jsx)(Ue.a,{onDragEnd:function(e){if(e.destination){var r=function(e,t,n){var r=Array.from(e),c=r.splice(t,1),a=Object($.a)(c,1)[0];return r.splice(n,0,a),r}(t,e.source.index,e.destination.index);n(r)}},containerClassName:"px-9 pb-9 flex-grow overflow-auto",items:t.map((function(e){return{item:e}})),Item:function(e){var r=e.item,c=e.index;return Object(a.jsx)("div",{className:"pb-3",children:Object(a.jsxs)("div",{className:"bg-gray-300 flex items-center rounded p-2 justify-between",children:[Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(Me.a,{className:"mr-4"}),Object(a.jsx)("div",{className:"bg-fireck-5 rounded",children:Object(a.jsx)("div",{className:"bg-center bg-cover bg-no-repeat w-11 h-11",style:{backgroundImage:"url(".concat(r,")")}})})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(ye.a,{onClick:function(){return window.open(r,"_blank")},className:"outline-none mr-2 h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover",children:Object(a.jsx)(Ae.a,{fontSize:"small"})}),Object(a.jsx)(ye.a,{className:"outline-none h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover",children:Object(a.jsx)(_e.a,{fontSize:"small",onClick:function(){var e=Object(fe.a)(t);e.splice(c,1),n(e)}})})]})]})})}})]})})},Je=n(822),Ye=["title","titleId"];function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Ze(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function qe(e,t){var n=e.title,r=e.titleId,c=Ze(e,Ye);return L.createElement("svg",Ke({width:64,height:35,viewBox:"0 0 64 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?L.createElement("title",{id:r},n):null,ee||(ee=L.createElement("path",{d:"M37.6035 0.196777L26.9501 14.4014L35.0467 25.1968L30.5012 28.6059C25.7001 22.2139 17.7171 11.5604 17.7171 11.5604L0.671631 34.2878H63.1718L37.6035 0.196777Z",fill:"#FDCA40"})))}var Ge,$e=L.forwardRef(qe),Qe=(n.p,function(e){var t=e.selectedFiles,n=e.setSelectedFiles,r=B.a.useState(0),c=Object($.a)(r,2),i=c[0],o=c[1],l=B.a.useState(!1),s=Object($.a)(l,2),u=s[0],d=s[1],f=function(){var e=Object(be.a)(de.a.mark((function e(){var r,c;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(we.a)({Component:Pe,props:{multiple:!0}});case 2:"boolean"!==typeof(r=e.sent)&&(c=Object(fe.a)(t),n([].concat(Object(fe.a)(r),Object(fe.a)(c))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"h-208px bg-fireck-3 rounded-md relative",children:[t.length?null:Object(a.jsx)("div",{className:"flex w-full h-full cursor-pointer relative z-10",onClick:f,children:Object(a.jsxs)("div",{className:"m-auto flex items-center",children:[Object(a.jsx)($e,{className:"text-39px mr-3",fontSize:"inherit"}),Object(a.jsx)("div",{children:"Upload multiple files"})]})}),t.map((function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"absolute left-0 top-0 w-full h-full bg-center bg-contain bg-no-repeat ".concat(t!==i?"hidden":""),style:{backgroundImage:"url(".concat(e,")")}}),Object(a.jsx)("img",{src:e,alt:"",className:"hidden"})]})})),t.length?Object(a.jsx)("div",{className:"absolute left-0 top-0 w-full h-full",children:Object(a.jsxs)("div",{className:"relative flex items-center justify-between h-full",children:[Object(a.jsx)("div",{className:"absolute left-0 top-0 p-3",children:Object(a.jsxs)("div",{className:"h-26px rounded bg-fireck-4 px-3 text-sm leading-26px",children:[i+1,"/",t.length]})}),Object(a.jsxs)("div",{className:"absolute top-0 right-0 flex p-3",children:[Object(a.jsx)(ye.a,{onClick:f,className:"outline-none h-26px w-26px mr-2 rounded bg-fireck-4 hover:bg-fireck-4-hover",children:Object(a.jsx)(ve.a,{fontSize:"small"})}),Object(a.jsx)(ye.a,{onClick:function(){d(!0)},className:"outline-none h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover",children:Object(a.jsx)(ge.a,{fontSize:"small"})}),Object(a.jsx)(Je.a,{open:u,children:Object(a.jsx)(We,{onClose:function(){return d(!1)},selectedFiles:t,setSelectedFiles:function(e){o(0),n(e)}})})]}),Object(a.jsx)(ye.a,{className:"bg-fireck-4 hover:bg-fireck-4-hover p-4 outline-none",onClick:function(){return o((function(e){return e>0?e-1:e}))},children:Object(a.jsx)(pe.a,{})}),Object(a.jsx)(ye.a,{className:"bg-fireck-4 hover:bg-fireck-4-hover p-4 outline-none",onClick:function(){return o((function(e){return e<t.length-1?e+1:e}))},children:Object(a.jsx)(xe.a,{})})]})}):null]})}),Xe=function(e){var t=e.selectedFile,n=e.setSelectedFile;return Object(a.jsxs)("div",{className:"h-208px bg-fireck-3 rounded-md relative",children:[t?null:Object(a.jsx)("div",{className:"flex w-full h-full cursor-pointer relative z-10",onClick:Object(be.a)(de.a.mark((function e(){var t;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(we.a)({Component:Pe,props:{multiple:!1}});case 2:"boolean"!==typeof(t=e.sent)&&n(t);case 4:case"end":return e.stop()}}),e)}))),children:Object(a.jsxs)("div",{className:"m-auto flex items-center",children:[Object(a.jsx)($e,{className:"text-39px mr-3",fontSize:"inherit"}),Object(a.jsx)("div",{children:"Upload a file"})]})}),Object(a.jsx)("div",{className:"absolute left-0 top-0 w-full h-full bg-center bg-contain bg-no-repeat",style:{backgroundImage:"url(".concat(t,")")}}),t?Object(a.jsx)("div",{className:"absolute top-0 right-0 flex p-3",children:Object(a.jsx)(ye.a,{onClick:function(){return n("")},className:"outline-none h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover",children:Object(a.jsx)(_e.a,{fontSize:"small"})})}):null]})},et=function(e){var t=e.value,n=e.onValue;return e.field.mediaSingle?Object(a.jsx)(Xe,{selectedFile:t,setSelectedFile:function(e){return n(e)}}):Object(a.jsx)(Qe,{selectedFiles:t,setSelectedFiles:function(e){return n(e)}})},tt=n(901),nt=(n(889),n(890)),rt=n.n(nt),ct=function(e){var t=e.style,n=void 0===t?{}:t,r=e.onChange,c=e.value,i=(e.ground,new rt.a);return Object(a.jsxs)("div",{children:[Object(a.jsx)("style",{children:".rc-md-navigation .button-wrap .button {\n        background-color: white !important;\n        border-radius: 4px !important;\n        margin-bottom: 2px !important;\n        margin-top: 2px !important;\n      }\n\n      .rc-md-navigation{\n        border-bottom: none !important;\n        background-color: transparent !important;\n        margin-bottom: 4px;\n      }\n\n      .rc-md-editor{\n        background-color: var(--fireck-3) !important;\n        border: none !important;\n        padding: 7px !important;\n        border-radius: 4px !important;\n      } \n\n      .rc-md-editor textarea{\n        background-color: transparent !important;\n        // border-radius: 4px !important;\n        overflow: auto !important;\n        border-right: 1px solid #DDDDDD !important;\n      }\n\n      \n      \n      "}),Object(a.jsx)(tt.a,{placeholder:"Type here...",onCustomImageUpload:function(e){return new Promise(function(){var e=Object(be.a)(de.a.mark((function e(t,n){var r;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(we.a)({Component:Pe,props:{multiple:!1}});case 2:"string"===typeof(r=e.sent)?t({url:r,text:"image"}):n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},value:c,onChange:function(e){var t=e.text;return r(t)},style:n,renderHTML:function(e){return i.render(e)}})]})},at=function(e){var t=e.value,n=e.onValue,r=e.ground;return Object(a.jsx)(ct,{ground:r,style:{height:"30vw",minHeight:400},value:t,onChange:function(e){return n(e)}})},it=n(832),ot=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name,i=e.field;return Object(a.jsx)(it.a,{ground:r,options:[{label:"Select",value:""}].concat(Object(fe.a)(i.enumOptions.map((function(e){return{label:e,value:e}})))),name:c,onChange:function(e){return n(e.target.value)},value:t})},lt=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name;return Object(a.jsx)(W.a,{ground:r,className:"h-28px",type:"password",value:t,name:c,onChange:function(e){return n(e.target.value)}})},st=n(852),ut=n(894),dt=n.n(ut),ft=n(853),bt=n(854),jt=n(186),pt=n(187),mt=n(40),xt=function(e){var t=Object(L.useState)(""),n=Object($.a)(t,2),r=n[0],c=n[1];return Object(L.useEffect)((function(){console.log("called");var t=e.value,n=e.labelField,r=e.collectionType;r&&Object(be.a)(de.a.mark((function e(){var a;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(mt.d)(r.id,t);case 3:(a=e.sent).error||c(a[n]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[e,r]),Object(a.jsx)(a.Fragment,{children:r})},ht=function(e){var t=e.fieldType,n=e.value,r=e.onValue,c=e.ground,i=Object(Fe.e)((function(e){return e.collectionTypes.find((function(e){return e.docId===t.relatedCollectionTypeDocId}))})),o=B.a.useState(!1),l=Object($.a)(o,2),s=l[0],u=l[1];return Object(a.jsxs)("div",{className:"bg-fireck-3 rounded p-5",children:[Object(a.jsxs)("div",{className:"flex flex-wrap justify-between",children:[Object(a.jsxs)("div",{className:"flex items-center font-medium mb-3 mr-3",children:[Object(a.jsx)(dt.a,{className:"mr-3",fontSize:"small"}),Object(a.jsx)("div",{className:"capitalize mr-3",children:null===i||void 0===i?void 0:i.name}),t.relationOneToOne?Object(a.jsx)("div",{className:"flex w-8",children:Object(a.jsx)(ft.a,{})}):Object(a.jsx)("div",{className:"flex w-8",children:Object(a.jsx)(bt.a,{})})]}),Object(a.jsx)(st.a,{onClick:function(){return u(!0)},className:"mb-3",children:Object(a.jsx)(ve.a,{fontSize:"small"})})]}),Object(a.jsx)(Je.a,{open:s,children:Object(a.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto p-12",onMouseDown:function(){return u(!1)},children:Object(a.jsxs)("div",{className:"bg-white p-9 rounded w-full h-full flex flex-col relative",onMouseDown:function(e){return e.stopPropagation()},children:[Object(a.jsx)("div",{className:"absolute right-0 top-0 cursor-pointer",onClick:function(){return u(!1)},children:Object(a.jsx)(Be.a,{})}),Object(a.jsx)("div",{className:"text-27px font-medium mb-5 capitalize leading-none",children:null===i||void 0===i?void 0:i.name}),Object(a.jsx)("div",{className:"flex-grow h-0",children:i?Object(a.jsx)(De.a,{ground:c,collectionType:i,blackList:"string"===typeof n?[n]:n,singleSelect:"string"===typeof n,onPick:function(e){e.length&&(r("string"===typeof n?e[0].docId:[].concat(Object(fe.a)(n),Object(fe.a)(e.map((function(e){return e.docId}))))),u(!1))}}):null})]})})}),Object(a.jsx)("div",{className:"w-full max-h-64 overflow-auto bg-white rounded",children:"string"===typeof n?Object(a.jsxs)("div",{className:"px-1 h-28px bg-white flex items-center justify-between",children:[Object(a.jsx)("span",{children:Object(a.jsx)(xt,{value:n,collectionType:i,labelField:t.labelField})}),n?Object(a.jsx)("div",{className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white","data-testid":"delete-for-field-".concat(t.id,"-").concat(n),onClick:Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(jt.a)({confirmation:"Remove document?"});case 2:e.sent&&r("");case 4:case"end":return e.stop()}}),e)}))),children:Object(a.jsx)(_e.a,{classes:{root:"pointer-events-none"},fontSize:"inherit"})}):null]}):Object(a.jsx)(pt.a,{className:"h-36 bg-white scrollbar-light scrollbar-thin",autoHide:!1,children:n.map((function(e,c){return Object(a.jsxs)("div",{className:"px-1 hover:bg-fireck-3 flex justify-between",children:[Object(a.jsx)("div",{children:Object(a.jsx)(xt,{value:e,collectionType:i,labelField:t.labelField})}),Object(a.jsx)("div",{className:"flex items-center flex-grow justify-end",children:Object(a.jsx)("div",{className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white","data-testid":"delete-for-field-".concat(t.id,"-").concat(e),onClick:Object(be.a)(de.a.mark((function e(){var t;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(jt.a)({confirmation:"Remove document?"});case 2:e.sent&&((t=Object(fe.a)(n)).splice(c,1),r(t));case 4:case"end":return e.stop()}}),e)}))),children:Object(a.jsx)(_e.a,{classes:{root:"pointer-events-none"},fontSize:"inherit"})})})]},"relation-".concat(t.id,"-docId-").concat(e))}))})})]})},vt=function(e){var t=e.value,n=e.onValue,r=e.field,c=e.ground;return Object(a.jsx)(ht,{ground:c,onValue:function(e){return n(e)},fieldType:r,value:t})},Ot=n(837),gt=n(844),yt=n.n(gt),wt=n(836),kt=n(1044),Nt=n(843),Ct=n.n(Nt),St=n(850),Et=n(189),It=n.n(Et),Ft=function(e){var t=e.fields,n=e.proceed,r=e.editableDocument,c=e.level;return Object(a.jsx)("div",{style:{padding:Math.min(30*c,90)},className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40",onMouseDown:function(){return n(null)},children:Object(a.jsxs)("div",{className:"bg-white rounded h-full w-full p-9 relative animate-littlemoveup",onMouseDown:function(e){return e.stopPropagation()},children:[Object(a.jsx)(It.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return n(null)}}),Object(a.jsx)(St.a,{level:c+1,ground:"Dialog",editableDocument:r,fields:t,onSubmit:n})]})})},Dt=function(e){return Object(we.a)({Component:Ft,props:e})},Tt=function(e){var t=e.value,n=e.onValue,r=e.valueFormatters,c=e.ground,i=e.fields,o=e.level,l=B.a.useState([]),s=Object($.a)(l,2),u=s[0],d=s[1],f=B.a.useState([]),b=Object($.a)(f,2),j=b[0],p=b[1],m=B.a.useState(),x=Object($.a)(m,2),h=x[0],v=x[1],O=B.a.useState(!1),g=Object($.a)(O,2),y=(g[0],g[1]),w=function(){var e=Object(be.a)(de.a.mark((function e(r,c){var a,l;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt({fields:i,level:o+1,editableDocument:r});case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:(l=Object(fe.a)(t))[c]=a,n(l);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(be.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(jt.a)({confirmation:"Delete ".concat(j.length," documents?")});case 2:if(!e.sent){e.next=5;break}n(t.filter((function(e){return!j.includes(e.docId)}))),p([]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){return(null===h||void 0===h?void 0:h.fieldId)!==e.id?function(){v({fieldId:e.id,direction:"asc"})}:"asc"!==(null===h||void 0===h?void 0:h.direction)?function(){return v(void 0)}:function(){return v({fieldId:e.id,direction:"desc"})}},C=function(e,t){return"date"===e.type?Ct()(t).format("YYYY-MM-DD hh:mm"):r&&e.id in r?r[e.id](t):t.toString().substring(0,40)};return Object(a.jsxs)("div",{className:"h-96 w-full flex-col flex",children:[Object(a.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(a.jsxs)("div",{className:"flex flex-wrap",children:[Object(a.jsx)(wt.a,{ground:c,collectionType:{fields:i},onValue:function(e){return d((function(t){return[e].concat(Object(fe.a)(t))}))}}),u.map((function(e,t){return Object(a.jsxs)("div",{className:K()("rounded min-h-28px border leading-28px pl-3 text-sm pr-3 flex mr-3 mb-3 relative","".concat(c.toLowerCase(),"TextColor ").concat(c.toLowerCase(),"BorderColor")),children:[e.fieldId," ",e.operator," ",e.value," ",Object(a.jsx)("span",{onClick:function(){return d((function(e){var n=Object(fe.a)(e);return n.splice(t,1),n}))},className:"text-xs leading-28px ml-3 cursor-pointer",children:"\u2715"})]},"f-".concat(t))}))]}),Object(a.jsxs)("div",{className:"flex flex-wrap",children:[Object(a.jsx)(Ce.a,{onClick:k,disabled:0===j.length,className:"px-7 mr-4 min-w-unset h-28px ".concat(0===j.length?"buttonDisabledBackground buttonDisabledTextColor cursor-default":"bg-red-FF0000 hover:bg-red-FF0000-hover text-white"," "),children:"Delete"}),Object(a.jsx)(Ce.a,{onClick:Object(be.a)(de.a.mark((function e(){var r;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt({fields:i,level:o+1});case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:n([].concat(Object(fe.a)(t),[r]));case 6:case"end":return e.stop()}}),e)}))),className:"px-7 h-28px bg-fireck-4 min-w-unset hover:bg-fireck-4-hover",children:"Add"})]})]}),Object(a.jsx)("div",{className:"flex-grow h-0 -mt-3 rounded overflow-hidden table".concat(c,"Background"),children:Object(a.jsxs)(pt.a,{className:"relative scrollbar-light h-full",autoHide:!1,children:[Object(a.jsxs)("table",{className:"w-full text-center",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{className:"whitespace-nowrap",children:[Object(a.jsx)("th",{className:"sticky top-0 bg-fireck-3 z-10 px-1",children:Object(a.jsx)(kt.a,{size:"small",classes:{checked:"text-fireck-2",root:"p-0"},checked:j.length===t.length,onChange:function(e){return n=e.target.checked,p(n?t.map((function(e){return e.docId})):[]);var n}})}),i.map((function(e,t){return Object(a.jsx)("th",{className:"font-semibold sticky top-0 bg-fireck-3",children:Object(a.jsxs)("div",{className:"flex items-center justify-center",children:[Object(a.jsx)("div",{className:"w-5"}),Object(a.jsx)("div",{className:"cursor-pointer select-none",onClick:N(e),children:e.id}),Object(a.jsx)("div",{className:"w-5",children:(null===h||void 0===h?void 0:h.fieldId)===e.id?Object(a.jsx)(yt.a,{fontSize:"small",className:"".concat("asc"===(null===h||void 0===h?void 0:h.direction)?"transform rotate-180":"")}):null})]})},"th-".concat(t))}))]})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){return Object(a.jsxs)("tr",{onClick:function(){return w(e,t)},className:"cursor-pointer table".concat(c,"RowHoverTextColor table").concat(c,"RowHoverBackground"),children:[Object(a.jsx)("td",{className:"px-1",onClick:function(e){return e.stopPropagation()},children:Object(a.jsx)(kt.a,{size:"small",classes:{checked:"text-fireck-2",root:"p-0"},checked:j.includes(e.docId),onChange:function(t){return n=e.docId,r=t.target.checked,void p(r?function(e){return[].concat(Object(fe.a)(e),[n])}:function(e){var t=Object(fe.a)(e),r=t.findIndex((function(e){return e===n}));return null!=r&&t.splice(r,1),t});var n,r}})}),i.map((function(n,r){return Object(a.jsx)("td",{className:"px-2",children:null!=e[n.id]?"media"===n.type?n.mediaSingle?Object(a.jsx)(Ot.a,{file:e[n.id]}):Object(a.jsx)(Ot.a,{files:e[n.id]}):Object(a.jsx)("div",{className:"whitespace-nowrap",children:C(n,e[n.id])}):null},"row-".concat(t,"-col-").concat(r))}))]},"row-".concat(t))}))})]}),Object(a.jsx)(Ie.a,{onChange:function(){var e=Object(be.a)(de.a.mark((function e(t){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsx)("div",{className:"w-full"})}),Object(a.jsx)("div",{})]})})]})},Lt=function(e){var t=e.value,n=e.onValue,r=e.level,c=e.field,i=e.ground;return Object(a.jsx)(Tt,{level:r,value:t,onValue:function(e){return n(e)},fields:c.collectionFields,ground:i})},Bt=function(e){try{if("function"!==typeof JSON.parse(JSON.stringify(e)).map)throw new Error("object is not an array")}catch(t){return"Wrong format"}return null},zt=function(e){try{var t=JSON.parse(JSON.stringify(e));if("string"===typeof t||"function"===typeof t.map)throw new Error("object is not a map")}catch(n){return"Wrong format"}return null},Pt=function(e){try{if("string"===typeof JSON.parse(JSON.stringify(e)))throw new Error("object is not a map")}catch(t){return"Wrong format"}return null},Rt=function(){return null},Mt=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name,i=Object(L.useState)(""),o=Object($.a)(i,2),l=o[0],s=o[1],u=function(){var e=Object(be.a)(de.a.mark((function e(){var t;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(window.location.origin+"/auth/createPassword",{method:"POST",body:JSON.stringify(l)}).then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t.error?null:t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.useEffect)((function(){s(t)}),[t]),Object(a.jsxs)("div",{className:"w-full relative flex",children:[Object(a.jsx)("div",{className:"flex-grow",children:Object(a.jsx)(W.a,{disabled:t,onBlur:function(){},ground:r,className:"h-28px",type:"password",value:l,name:c,onChange:function(e){return s(e.target.value)}})}),Object(a.jsx)("div",{className:"ml-1 select-none font-medium",children:t?Object(a.jsx)("div",{onClick:function(){return n("")},className:"h-28px leading-28px text-xs rounded bg-red-FF0000 hover:bg-red-FF0000-hover text-white cursor-pointer px-3",children:"Clear"}):Object(a.jsx)("div",{onClick:Object(be.a)(de.a.mark((function e(){var t;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)}))),className:"h-28px leading-28px text-xs rounded bg-fireck-4 hover:bg-fireck-4-hover cursor-pointer px-3",children:"Save"})})]})},Vt=function(e){return e?null:"Required"},At=["title","titleId"];function Ht(){return Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Ut(e,t){var n=e.title,r=e.titleId,c=_t(e,At);return L.createElement("svg",Ht({width:19,height:18,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?L.createElement("title",{id:r},n):null,Ge||(Ge=L.createElement("path",{d:"M16.0025 12C16.0025 12 14.0025 14.17 14.0025 15.5C14.0025 16.0304 14.2132 16.5391 14.5883 16.9142C14.9634 17.2893 15.4721 17.5 16.0025 17.5C16.5329 17.5 17.0416 17.2893 17.4167 16.9142C17.7918 16.5391 18.0025 16.0304 18.0025 15.5C18.0025 14.17 16.0025 12 16.0025 12ZM2.2125 10.5L7.0025 5.71L11.7925 10.5H2.2125ZM13.5625 9.44L4.6225 0.5L3.2125 1.91L5.5925 4.29L0.4425 9.44C-0.1475 10 -0.1475 10.97 0.4425 11.56L5.9425 17.06C6.2325 17.35 6.6225 17.5 7.0025 17.5C7.3825 17.5 7.7725 17.35 8.0625 17.06L13.5625 11.56C14.1525 10.97 14.1525 10 13.5625 9.44Z",fill:"currentColor"})))}var Wt=L.forwardRef(Ut),Jt=(n.p,function(){return Object(a.jsx)(i,{children:Object(a.jsx)(Wt,{className:"w-4"})})}),Yt=n(1070),Kt=["content","anchorOrigin","transformOrigin","open","onClose","closeOnContentClick"],Zt=function(e){var t=e.content,n=e.anchorOrigin,r=e.transformOrigin,i=e.open,o=e.onClose,l=e.closeOnContentClick,s=Object(J.a)(e,Kt),u=Object(L.useState)(null),d=Object($.a)(u,2),f=d[0],b=d[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Yt.a,Object(c.a)(Object(c.a)({open:null!=i?i:Boolean(f)},s),{},{anchorEl:f,onClose:o||function(){return b(null)},classes:{paper:"shadow-3-3-12-10 border rounded"},anchorOrigin:n||{vertical:"top",horizontal:"center"},transformOrigin:r||{vertical:"top",horizontal:"center"},children:Object(a.jsx)("div",{onClick:l?o||function(){return b(null)}:void 0,children:t})})),Object(a.jsx)("div",{onClick:function(e){return b(e.currentTarget)},children:s.children})]})},qt=n(900),Gt=["value","onValue"],$t=function(e){var t=e.value,n=e.onValue,r=Object(J.a)(e,Gt);return Object(a.jsx)(Zt,{content:Object(a.jsx)(qt.a,{color:t,onChange:function(e,t){n("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"))}}),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{horizontal:"left",vertical:"top"},children:Object(a.jsx)("div",Object(c.a)({},r))})},Qt={type:"hashed-password",Component:Mt,validate:Vt},Xt=[{type:"string",Badge:o,Component:G,validate:Rt},{type:"number",Badge:l,Component:re,validate:Rt},{type:"map",Badge:s,Component:ne,validate:zt},{type:"array",Badge:u,Component:ne,validate:Bt},{type:"boolean",Badge:b,Component:le,validate:Rt},{type:"date",Badge:m,Component:se,validate:Rt},{type:"media",Badge:v,Component:et,validate:Rt},{type:"rich-text",Badge:y,Component:at,validate:Rt},{type:"json",Badge:w,Component:ne,validate:Pt},{type:"enum",Badge:C,Component:ot,validate:Rt},{type:"password",Badge:I,Component:lt,validate:Rt},{type:"relation",Badge:T,Component:vt,validate:Rt},{type:"collection",Badge:A,Component:Lt,validate:Rt},{type:"color",Badge:Jt,Component:function(e){e.field;var t=e.value,n=e.onValue;e.name;return Object(a.jsx)($t,{value:t,onValue:function(e){return n(e)},children:Object(a.jsx)("div",{style:{background:t},className:"h-28px w-32 rounded border-2"})})},validate:Rt},{type:"any",Badge:U,Component:ne,validate:Rt}];t.b=Xt},845:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(1),c=n.n(r),a=n(4),i=n(833),o=(n(30),n(40)),l=n(6),s=n(7),u=n(872),d=n(869),f=n.n(d),b=new(function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"upload",value:function(e){return new Promise((function(t){try{var n=Object(u.c)(),r=e.name.split("."),c=f.a.generate()+"."+r[r.length-1],a=Object(u.d)(n,c),i=Object(u.e)(a,e);i.on("state_changed",(function(e){}),(function(e){t({error:e.name})}),(function(){Object(u.b)(i.snapshot.ref).then((function(e){t({downloadUrl:e,fileName:c})}))}))}catch(o){t({error:o})}}))}},{key:"delete",value:function(e){var t=Object(u.c)();Object(u.a)(Object(u.d)(t,e))}}]),e}()),j=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.upload(t);case 3:if(!("error"in(n=e.sent))){e.next=8;break}return e.abrupt("return",n);case 8:return r={name:t.name,size:t.size,url:n.downloadUrl,storagePath:n.fileName,type:Object(i.b)(t)},e.abrupt("return",Object(o.a)("FilesReservedCollection",r));case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.toString()});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},850:function(e,t,n){"use strict";var r=n(1),c=n.n(r),a=n(4),i=n(5),o=n(17),l=n(19),s=n(0),u=n.n(s),d=n(57),f=n(188),b=n(834),j=n(842),p=n(35),m=n(110),x=n.n(m),h={password:function(){return""},string:function(){return""},"rich-text":function(){return""},json:function(){return{}},map:function(){return{}},array:function(){return[]},media:function(e){return"media"===e.type&&e.mediaSingle?"":[]},date:function(){return null},enum:function(){return null},number:function(){return null},boolean:function(){return!1},relation:function(e){return"relation"===e.type&&e.relationOneToOne?"":[]},collection:function(){return[]},document:function(e){return"document"===e.type&&e.documentFields.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t.id,h[t.type]))}),{})},any:function(){return""},"hashed-password":function(){return""},color:function(){return""}},v=h,O=n(2);t.a=function(e){var t=e.onSubmit,n=e.fields,r=e.editableDocument,s=e.level,m=e.docId,h=e.ground,g=e.singleName,y=[].concat(Object(l.a)(j.b),[j.a]),w=Object(p.d)(),k=n.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t.id,r&&r[t.id]?r[t.id]:v[t.type](t)))}),{}),N=Object(f.a)({validateOnChange:!1,initialValues:k,enableReinitialize:!0,onSubmit:function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({type:"SET_DOCUMENT_CHANGED",payload:!1});case 2:return e.next=4,t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){var t={};return n.forEach((function(n){var r=y.find((function(e){return e.type===n.type}));if(!r)return t;var c=r.validate(e[n.id]);c&&(t[n.id]=c)})),t}}),C=N.values,S=N.errors,E=N.setFieldValue,I=N.handleSubmit,F=N.submitCount,D=N.isSubmitting,T=!r||JSON.stringify(k)!==JSON.stringify(C);return u.a.useEffect((function(){w({type:"SET_DOCUMENT_CHANGED",payload:T})}),[T,w]),Object(O.jsxs)("div",{className:"h-full flex flex-col w-full",children:[Object(O.jsxs)("div",{className:"flex justify-between flex-wrap mb-2",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:x()("font-medium text-27px leading-none capitalize mb-1 mr-4","".concat(h.toLowerCase(),"TextColor")),children:m?"Edit Document":g||"Add Document"}),m?Object(O.jsxs)("div",{className:x()("".concat(h.toLowerCase(),"TextColor"),"mb-3 text-xs"),children:["Doc id: ",m]}):null]}),Object(O.jsx)(d.a,{type:"submit",onClick:function(){return I()},disabled:D||!T,className:"h-34px ".concat(T?"buttonPrimaryBackground buttonPrimaryTextColor buttonPrimaryHoverBackground":"buttonDisabledBackground buttonDisabledTextColor cursor-default","  mb-2"),children:D?"Loading...":null!=r||g?"Save":"Publish"})]}),Object(O.jsx)("div",{className:"flex-grow h-0 overflow-y-auto overflow-x-hidden pt-4 -mx-7 -mb-7 px-7",children:Object(O.jsx)("div",{className:"flex flex-wrap -mx-3",children:Object.keys(C).length?n.filter((function(e){return!e.isDefault})).map((function(e,t){var n,r,c=null===(n=y.find((function(t){return t.type===e.type})))||void 0===n?void 0:n.Component;return Object(O.jsxs)("div",{className:"".concat(["rich-text","collection"].includes(e.type)?"w-full":"sm:w-1/2 w-full"," px-3 mb-12"),children:[Object(O.jsxs)(b.a,{ground:h,className:"mb-2 font-medium",error:F>0?null===(r=S[e.id])||void 0===r?void 0:r.toString():null,children:[e.id," "]}),c?Object(O.jsx)(c,{onValue:function(t){return E(e.id,t)},ground:h,value:C[e.id],name:e.id,level:s,field:e}):null]},"field-".concat(t))})):null})})]})}},851:function(e,t,n){"use strict";n.r(t),n.d(t,"MediaDocumentFormatters",(function(){return g}));var r=n(1),c=n.n(r),a=n(32),i=n(4),o=n(13),l=n(57),s=n(0),u=n.n(s),d=n(845),f=n(30),b=n(98),j=n(840),p=n(835),m=n(35),x=n(839),h=n.n(x),v=n(833),O=n(2),g={url:function(e){return Object(O.jsx)("div",{onClick:function(t){t.stopPropagation(),window.open(e,"_blank")},className:"bg-center bg-cover h-10 w-10 mx-auto bg-gray-E1E1E1",style:{backgroundImage:"url(".concat(e,")")}})},size:function(e){return Object(v.a)(e)}};t.default=function(){var e=u.a.useRef(null),t=Object(b.b)(),n=Object(s.useState)(0),r=Object(o.a)(n,2),x=r[0],v=r[1],y=Object(m.e)((function(e){return{collectionType:e.collectionTypes.find((function(e){return"FilesReservedCollection"===e.id}))}})).collectionType;return Object(O.jsxs)("div",{className:"h-full w-full flex flex-col",children:[Object(O.jsxs)("div",{className:"flex justify-between flex-wrap mb-3",children:[Object(O.jsx)(j.a,{className:"mb-4 mr-4",children:"Media"}),Object(O.jsx)("input",{type:"file",multiple:!0,className:"hidden",ref:e,onChange:function(){var e=Object(i.a)(c.a.mark((function e(n){var r,i,o,l,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.target.files)||!r.length){e.next=25;break}f.a.dispatch({type:"SET_LOADING",payload:"Uploading ".concat(r.length," file").concat(r.length>1?"s":"","...")}),i=0,o=Object(a.a)(r),e.prev=5,o.s();case 7:if((l=o.n()).done){e.next=15;break}return s=l.value,e.next=11,Object(d.a)(s);case 11:"error"in(u=e.sent)?t(u.error+". Try reload the app",{variant:"error"}):(i++,f.a.dispatch({type:"SET_LOADING",payload:"".concat(i,"/").concat(r.length," uploaded.")}));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),o.e(e.t0);case 20:return e.prev=20,o.f(),e.finish(20);case 23:f.a.dispatch({type:"SET_LOADING",payload:!1}),v((function(e){return e+1}));case 25:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},"file-input-".concat(x)),Object(O.jsx)(l.a,{onClick:function(){return e.current.click()},className:"bg-fireck-4 hover:bg-fireck-4-hover mb-4 h-34px pr-6 pl-5 min-w-unset",children:Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)(h.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(O.jsx)("span",{children:"Upload"})]})})]}),y?Object(O.jsx)(p.a,{ground:"Ground",valueFormatters:g,collectionType:y},"files-table-".concat(x)):null]})}},852:function(e,t,n){"use strict";var r=n(17),c=n(185),a=n(2),i=["className","variant"];t.a=function(e){var t=e.className,n=void 0===t?"":t,o=(e.variant,Object(c.a)(e,i));return Object(a.jsx)("div",Object(r.a)(Object(r.a)({},o),{},{className:"bg-fireck-4 hover:bg-fireck-4-hover h-5 w-5 rounded flex items-center justify-center transition cursor-pointer "+n}))}},853:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,c,a,i=n(0),o=["title","titleId"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function u(e,t){var n=e.title,u=e.titleId,d=s(e,o);return i.createElement("svg",l({width:40,height:9,viewBox:"0 0 40 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":u},d),n?i.createElement("title",{id:u},n):null,r||(r=i.createElement("path",{d:"M9.36621 4.67223H30.7241M30.7241 4.67223L28.3085 2.25659M30.7241 4.67223L28.3085 7.08786",stroke:"currentColor",strokeWidth:1.37296,strokeLinecap:"round",strokeLinejoin:"round"})),c||(c=i.createElement("circle",{cx:4.69562,cy:4.49835,r:3.31773,stroke:"currentColor",strokeWidth:1.37296})),a||(a=i.createElement("circle",{cx:35.3948,cy:4.49835,r:3.31773,stroke:"currentColor",strokeWidth:1.37296})))}var d=i.forwardRef(u);n.p},854:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,c,a,i,o,l=n(0),s=["title","titleId"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function f(e,t){var n=e.title,f=e.titleId,b=d(e,s);return l.createElement("svg",u({width:40,height:37,viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":f},b),n?l.createElement("title",{id:f},n):null,r||(r=l.createElement("path",{d:"M10.5875 18.8431L30.4119 7.39751M30.4119 7.39751L26.8752 6.44984M30.4119 7.39751L29.4643 10.9342",stroke:"currentColor",strokeWidth:1.47153,strokeLinecap:"round",strokeLinejoin:"round"})),c||(c=l.createElement("path",{d:"M10.5873 18.8433L30.4117 30.2889M30.4117 30.2889L29.4641 26.7522M30.4117 30.2889L26.875 31.2366",stroke:"currentColor",strokeWidth:1.47153,strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=l.createElement("circle",{cx:5.00165,cy:18.7858,r:3.55593,stroke:"currentColor",strokeWidth:1.47153})),i||(i=l.createElement("circle",{cx:35.2653,cy:32.5311,r:3.55593,stroke:"currentColor",strokeWidth:1.47153})),o||(o=l.createElement("circle",{cx:35.2653,cy:5.15558,r:3.55593,stroke:"currentColor",strokeWidth:1.47153})))}var b=l.forwardRef(f);n.p},855:function(e,t,n){"use strict";var r=n(17),c=n(0),a=n(33),i=function(){var e=Object(c.useRef)({}).current;return Object(c.useEffect)((function(){var t=document.createElement("div");return t.style.position="absolute",t.style.pointerEvents="none",t.style.top="0",t.style.width="100%",t.style.height="100%",e.elt=t,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e]),function(t){return function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),i=1;i<r;i++)c[i-1]=arguments[i];var o=t.apply(void 0,[n].concat(c));return"fixed"===n.draggableProps.style.position?Object(a.createPortal)(o,e.elt):o}}},o=n(871),l=n(2);t.a=function(e){var t=e.onDragEnd,n=e.Item,a=e.items,s=e.containerClassName,u=i(),d=Object(c.useRef)(Math.random()),f=function(e,t){return"".concat(e,"-").concat(t,"-").concat(d.current)};return Object(l.jsx)(o.a,{onDragEnd:t,children:Object(l.jsx)(o.c,{droppableId:"droppable-sub",children:function(e){return Object(l.jsxs)("div",Object(r.a)(Object(r.a)({className:s},e.droppableProps),{},{ref:e.innerRef,children:[a.map((function(e,t){return Object(l.jsx)(o.b,{draggableId:f("draggable",t),index:t,children:u((function(c){return Object(l.jsx)("div",Object(r.a)(Object(r.a)(Object(r.a)({ref:c.innerRef},c.draggableProps),c.dragHandleProps),{},{children:Object(l.jsx)(n,Object(r.a)(Object(r.a)({},e),{},{index:t}))}))}))},f("draggable",t))})),e.placeholder]}))}})})}},858:function(e,t,n){"use strict";var r=n(13),c=n(57),a=n(0),i=n.n(a),o=n(860),l=n.n(o),s=n(832),u=n(187),d=n(839),f=n.n(d),b=n(859),j=n.n(b),p=n(2),m=i.a.memo((function(e){var t,n=e.entity,i=e.enitityPlural,o=e.onAddEntity,d=e.entities,b=e.onSelectEntity,m=e.entityButtons,x=e.onInvokeEntityEdit,h=e.entityContent,v=e.selectedEntityId,O=Object(a.useState)(""),g=Object(r.a)(O,2),y=g[0],w=g[1];return Object(p.jsxs)("div",{className:"h-full flex flex-col",children:[Object(p.jsxs)("div",{className:"flex flex-wrap justify-between mb-4",children:[Object(p.jsx)("div",{className:"font-medium text-27px leading-none mb-4 mr-4 capitalize",children:i}),o?Object(p.jsx)(c.a,{"data-testid":"add-collection-btn",onClick:o,className:"bg-fireck-4 hover:bg-fireck-4-hover mb-4 min-w-unset",children:Object(p.jsxs)("div",{className:"flex items-center pointer-events-none h-34px",children:[Object(p.jsx)(f.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(p.jsxs)("span",{className:"hidden md:block",children:["Add ",n]}),Object(p.jsx)("span",{className:"md:hidden",children:"Add"})]})}):null]}),d.length?Object(p.jsxs)("div",{className:"flex flex-wrap lg:flex-nowrap w-full flex-grow",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"relative mb-3 mr-4 hidden lg:block",style:{width:180},children:[Object(p.jsx)("div",{className:"h-6 flex items-center left-1 top-0 absolute",children:Object(p.jsx)(j.a,{fontSize:"inherit",className:"text-base text-gray-500 pointer-events-none"})}),Object(p.jsx)("input",{type:"search",spellCheck:!1,placeholder:"Search",className:"placeholder-gray-500 pl-7 h-6 leading-6 hover:bg-fireck-3 focus:bg-fireck-3 w-full text-sm px-2 border-white rounded bg-transparent outline-none focus:outline-none",value:y,onChange:function(e){return w(e.target.value)}})]}),Object(p.jsx)(u.a,{style:{maxHeight:230},className:"max-w-192px w-full flex-shrink-0 mr-4 hidden lg:block scrollbar-dark pr-3",autoHide:!1,children:d.filter((function(e){return!y||e.name.toLowerCase().includes(y.toLowerCase())})).map((function(e){return Object(p.jsx)("div",{"data-testid":"entity-name-".concat(e.name),onClick:function(){b(e.docId)},className:"mb-1 capitalize truncate select-none cursor-pointer ".concat(v===e.docId?"buttonPrimaryBackground buttonPrimaryTextColor":"groundHoverBackground"," rounded h-28px leading-28px px-3"),children:e.name},"entity-".concat(e.docId))}))})]}),Object(p.jsxs)("div",{className:"lg:flex-grow w-full rounded-lg containerBackground p-3 md:p-7 flex flex-col",children:[Object(p.jsxs)("div",{className:"flex justify-between mb-3 flex-wrap",children:[Object(p.jsxs)("div",{className:"font-medium text-22px capitalize mb-3 mr-3",children:[Object(p.jsx)("span",{className:"hidden lg:inline-block",children:(null===(t=d.find((function(e){return e.docId===v})))||void 0===t?void 0:t.name)||""}),Object(p.jsx)("div",{className:"lg:hidden inline-block text-base",children:Object(p.jsx)(s.a,{className:"h-28px",ground:"Container",onChange:function(e){return b(e.target.value)},value:v,options:d.map((function(e){return{label:e.name,value:e.docId}}))})}),x?Object(p.jsx)(l.a,{"data-testid":"edit-collection-btn",onClick:x,className:"ml-3 text-lg cursor-pointer",fontSize:"inherit"}):null]}),m]}),Object(p.jsx)("div",{className:"flex-grow h-0",children:h})]})]}):Object(p.jsx)("div",{})]})}));t.a=m},859:function(e,t,n){"use strict";var r=n(62),c=n(242);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),i=(0,r(n(243)).default)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchRounded");t.default=i},860:function(e,t,n){"use strict";var r=n(62),c=n(242);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),i=(0,r(n(243)).default)(a.createElement("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"EditRounded");t.default=i},921:function(e,t,n){"use strict";var r=n(62),c=n(242);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),i=(0,r(n(243)).default)(a.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=i},922:function(e,t,n){"use strict";var r=n(62),c=n(242);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(0)),i=(0,r(n(243)).default)(a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");t.default=i}}]);
//# sourceMappingURL=7.9d6f91d4.chunk.js.map