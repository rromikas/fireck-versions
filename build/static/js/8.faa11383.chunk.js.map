{"version":3,"sources":["../node_modules/@material-ui/core/esm/Portal/Portal.js","../node_modules/@material-ui/core/esm/Modal/ModalManager.js","../node_modules/@material-ui/core/esm/utils/getScrollbarSize.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@material-ui/core/esm/Unstable_TrapFocus/Unstable_TrapFocus.js","../node_modules/@material-ui/core/esm/Modal/SimpleBackdrop.js","../node_modules/@material-ui/core/esm/Modal/Modal.js","api/collectionTypes.ts","components/ToupleInput.tsx","pages/CollectionTypes/CollectionModal.tsx","components/TypescriptSyntax.tsx","pages/CollectionTypes/InterfaceModal.tsx","pages/CollectionTypes/SelectFieldType.tsx","pages/CollectionTypes/SpecifyFieldDetails.tsx","pages/CollectionTypes/GetCollectionField.ts","pages/CollectionTypes/index.tsx","api/callComponent.tsx","components/Select.tsx","hooks/useFetch.ts","components/TableElements/CollectionTable.tsx","components/Label.tsx","components/TableElements/AddFilter.tsx","components/TooltipChild.tsx","components/TableElements/FilesCell/MediaField.tsx","components/TableElements/FilesCell/index.tsx","helper.ts","components/PageTitle.tsx","pages/Media/SelectMedia.tsx","facades/FilesManager.ts","api/files.ts","assets/subcollection.svg","components/Fields/Badges/Wrapper.tsx","components/Fields/Badges/String.tsx","components/Fields/Badges/Number.tsx","components/Fields/Badges/Map.tsx","components/Fields/Badges/Array.tsx","components/Fields/Badges/Boolean.tsx","components/Fields/Badges/Date.tsx","components/Fields/Badges/Media.tsx","components/Fields/Badges/RichText.tsx","components/Fields/Badges/Json.tsx","components/Fields/Badges/Enum.tsx","components/Fields/Badges/Password.tsx","components/Fields/Badges/Relation.tsx","components/Fields/Badges/Subcollection.tsx","components/Fields/Badges/Any.tsx","components/Textarea.tsx","components/Fields/Components/String.tsx","components/JsonEditor.tsx","assets/media.svg","components/Fields/Components/Any.tsx","components/Fields/Components/Number.tsx","components/Switch.tsx","components/Fields/Components/Boolean.tsx","components/Fields/Components/Date.tsx","components/ReorderSelectedFiles.tsx","components/MultipleMediaInput.tsx","components/SingleMediaInput.tsx","components/Fields/Components/Media.tsx","components/RichTextEditor.tsx","components/Fields/Components/RichText.tsx","components/Fields/Components/Enum.tsx","components/Fields/Components/Password.tsx","components/RelationFieldValue.tsx","components/RelationField.tsx","components/Fields/Components/Relation.tsx","components/SubcollectionDocument.tsx","components/SubcollectionField.tsx","components/Fields/Validations/Default.ts","components/Fields/Components/HashedPassword.tsx","components/Fields/index.ts","components/Fields/Validations/HashedPassword.ts","components/Fields/Validations/Map.ts","components/Fields/Validations/Array.ts","components/Fields/Validations/Json.ts","components/Fields/Components/Subcollection.tsx","pages/Media/index.tsx","components/IconButton.tsx","components/DocumentForm.tsx","../node_modules/@material-ui/icons/EditRounded.js","assets/one-to-one.svg","assets/one-to-many.svg","hooks/useDraggableInPortal.ts","components/DraggableList.tsx","components/SettingsPage.tsx","../node_modules/@material-ui/icons/SearchRounded.js","../node_modules/@material-ui/icons/EditOutlined.js","../node_modules/@material-ui/icons/DeleteOutlineOutlined.js","../node_modules/@material-ui/icons/AddCircleOutlineRounded.js","../node_modules/@material-ui/icons/DragIndicatorRounded.js"],"names":["useEnhancedEffect","window","React","Portal","props","ref","children","container","_props$disablePortal","disablePortal","onRendered","_React$useState","mountNode","setMountNode","handleRef","useForkRef","ReactDOM","getContainer","document","body","setRef","ariaHidden","node","show","setAttribute","removeAttribute","getPaddingRight","parseInt","getComputedStyle","ariaHiddenSiblings","currentNode","nodesToExclude","arguments","length","undefined","blacklist","concat","_toConsumableArray","blacklistTagNames","forEach","call","nodeType","indexOf","tagName","findIndexOf","containerInfo","callback","idx","some","item","index","handleContainer","fixedNodes","restoreStyle","restorePaddings","disableScrollLock","doc","ownerDocument","ownerWindow","innerWidth","documentElement","clientWidth","scrollHeight","clientHeight","isOverflowing","scrollbarSize","scrollDiv","createElement","style","width","height","position","top","overflow","appendChild","offsetWidth","removeChild","getScrollbarSize","push","value","paddingRight","key","el","querySelectorAll","parent","parentElement","scrollContainer","nodeName","i","removeProperty","_ref","setProperty","ModalManager","instance","Constructor","TypeError","_classCallCheck","this","modals","containers","_createClass","modal","modalIndex","modalRef","hiddenSiblingNodes","hiddenSiblings","getAttribute","getHiddenSiblings","containerIndex","restore","splice","nextTop","Unstable_TrapFocus","_props$disableAutoFoc","disableAutoFocus","_props$disableEnforce","disableEnforceFocus","_props$disableRestore","disableRestoreFocus","getDoc","isEnabled","open","ignoreNextEnforceFocus","sentinelStart","sentinelEnd","nodeToRestore","rootRef","handleOwnRef","current","prevOpenRef","activeElement","contains","hasAttribute","focus","contain","hasFocus","loopFocus","event","keyCode","shiftKey","addEventListener","interval","setInterval","clearInterval","removeEventListener","tabIndex","styles","root","zIndex","right","bottom","left","backgroundColor","WebkitTapHighlightColor","invisible","SimpleBackdrop","_props$invisible","other","_objectWithoutProperties","_extends","defaultManager","Modal","inProps","theme","useTheme","getThemeProps","name","_props$BackdropCompon","BackdropComponent","BackdropProps","_props$closeAfterTran","closeAfterTransition","_props$disableBackdro","disableBackdropClick","_props$disableEscapeK","disableEscapeKeyDown","_props$disableScrollL","_props$hideBackdrop","hideBackdrop","_props$keepMounted","keepMounted","_props$manager","manager","onBackdropClick","onClose","onEscapeKeyDown","exited","setExited","mountNodeRef","hasTransition","hasOwnProperty","getHasTransition","getModal","handleMounted","mount","scrollTop","handleOpen","useEventCallback","resolvedContainer","add","isTopModal","handlePortalRef","handleClose","remove","inlineStyle","hidden","visibility","childProps","onEnter","createChainedFunction","onExited","onKeyDown","stopPropagation","role","onClick","target","currentTarget","TrapFocus","createCollectionType","type","a","ROLES_ID","finalType","fields","id","displayOnTable","isDefault","addDocument","error","docId","getCollection","collectionId","limit","x","updateDocument","permissions","defaultPermissions","then","res","console","log","Promise","resolve","toString","ToupleInput","className","options","setValue","disabled","rest","map","opt","icon","label","createId","string","str","char","toLowerCase","toUpperCase","match","COLLECTION_ID","AddNewCollection","collections","editingCollectionDocId","onCreate","onUpdate","onDelete","initialData","single","draftable","size","isSystem","notify","useNotify","formIntialState","find","useFormik","enableReinitialize","onSubmit","vals","resetForm","values","actionType","variant","initialValues","validate","errors","findIndex","handleSubmit","handleChange","setFieldValue","isSubmitting","submitCount","maxWidth","Input","groundColor","onChange","e","val","Button","confirm","confirmation","deleteDocId","deleteDocument","TypescriptSyntax","code","lineNumbers","readOnly","mode","getGap","count","Array","fill","reduce","b","getType","ident","identStep","docType","multiple","includes","types","password","json","array","media","mediaSingle","date","enum","number","boolean","relation","relationOneToOne","collection","collectionFields","documentFields","script","any","generateInterface","colType","InterfaceModal","collectionType","useState","copied","setCopied","interfaceString","onMouseDown","navigator","clipboard","writeText","setTimeout","SelectFieldType","proceed","initialFieldInputType","fieldType","setFieldType","useEffect","FieldTypes","Badge","replace","SpecifyFieldDetails","editableField","existingFieldNames","zLevel","enumOptions","stringLong","relatedCollectionTypeDocId","labelField","enumOption","setEnumOption","SelectedFieldType","useSelector","state","collectionTypes","onDragEnd","result","destination","reorder","source","addEnumOption","arr","customErrors","Label","Select","filter","c","OneToOneIcon","OneToManyIcon","getCollectionField","field","DraggableList","items","t","containerClassName","Item","IconButton","f","editedField","fontSize","callComponent","Component","res1","list","startIndex","endIndex","from","removed","CollectionsBuilder","collectionModalOpen","setCollectionModalOpen","dispatch","useDispatch","setEditingCollectionDocId","selectedCollection","setSelectedCollection","interfaceColType","setInterfaceColType","shallowEqual","editField","selectedField","newFields","JSON","parse","stringify","payload","success","addField","res2","deleteField","fieldIndex","updatedCollection","col","SettingsPage","entityContent","droppableId","provided","snapshot","autoHide","droppableProps","innerRef","draggableId","draggableProps","dragHandleProps","classes","placeholder","selectedEntityId","entity","enitityPlural","entities","onSelectEntity","onAddEntity","onInvokeEntityEdit","entityButtons","CollectionModal","reject","wrapper","getElementById","render","store","unmountComponentAtNode","parentNode","WarningIcon","forwardRef","classNames","spellCheck","title","placement","useFetch","filters","orderBy","inView","getOptions","useCallback","where","fieldId","operator","direction","populateRef","useInfiniteQuery","pageParam","CollectionsManager","startAfter","keepPreviousData","getNextPageParam","lastPage","pages","lastDoc","data","fetchNextPage","hasNextPage","docs","Table","onPick","blackList","singleSelect","valueFormatters","_filters","_onEdit","onEdit","hideFilters","history","useHistory","setFilters","selected","setSelected","setOrderBy","endIsInView","setEndIsInView","onDeleteSelected","deleteMultipleDocuments","onOrder","selectHandler","checked","prev","formatValue","moment","format","substring","AddFilter","onValue","Checkbox","select","j","FilesCell","file","files","colSpan","AddFilterModal","setOpen","Object","keys","preventDefault","TooltipChild","MediaField","src","Tooltip","arrow","alt","tooltip","backgroundImage","Files","useRef","Math","random","slice","formatBytes","d","floor","parseFloat","pow","toFixed","getFileExtension","mime","extension","split","pop","er","PageTitle","SelectMedia","uploadRef","topRef","setLoading","isTopVisible","setIsTopVisible","refreshCounter","setCounter","scrollIntoView","behavior","uploaded","uploadFile","click","url","MediaDocumentFormatters","callMedia","FilesManager","storage","getStorage","nameParts","fileName","shortuuid","generate","fileRef","uploadTask","uploadBytesResumable","on","getDownloadURL","downloadUrl","path","deleteObject","upload","fileDetails","storagePath","_path","Wrapper","String","Number","Map","Boolean","Media","Enum","Password","Relation","_excluded","assign","prototype","apply","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSubcollection","svgRef","titleId","viewBox","xmlns","ForwardRef","Textarea","require","jsonlint","JsonEditor","initialValue","setInitialValue","setCount","autoCloseBrackets","lint","gutters","editor","Any","useStyles","makeStyles","switchBase","color","getPropertyValue","track","background","CustomSwitch","Switch","Date","ReorderSelectedFiles","selectedFiles","setSelectedFiles","ButtonBase","SvgMedia","MediaInput","activeIndex","setActiveIndex","openReordering","setOpenReordering","selectFiles","prevFiles","SingleMediaInput","selectedFile","setSelectedFile","MultipleMediaInput","RichText","mdParser","MarkdownIt","onCustomImageUpload","text","renderHTML","RichTextEditor","minHeight","RelationFieldValue","valueLabel","setValueLabel","getDocument","RelationField","CollectionTable","docIds","SubcollectionDocument","editableDocument","level","padding","min","DocumentForm","getSubcollectionDocument","docIndex","Validate","plain","setPlain","createPassword","fetch","location","origin","method","onBlur","HashedPasswordField","HashedPasswordComponent","StringBadge","StringComponent","DefaultValidation","NumberBadge","NumberComponent","MapBadge","AnyComponent","obj","Error","ArrayBadge","BooleanBadge","BooleanComponent","DateBadge","DateComponent","MediaBadge","MediaComponent","RichTextBadge","RichTextComponent","JsonBadge","EnumBadge","EnumComponent","PasswordBadge","PasswordComponent","RelationBadge","RelationComponent","SubcollectionBadge","SubcollectionField","AnyBadge","allFieldTypes","initial","validateOnChange","hasChanged","_interopRequireDefault","_interopRequireWildcard","defineProperty","exports","default","_default","_circle","_circle2","SvgOneToOne","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","_path2","_circle3","SvgOneToMany","useDraggableInPortal","self","div","pointerEvents","elt","args","element","createPortal","renderDraggable","uniqid","formatId","keyword","memo","search","setSearch","maxHeight"],"mappings":"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","file":"static/js/8.faa11383.chunk.js","sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { exactProp, HTMLElementType } from '@material-ui/utils';\nimport deprecatedPropType from '../utils/deprecatedPropType';\nimport setRef from '../utils/setRef';\nimport useForkRef from '../utils/useForkRef';\n\nfunction getContainer(container) {\n  container = typeof container === 'function' ? container() : container; // #StrictMode ready\n\n  return ReactDOM.findDOMNode(container);\n}\n\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * Portals provide a first-class way to render children into a DOM node\n * that exists outside the DOM hierarchy of the parent component.\n */\n\nvar Portal = /*#__PURE__*/React.forwardRef(function Portal(props, ref) {\n  var children = props.children,\n      container = props.container,\n      _props$disablePortal = props.disablePortal,\n      disablePortal = _props$disablePortal === void 0 ? false : _props$disablePortal,\n      onRendered = props.onRendered;\n\n  var _React$useState = React.useState(null),\n      mountNode = _React$useState[0],\n      setMountNode = _React$useState[1];\n\n  var handleRef = useForkRef( /*#__PURE__*/React.isValidElement(children) ? children.ref : null, ref);\n  useEnhancedEffect(function () {\n    if (!disablePortal) {\n      setMountNode(getContainer(container) || document.body);\n    }\n  }, [container, disablePortal]);\n  useEnhancedEffect(function () {\n    if (mountNode && !disablePortal) {\n      setRef(ref, mountNode);\n      return function () {\n        setRef(ref, null);\n      };\n    }\n\n    return undefined;\n  }, [ref, mountNode, disablePortal]);\n  useEnhancedEffect(function () {\n    if (onRendered && (mountNode || disablePortal)) {\n      onRendered();\n    }\n  }, [onRendered, mountNode, disablePortal]);\n\n  if (disablePortal) {\n    if ( /*#__PURE__*/React.isValidElement(children)) {\n      return /*#__PURE__*/React.cloneElement(children, {\n        ref: handleRef\n      });\n    }\n\n    return children;\n  }\n\n  return mountNode ? /*#__PURE__*/ReactDOM.createPortal(children, mountNode) : mountNode;\n});\nprocess.env.NODE_ENV !== \"production\" ? Portal.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The children to render into the `container`.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A HTML element, component instance, or function that returns either.\n   * The `container` will have the portal children appended to it.\n   *\n   * By default, it uses the body of the top-level document object,\n   * so it's simply `document.body` most of the time.\n   */\n  container: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([HTMLElementType, PropTypes.instanceOf(React.Component), PropTypes.func]),\n\n  /**\n   * Disable the portal behavior.\n   * The children stay within it's parent DOM hierarchy.\n   */\n  disablePortal: PropTypes.bool,\n\n  /**\n   * Callback fired once the children has been mounted into the `container`.\n   *\n   * This prop will be removed in v5, the ref can be used instead.\n   * @deprecated Use the ref instead.\n   */\n  onRendered: deprecatedPropType(PropTypes.func, 'Use the ref instead.')\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  Portal['propTypes' + ''] = exactProp(Portal.propTypes);\n}\n\nexport default Portal;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport getScrollbarSize from '../utils/getScrollbarSize';\nimport ownerDocument from '../utils/ownerDocument';\nimport ownerWindow from '../utils/ownerWindow'; // Is a vertical scrollbar displayed?\n\nfunction isOverflowing(container) {\n  var doc = ownerDocument(container);\n\n  if (doc.body === container) {\n    return ownerWindow(doc).innerWidth > doc.documentElement.clientWidth;\n  }\n\n  return container.scrollHeight > container.clientHeight;\n}\n\nexport function ariaHidden(node, show) {\n  if (show) {\n    node.setAttribute('aria-hidden', 'true');\n  } else {\n    node.removeAttribute('aria-hidden');\n  }\n}\n\nfunction getPaddingRight(node) {\n  return parseInt(window.getComputedStyle(node)['padding-right'], 10) || 0;\n}\n\nfunction ariaHiddenSiblings(container, mountNode, currentNode) {\n  var nodesToExclude = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  var show = arguments.length > 4 ? arguments[4] : undefined;\n  var blacklist = [mountNode, currentNode].concat(_toConsumableArray(nodesToExclude));\n  var blacklistTagNames = ['TEMPLATE', 'SCRIPT', 'STYLE'];\n  [].forEach.call(container.children, function (node) {\n    if (node.nodeType === 1 && blacklist.indexOf(node) === -1 && blacklistTagNames.indexOf(node.tagName) === -1) {\n      ariaHidden(node, show);\n    }\n  });\n}\n\nfunction findIndexOf(containerInfo, callback) {\n  var idx = -1;\n  containerInfo.some(function (item, index) {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n\n    return false;\n  });\n  return idx;\n}\n\nfunction handleContainer(containerInfo, props) {\n  var restoreStyle = [];\n  var restorePaddings = [];\n  var container = containerInfo.container;\n  var fixedNodes;\n\n  if (!props.disableScrollLock) {\n    if (isOverflowing(container)) {\n      // Compute the size before applying overflow hidden to avoid any scroll jumps.\n      var scrollbarSize = getScrollbarSize();\n      restoreStyle.push({\n        value: container.style.paddingRight,\n        key: 'padding-right',\n        el: container\n      }); // Use computed style, here to get the real padding to add our scrollbar width.\n\n      container.style['padding-right'] = \"\".concat(getPaddingRight(container) + scrollbarSize, \"px\"); // .mui-fixed is a global helper.\n\n      fixedNodes = ownerDocument(container).querySelectorAll('.mui-fixed');\n      [].forEach.call(fixedNodes, function (node) {\n        restorePaddings.push(node.style.paddingRight);\n        node.style.paddingRight = \"\".concat(getPaddingRight(node) + scrollbarSize, \"px\");\n      });\n    } // Improve Gatsby support\n    // https://css-tricks.com/snippets/css/force-vertical-scrollbar/\n\n\n    var parent = container.parentElement;\n    var scrollContainer = parent.nodeName === 'HTML' && window.getComputedStyle(parent)['overflow-y'] === 'scroll' ? parent : container; // Block the scroll even if no scrollbar is visible to account for mobile keyboard\n    // screensize shrink.\n\n    restoreStyle.push({\n      value: scrollContainer.style.overflow,\n      key: 'overflow',\n      el: scrollContainer\n    });\n    scrollContainer.style.overflow = 'hidden';\n  }\n\n  var restore = function restore() {\n    if (fixedNodes) {\n      [].forEach.call(fixedNodes, function (node, i) {\n        if (restorePaddings[i]) {\n          node.style.paddingRight = restorePaddings[i];\n        } else {\n          node.style.removeProperty('padding-right');\n        }\n      });\n    }\n\n    restoreStyle.forEach(function (_ref) {\n      var value = _ref.value,\n          el = _ref.el,\n          key = _ref.key;\n\n      if (value) {\n        el.style.setProperty(key, value);\n      } else {\n        el.style.removeProperty(key);\n      }\n    });\n  };\n\n  return restore;\n}\n\nfunction getHiddenSiblings(container) {\n  var hiddenSiblings = [];\n  [].forEach.call(container.children, function (node) {\n    if (node.getAttribute && node.getAttribute('aria-hidden') === 'true') {\n      hiddenSiblings.push(node);\n    }\n  });\n  return hiddenSiblings;\n}\n/**\n * @ignore - do not document.\n *\n * Proper state management for containers and the modals in those containers.\n * Simplified, but inspired by react-overlay's ModalManager class.\n * Used by the Modal to ensure proper styling of containers.\n */\n\n\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager() {\n    _classCallCheck(this, ModalManager);\n\n    // this.modals[modalIndex] = modal\n    this.modals = []; // this.containers[containerIndex] = {\n    //   modals: [],\n    //   container,\n    //   restore: null,\n    // }\n\n    this.containers = [];\n  }\n\n  _createClass(ModalManager, [{\n    key: \"add\",\n    value: function add(modal, container) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex !== -1) {\n        return modalIndex;\n      }\n\n      modalIndex = this.modals.length;\n      this.modals.push(modal); // If the modal we are adding is already in the DOM.\n\n      if (modal.modalRef) {\n        ariaHidden(modal.modalRef, false);\n      }\n\n      var hiddenSiblingNodes = getHiddenSiblings(container);\n      ariaHiddenSiblings(container, modal.mountNode, modal.modalRef, hiddenSiblingNodes, true);\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.container === container;\n      });\n\n      if (containerIndex !== -1) {\n        this.containers[containerIndex].modals.push(modal);\n        return modalIndex;\n      }\n\n      this.containers.push({\n        modals: [modal],\n        container: container,\n        restore: null,\n        hiddenSiblingNodes: hiddenSiblingNodes\n      });\n      return modalIndex;\n    }\n  }, {\n    key: \"mount\",\n    value: function mount(modal, props) {\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.containers[containerIndex];\n\n      if (!containerInfo.restore) {\n        containerInfo.restore = handleContainer(containerInfo, props);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(modal) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex === -1) {\n        return modalIndex;\n      }\n\n      var containerIndex = findIndexOf(this.containers, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.containers[containerIndex];\n      containerInfo.modals.splice(containerInfo.modals.indexOf(modal), 1);\n      this.modals.splice(modalIndex, 1); // If that was the last modal in a container, clean up the container.\n\n      if (containerInfo.modals.length === 0) {\n        // The modal might be closed before it had the chance to be mounted in the DOM.\n        if (containerInfo.restore) {\n          containerInfo.restore();\n        }\n\n        if (modal.modalRef) {\n          // In case the modal wasn't in the DOM yet.\n          ariaHidden(modal.modalRef, true);\n        }\n\n        ariaHiddenSiblings(containerInfo.container, modal.mountNode, modal.modalRef, containerInfo.hiddenSiblingNodes, false);\n        this.containers.splice(containerIndex, 1);\n      } else {\n        // Otherwise make sure the next top modal is visible to a screen reader.\n        var nextTop = containerInfo.modals[containerInfo.modals.length - 1]; // as soon as a modal is adding its modalRef is undefined. it can't set\n        // aria-hidden because the dom element doesn't exist either\n        // when modal was unmounted before modalRef gets null\n\n        if (nextTop.modalRef) {\n          ariaHidden(nextTop.modalRef, false);\n        }\n      }\n\n      return modalIndex;\n    }\n  }, {\n    key: \"isTopModal\",\n    value: function isTopModal(modal) {\n      return this.modals.length > 0 && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n\n  return ModalManager;\n}();\n\nexport { ModalManager as default };","// A change of the browser zoom change the scrollbar size.\n// Credit https://github.com/twbs/bootstrap/blob/3ffe3a5d82f6f561b82ff78d82b32a7d14aed558/js/src/modal.js#L512-L519\nexport default function getScrollbarSize() {\n  var scrollDiv = document.createElement('div');\n  scrollDiv.style.width = '99px';\n  scrollDiv.style.height = '99px';\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  var scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarSize;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","/* eslint-disable consistent-return, jsx-a11y/no-noninteractive-tabindex, camelcase */\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport ownerDocument from '../utils/ownerDocument';\nimport useForkRef from '../utils/useForkRef';\nimport { exactProp } from '@material-ui/utils';\n/**\n * Utility component that locks focus inside the component.\n */\n\nfunction Unstable_TrapFocus(props) {\n  var children = props.children,\n      _props$disableAutoFoc = props.disableAutoFocus,\n      disableAutoFocus = _props$disableAutoFoc === void 0 ? false : _props$disableAutoFoc,\n      _props$disableEnforce = props.disableEnforceFocus,\n      disableEnforceFocus = _props$disableEnforce === void 0 ? false : _props$disableEnforce,\n      _props$disableRestore = props.disableRestoreFocus,\n      disableRestoreFocus = _props$disableRestore === void 0 ? false : _props$disableRestore,\n      getDoc = props.getDoc,\n      isEnabled = props.isEnabled,\n      open = props.open;\n  var ignoreNextEnforceFocus = React.useRef();\n  var sentinelStart = React.useRef(null);\n  var sentinelEnd = React.useRef(null);\n  var nodeToRestore = React.useRef();\n  var rootRef = React.useRef(null); // can be removed once we drop support for non ref forwarding class components\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    rootRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(children.ref, handleOwnRef);\n  var prevOpenRef = React.useRef();\n  React.useEffect(function () {\n    prevOpenRef.current = open;\n  }, [open]);\n\n  if (!prevOpenRef.current && open && typeof window !== 'undefined') {\n    // WARNING: Potentially unsafe in concurrent mode.\n    // The way the read on `nodeToRestore` is setup could make this actually safe.\n    // Say we render `open={false}` -> `open={true}` but never commit.\n    // We have now written a state that wasn't committed. But no committed effect\n    // will read this wrong value. We only read from `nodeToRestore` in effects\n    // that were committed on `open={true}`\n    // WARNING: Prevents the instance from being garbage collected. Should only\n    // hold a weak ref.\n    nodeToRestore.current = getDoc().activeElement;\n  }\n\n  React.useEffect(function () {\n    if (!open) {\n      return;\n    }\n\n    var doc = ownerDocument(rootRef.current); // We might render an empty child.\n\n    if (!disableAutoFocus && rootRef.current && !rootRef.current.contains(doc.activeElement)) {\n      if (!rootRef.current.hasAttribute('tabIndex')) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error(['Material-UI: The modal content node does not accept focus.', 'For the benefit of assistive technologies, ' + 'the tabIndex of the node is being set to \"-1\".'].join('\\n'));\n        }\n\n        rootRef.current.setAttribute('tabIndex', -1);\n      }\n\n      rootRef.current.focus();\n    }\n\n    var contain = function contain() {\n      var rootElement = rootRef.current; // Cleanup functions are executed lazily in React 17.\n      // Contain can be called between the component being unmounted and its cleanup function being run.\n\n      if (rootElement === null) {\n        return;\n      }\n\n      if (!doc.hasFocus() || disableEnforceFocus || !isEnabled() || ignoreNextEnforceFocus.current) {\n        ignoreNextEnforceFocus.current = false;\n        return;\n      }\n\n      if (rootRef.current && !rootRef.current.contains(doc.activeElement)) {\n        rootRef.current.focus();\n      }\n    };\n\n    var loopFocus = function loopFocus(event) {\n      // 9 = Tab\n      if (disableEnforceFocus || !isEnabled() || event.keyCode !== 9) {\n        return;\n      } // Make sure the next tab starts from the right place.\n\n\n      if (doc.activeElement === rootRef.current) {\n        // We need to ignore the next contain as\n        // it will try to move the focus back to the rootRef element.\n        ignoreNextEnforceFocus.current = true;\n\n        if (event.shiftKey) {\n          sentinelEnd.current.focus();\n        } else {\n          sentinelStart.current.focus();\n        }\n      }\n    };\n\n    doc.addEventListener('focus', contain, true);\n    doc.addEventListener('keydown', loopFocus, true); // With Edge, Safari and Firefox, no focus related events are fired when the focused area stops being a focused area\n    // e.g. https://bugzilla.mozilla.org/show_bug.cgi?id=559561.\n    //\n    // The whatwg spec defines how the browser should behave but does not explicitly mention any events:\n    // https://html.spec.whatwg.org/multipage/interaction.html#focus-fixup-rule.\n\n    var interval = setInterval(function () {\n      contain();\n    }, 50);\n    return function () {\n      clearInterval(interval);\n      doc.removeEventListener('focus', contain, true);\n      doc.removeEventListener('keydown', loopFocus, true); // restoreLastFocus()\n\n      if (!disableRestoreFocus) {\n        // In IE 11 it is possible for document.activeElement to be null resulting\n        // in nodeToRestore.current being null.\n        // Not all elements in IE 11 have a focus method.\n        // Once IE 11 support is dropped the focus() call can be unconditional.\n        if (nodeToRestore.current && nodeToRestore.current.focus) {\n          nodeToRestore.current.focus();\n        }\n\n        nodeToRestore.current = null;\n      }\n    };\n  }, [disableAutoFocus, disableEnforceFocus, disableRestoreFocus, isEnabled, open]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: 0,\n    ref: sentinelStart,\n    \"data-test\": \"sentinelStart\"\n  }), /*#__PURE__*/React.cloneElement(children, {\n    ref: handleRef\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: 0,\n    ref: sentinelEnd,\n    \"data-test\": \"sentinelEnd\"\n  }));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? Unstable_TrapFocus.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * A single child content element.\n   */\n  children: PropTypes.node,\n\n  /**\n   * If `true`, the trap focus will not automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes.\n   * This also works correctly with any trap focus children that have the `disableAutoFocus` prop.\n   *\n   * Generally this should never be set to `true` as it makes the trap focus less\n   * accessible to assistive technologies, like screen readers.\n   */\n  disableAutoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the trap focus will not prevent focus from leaving the trap focus while open.\n   *\n   * Generally this should never be set to `true` as it makes the trap focus less\n   * accessible to assistive technologies, like screen readers.\n   */\n  disableEnforceFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the trap focus will not restore focus to previously focused element once\n   * trap focus is hidden.\n   */\n  disableRestoreFocus: PropTypes.bool,\n\n  /**\n   * Return the document to consider.\n   * We use it to implement the restore focus between different browser documents.\n   */\n  getDoc: PropTypes.func.isRequired,\n\n  /**\n   * Do we still want to enforce the focus?\n   * This prop helps nesting TrapFocus elements.\n   */\n  isEnabled: PropTypes.func.isRequired,\n\n  /**\n   * If `true`, focus will be locked.\n   */\n  open: PropTypes.bool.isRequired\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  Unstable_TrapFocus['propTypes' + ''] = exactProp(Unstable_TrapFocus.propTypes);\n}\n\nexport default Unstable_TrapFocus;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    zIndex: -1,\n    position: 'fixed',\n    right: 0,\n    bottom: 0,\n    top: 0,\n    left: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    WebkitTapHighlightColor: 'transparent'\n  },\n\n  /* Styles applied to the root element if `invisible={true}`. */\n  invisible: {\n    backgroundColor: 'transparent'\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SimpleBackdrop = /*#__PURE__*/React.forwardRef(function SimpleBackdrop(props, ref) {\n  var _props$invisible = props.invisible,\n      invisible = _props$invisible === void 0 ? false : _props$invisible,\n      open = props.open,\n      other = _objectWithoutProperties(props, [\"invisible\", \"open\"]);\n\n  return open ? /*#__PURE__*/React.createElement(\"div\", _extends({\n    \"aria-hidden\": true,\n    ref: ref\n  }, other, {\n    style: _extends({}, styles.root, invisible ? styles.invisible : {}, other.style)\n  })) : null;\n});\nprocess.env.NODE_ENV !== \"production\" ? SimpleBackdrop.propTypes = {\n  /**\n   * If `true`, the backdrop is invisible.\n   * It can be used when rendering a popover or a custom select component.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * If `true`, the backdrop is open.\n   */\n  open: PropTypes.bool.isRequired\n} : void 0;\nexport default SimpleBackdrop;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { getThemeProps, useTheme } from '@material-ui/styles';\nimport { elementAcceptingRef, HTMLElementType } from '@material-ui/utils';\nimport deprecatedPropType from '../utils/deprecatedPropType';\nimport ownerDocument from '../utils/ownerDocument';\nimport Portal from '../Portal';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport zIndex from '../styles/zIndex';\nimport ModalManager, { ariaHidden } from './ModalManager';\nimport TrapFocus from '../Unstable_TrapFocus';\nimport SimpleBackdrop from './SimpleBackdrop';\n\nfunction getContainer(container) {\n  container = typeof container === 'function' ? container() : container;\n  return ReactDOM.findDOMNode(container);\n}\n\nfunction getHasTransition(props) {\n  return props.children ? props.children.props.hasOwnProperty('in') : false;\n} // A modal manager used to track and manage the state of open Modals.\n// Modals don't open on the server so this won't conflict with concurrent requests.\n\n\nvar defaultManager = new ModalManager();\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'fixed',\n      zIndex: theme.zIndex.modal,\n      right: 0,\n      bottom: 0,\n      top: 0,\n      left: 0\n    },\n\n    /* Styles applied to the root element if the `Modal` has exited. */\n    hidden: {\n      visibility: 'hidden'\n    }\n  };\n};\n/**\n * Modal is a lower-level construct that is leveraged by the following components:\n *\n * - [Dialog](/api/dialog/)\n * - [Drawer](/api/drawer/)\n * - [Menu](/api/menu/)\n * - [Popover](/api/popover/)\n *\n * If you are creating a modal dialog, you probably want to use the [Dialog](/api/dialog/) component\n * rather than directly using Modal.\n *\n * This component shares many concepts with [react-overlays](https://react-bootstrap.github.io/react-overlays/#modals).\n */\n\nvar Modal = /*#__PURE__*/React.forwardRef(function Modal(inProps, ref) {\n  var theme = useTheme();\n  var props = getThemeProps({\n    name: 'MuiModal',\n    props: _extends({}, inProps),\n    theme: theme\n  });\n\n  var _props$BackdropCompon = props.BackdropComponent,\n      BackdropComponent = _props$BackdropCompon === void 0 ? SimpleBackdrop : _props$BackdropCompon,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      _props$closeAfterTran = props.closeAfterTransition,\n      closeAfterTransition = _props$closeAfterTran === void 0 ? false : _props$closeAfterTran,\n      container = props.container,\n      _props$disableAutoFoc = props.disableAutoFocus,\n      disableAutoFocus = _props$disableAutoFoc === void 0 ? false : _props$disableAutoFoc,\n      _props$disableBackdro = props.disableBackdropClick,\n      disableBackdropClick = _props$disableBackdro === void 0 ? false : _props$disableBackdro,\n      _props$disableEnforce = props.disableEnforceFocus,\n      disableEnforceFocus = _props$disableEnforce === void 0 ? false : _props$disableEnforce,\n      _props$disableEscapeK = props.disableEscapeKeyDown,\n      disableEscapeKeyDown = _props$disableEscapeK === void 0 ? false : _props$disableEscapeK,\n      _props$disablePortal = props.disablePortal,\n      disablePortal = _props$disablePortal === void 0 ? false : _props$disablePortal,\n      _props$disableRestore = props.disableRestoreFocus,\n      disableRestoreFocus = _props$disableRestore === void 0 ? false : _props$disableRestore,\n      _props$disableScrollL = props.disableScrollLock,\n      disableScrollLock = _props$disableScrollL === void 0 ? false : _props$disableScrollL,\n      _props$hideBackdrop = props.hideBackdrop,\n      hideBackdrop = _props$hideBackdrop === void 0 ? false : _props$hideBackdrop,\n      _props$keepMounted = props.keepMounted,\n      keepMounted = _props$keepMounted === void 0 ? false : _props$keepMounted,\n      _props$manager = props.manager,\n      manager = _props$manager === void 0 ? defaultManager : _props$manager,\n      onBackdropClick = props.onBackdropClick,\n      onClose = props.onClose,\n      onEscapeKeyDown = props.onEscapeKeyDown,\n      onRendered = props.onRendered,\n      open = props.open,\n      other = _objectWithoutProperties(props, [\"BackdropComponent\", \"BackdropProps\", \"children\", \"closeAfterTransition\", \"container\", \"disableAutoFocus\", \"disableBackdropClick\", \"disableEnforceFocus\", \"disableEscapeKeyDown\", \"disablePortal\", \"disableRestoreFocus\", \"disableScrollLock\", \"hideBackdrop\", \"keepMounted\", \"manager\", \"onBackdropClick\", \"onClose\", \"onEscapeKeyDown\", \"onRendered\", \"open\"]);\n\n  var _React$useState = React.useState(true),\n      exited = _React$useState[0],\n      setExited = _React$useState[1];\n\n  var modal = React.useRef({});\n  var mountNodeRef = React.useRef(null);\n  var modalRef = React.useRef(null);\n  var handleRef = useForkRef(modalRef, ref);\n  var hasTransition = getHasTransition(props);\n\n  var getDoc = function getDoc() {\n    return ownerDocument(mountNodeRef.current);\n  };\n\n  var getModal = function getModal() {\n    modal.current.modalRef = modalRef.current;\n    modal.current.mountNode = mountNodeRef.current;\n    return modal.current;\n  };\n\n  var handleMounted = function handleMounted() {\n    manager.mount(getModal(), {\n      disableScrollLock: disableScrollLock\n    }); // Fix a bug on Chrome where the scroll isn't initially 0.\n\n    modalRef.current.scrollTop = 0;\n  };\n\n  var handleOpen = useEventCallback(function () {\n    var resolvedContainer = getContainer(container) || getDoc().body;\n    manager.add(getModal(), resolvedContainer); // The element was already mounted.\n\n    if (modalRef.current) {\n      handleMounted();\n    }\n  });\n  var isTopModal = React.useCallback(function () {\n    return manager.isTopModal(getModal());\n  }, [manager]);\n  var handlePortalRef = useEventCallback(function (node) {\n    mountNodeRef.current = node;\n\n    if (!node) {\n      return;\n    }\n\n    if (onRendered) {\n      onRendered();\n    }\n\n    if (open && isTopModal()) {\n      handleMounted();\n    } else {\n      ariaHidden(modalRef.current, true);\n    }\n  });\n  var handleClose = React.useCallback(function () {\n    manager.remove(getModal());\n  }, [manager]);\n  React.useEffect(function () {\n    return function () {\n      handleClose();\n    };\n  }, [handleClose]);\n  React.useEffect(function () {\n    if (open) {\n      handleOpen();\n    } else if (!hasTransition || !closeAfterTransition) {\n      handleClose();\n    }\n  }, [open, handleClose, hasTransition, closeAfterTransition, handleOpen]);\n\n  if (!keepMounted && !open && (!hasTransition || exited)) {\n    return null;\n  }\n\n  var handleEnter = function handleEnter() {\n    setExited(false);\n  };\n\n  var handleExited = function handleExited() {\n    setExited(true);\n\n    if (closeAfterTransition) {\n      handleClose();\n    }\n  };\n\n  var handleBackdropClick = function handleBackdropClick(event) {\n    if (event.target !== event.currentTarget) {\n      return;\n    }\n\n    if (onBackdropClick) {\n      onBackdropClick(event);\n    }\n\n    if (!disableBackdropClick && onClose) {\n      onClose(event, 'backdropClick');\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    // The handler doesn't take event.defaultPrevented into account:\n    //\n    // event.preventDefault() is meant to stop default behaviours like\n    // clicking a checkbox to check it, hitting a button to submit a form,\n    // and hitting left arrow to move the cursor in a text input etc.\n    // Only special HTML elements have these default behaviors.\n    if (event.key !== 'Escape' || !isTopModal()) {\n      return;\n    }\n\n    if (onEscapeKeyDown) {\n      onEscapeKeyDown(event);\n    }\n\n    if (!disableEscapeKeyDown) {\n      // Swallow the event, in case someone is listening for the escape key on the body.\n      event.stopPropagation();\n\n      if (onClose) {\n        onClose(event, 'escapeKeyDown');\n      }\n    }\n  };\n\n  var inlineStyle = styles(theme || {\n    zIndex: zIndex\n  });\n  var childProps = {};\n\n  if (children.props.tabIndex === undefined) {\n    childProps.tabIndex = children.props.tabIndex || '-1';\n  } // It's a Transition like component\n\n\n  if (hasTransition) {\n    childProps.onEnter = createChainedFunction(handleEnter, children.props.onEnter);\n    childProps.onExited = createChainedFunction(handleExited, children.props.onExited);\n  }\n\n  return /*#__PURE__*/React.createElement(Portal, {\n    ref: handlePortalRef,\n    container: container,\n    disablePortal: disablePortal\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: handleRef,\n    onKeyDown: handleKeyDown,\n    role: \"presentation\"\n  }, other, {\n    style: _extends({}, inlineStyle.root, !open && exited ? inlineStyle.hidden : {}, other.style)\n  }), hideBackdrop ? null : /*#__PURE__*/React.createElement(BackdropComponent, _extends({\n    open: open,\n    onClick: handleBackdropClick\n  }, BackdropProps)), /*#__PURE__*/React.createElement(TrapFocus, {\n    disableEnforceFocus: disableEnforceFocus,\n    disableAutoFocus: disableAutoFocus,\n    disableRestoreFocus: disableRestoreFocus,\n    getDoc: getDoc,\n    isEnabled: isTopModal,\n    open: open\n  }, /*#__PURE__*/React.cloneElement(children, childProps))));\n});\nprocess.env.NODE_ENV !== \"production\" ? Modal.propTypes = {\n  /**\n   * A backdrop component. This prop enables custom backdrop rendering.\n   */\n  BackdropComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the [`Backdrop`](/api/backdrop/) element.\n   */\n  BackdropProps: PropTypes.object,\n\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef.isRequired,\n\n  /**\n   * When set to true the Modal waits until a nested Transition is completed before closing.\n   */\n  closeAfterTransition: PropTypes.bool,\n\n  /**\n   * A HTML element, component instance, or function that returns either.\n   * The `container` will have the portal children appended to it.\n   *\n   * By default, it uses the body of the top-level document object,\n   * so it's simply `document.body` most of the time.\n   */\n  container: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([HTMLElementType, PropTypes.instanceOf(React.Component), PropTypes.func]),\n\n  /**\n   * If `true`, the modal will not automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes.\n   * This also works correctly with any modal children that have the `disableAutoFocus` prop.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  disableAutoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, clicking the backdrop will not fire `onClose`.\n   */\n  disableBackdropClick: deprecatedPropType(PropTypes.bool, 'Use the onClose prop with the `reason` argument to filter the `backdropClick` events.'),\n\n  /**\n   * If `true`, the modal will not prevent focus from leaving the modal while open.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  disableEnforceFocus: PropTypes.bool,\n\n  /**\n   * If `true`, hitting escape will not fire `onClose`.\n   */\n  disableEscapeKeyDown: PropTypes.bool,\n\n  /**\n   * Disable the portal behavior.\n   * The children stay within it's parent DOM hierarchy.\n   */\n  disablePortal: PropTypes.bool,\n\n  /**\n   * If `true`, the modal will not restore focus to previously focused element once\n   * modal is hidden.\n   */\n  disableRestoreFocus: PropTypes.bool,\n\n  /**\n   * Disable the scroll lock behavior.\n   */\n  disableScrollLock: PropTypes.bool,\n\n  /**\n   * If `true`, the backdrop is not rendered.\n   */\n  hideBackdrop: PropTypes.bool,\n\n  /**\n   * Always keep the children in the DOM.\n   * This prop can be useful in SEO situation or\n   * when you want to maximize the responsiveness of the Modal.\n   */\n  keepMounted: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  manager: PropTypes.object,\n\n  /**\n   * Callback fired when the backdrop is clicked.\n   */\n  onBackdropClick: deprecatedPropType(PropTypes.func, 'Use the onClose prop with the `reason` argument to handle the `backdropClick` events.'),\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * The `reason` parameter can optionally be used to control the response to `onClose`.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {string} reason Can be: `\"escapeKeyDown\"`, `\"backdropClick\"`.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired when the escape key is pressed,\n   * `disableEscapeKeyDown` is false and the modal is in focus.\n   */\n  onEscapeKeyDown: deprecatedPropType(PropTypes.func, 'Use the onClose prop with the `reason` argument to handle the `escapeKeyDown` events.'),\n\n  /**\n   * Callback fired once the children has been mounted into the `container`.\n   * It signals that the `open={true}` prop took effect.\n   *\n   * This prop will be removed in v5, the ref can be used instead.\n   */\n  onRendered: deprecatedPropType(PropTypes.func, 'Use the ref instead.'),\n\n  /**\n   * If `true`, the modal is open.\n   */\n  open: PropTypes.bool.isRequired\n} : void 0;\nexport default Modal;","import { addDocument, getCollection, updateDocument } from \"./collections\";\r\nimport { RoleDocument } from \"./roles\";\r\nimport { Document } from \"utils/interfaces\";\r\n\r\nexport type FieldInputType =\r\n  | \"string\"\r\n  | \"number\"\r\n  | \"boolean\"\r\n  | \"array\"\r\n  | \"map\"\r\n  | \"rich-text\"\r\n  | \"media\"\r\n  | \"date\"\r\n  | \"enum\"\r\n  | \"password\"\r\n  | \"relation\"\r\n  | \"json\"\r\n  | \"collection\"\r\n  | \"document\"\r\n  | \"any\"\r\n  | \"hashed-password\";\r\n\r\ntype SimpleInputType =\r\n  | \"number\"\r\n  | \"boolean\"\r\n  | \"array\"\r\n  | \"map\"\r\n  | \"json\"\r\n  | \"rich-text\"\r\n  | \"date\"\r\n  | \"password\"\r\n  | \"any\"\r\n  | \"hashed-password\";\r\n\r\nexport type BaseField = {\r\n  id: string;\r\n  isDefault: boolean;\r\n  displayOnTable: boolean;\r\n  type: string;\r\n};\r\n\r\nexport type CmsEvent = \"find\" | \"find one\" | \"create\" | \"update\" | \"delete\";\r\n\r\nexport type HttpMethod = \"GET\" | \"POST\" | \"PUT\" | \"PATCH\" | \"DELETE\";\r\n\r\nexport interface Webhook {\r\n  event: string;\r\n  method: string;\r\n  url: string;\r\n  collectionId: string;\r\n}\r\n\r\nexport interface WebhookDocument extends Document, Webhook {}\r\n\r\nexport type AnyField =\r\n  | RelationField\r\n  | EnumField\r\n  | StringField\r\n  | MediaField\r\n  | CollectionField\r\n  | DocumentField\r\n  | SimpleField;\r\n\r\nexport interface SimpleField extends BaseField {\r\n  type: SimpleInputType;\r\n}\r\n\r\nexport interface RelationField extends BaseField {\r\n  type: \"relation\";\r\n  relatedCollectionTypeDocId: string;\r\n  relationOneToOne: boolean;\r\n  labelField: string;\r\n}\r\n\r\nexport interface EnumField extends BaseField {\r\n  enumOptions: string[];\r\n  type: \"enum\";\r\n}\r\n\r\nexport interface StringField extends BaseField {\r\n  type: \"string\";\r\n  stringLong: boolean;\r\n}\r\n\r\nexport interface MediaField extends BaseField {\r\n  type: \"media\";\r\n  mediaSingle: boolean;\r\n}\r\n\r\nexport interface CollectionField extends BaseField {\r\n  type: \"collection\";\r\n  collectionFields: AnyField[];\r\n}\r\n\r\nexport interface DocumentField extends BaseField {\r\n  type: \"document\";\r\n  documentFields: AnyField[];\r\n}\r\n\r\nexport interface CollectionType extends Partial<Document> {\r\n  id: string;\r\n  name: string;\r\n  fields: Array<AnyField>;\r\n  draftable: boolean;\r\n  single: boolean;\r\n  docId: string;\r\n  size: number;\r\n  isSystem: boolean;\r\n}\r\n\r\nexport const createCollectionType = async (type: CollectionType) => {\r\n  try {\r\n    const ROLES_ID = \"RolesReservedCollection\";\r\n    const COLLECTIONS_ID = \"CollectionTypesReservedCollection\";\r\n\r\n    const finalType = {\r\n      ...type,\r\n      fields: [\r\n        ...type.fields,\r\n        {\r\n          id: \"createdAt\",\r\n          type: \"date\",\r\n          displayOnTable: true,\r\n          isDefault: true,\r\n        },\r\n        {\r\n          id: \"modifiedAt\",\r\n          type: \"date\",\r\n          displayOnTable: true,\r\n          isDefault: true,\r\n        },\r\n        {\r\n          id: \"docId\",\r\n          type: \"string\",\r\n          displayOnTable: true,\r\n          isDefault: true,\r\n        },\r\n      ],\r\n    };\r\n\r\n    let doc = await addDocument(COLLECTIONS_ID, finalType);\r\n\r\n    if (!doc.error && doc.docId) {\r\n      const roles: RoleDocument[] = await getCollection({\r\n        collectionId: ROLES_ID,\r\n        limit: 1000,\r\n      });\r\n\r\n      roles.forEach((x) =>\r\n        updateDocument(ROLES_ID, x.docId, {\r\n          ...x,\r\n          permissions: { ...x.permissions, [doc.docId]: x.defaultPermissions },\r\n        }).then((res: any) => console.log(res))\r\n      );\r\n    }\r\n\r\n    return doc;\r\n  } catch (error: any) {\r\n    return Promise.resolve({ error: error.toString() });\r\n  }\r\n\r\n  return;\r\n};\r\n","export interface ToupleInputProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  setValue: (a: any) => void;\r\n  options: {\r\n    value: any;\r\n    label: string;\r\n    icon?: React.FunctionComponent<React.SVGProps<SVGSVGElement>>;\r\n  }[];\r\n  value: any;\r\n  disabled?: boolean;\r\n}\r\n\r\nconst ToupleInput: React.FC<ToupleInputProps> = ({\r\n  className = \"\",\r\n  options,\r\n  value,\r\n  setValue,\r\n  disabled,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <div className={\"flex -mx-2 flex-wrap sm:flex-nowrap mb-10 \" + className} {...rest}>\r\n      {options.map((opt, i) => (\r\n        <div\r\n          data-testid={`touple-option-${opt.value}`}\r\n          key={opt.value}\r\n          onClick={() => setValue(opt.value)}\r\n          className={`sm:w-1/2 w-full mx-2 mb-3 sm:mb-0 py-7 select-none ${\r\n            disabled ? \"cursor-default\" : \"cursor-pointer\"\r\n          } flex items-center justify-center rounded ${\r\n            value === opt.value\r\n              ? \"border-4 border-fireck-4\"\r\n              : `bg-gray-300 ${disabled ? \"\" : \"hover:bg-gray-301\"}`\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center pointer-events-none\">\r\n            <div className={opt.icon ? \"mr-7\" : \"\"}>{opt.label}</div>\r\n            {opt.icon ? <opt.icon></opt.icon> : null}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToupleInput;\r\n","import Modal from \"@material-ui/core/Modal\";\r\nimport Input from \"components/Input\";\r\nimport React from \"react\";\r\nimport Button from \"components/Button\";\r\nimport { CollectionType, createCollectionType } from \"api/collectionTypes\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport { useFormik } from \"formik\";\r\nimport ToupleInput from \"components/ToupleInput\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\nimport { addDocument, deleteDocument, updateDocument } from \"api/collections\";\r\n\r\nexport interface AddNewCollectionProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  collections: Array<CollectionType>;\r\n  editingCollectionDocId: string;\r\n  onCreate: (val: CollectionType) => void;\r\n  onUpdate: (val: Partial<CollectionType>) => void;\r\n  onDelete: (docId: string) => void;\r\n}\r\n\r\nfunction isNumeric(char: any) {\r\n  return char >= \"0\" && char <= \"9\";\r\n}\r\n\r\nfunction isLetter(str: any) {\r\n  return str.length === 1 && str.match(/[a-z]/i);\r\n}\r\n\r\nconst createId = (string: string) => {\r\n  let id = \"\";\r\n  for (let i = 0; i < string.length; i++) {\r\n    if (string[i] === \" \") {\r\n      id += \"-\";\r\n    } else if (\r\n      i > 0 &&\r\n      string[i - 1].toLowerCase() === string[i - 1] &&\r\n      string[i - 1] !== \" \" &&\r\n      string[i].toUpperCase() === string[i] &&\r\n      !isNumeric(string[i]) &&\r\n      isLetter(string[i])\r\n    ) {\r\n      id += \"-\" + string[i].toLowerCase();\r\n    } else {\r\n      id += string[i].toLowerCase();\r\n    }\r\n  }\r\n  return id;\r\n};\r\n\r\nconst COLLECTION_ID = \"CollectionTypesReservedCollection\";\r\n\r\nconst AddNewCollection: React.FC<AddNewCollectionProps> = ({\r\n  open,\r\n  onClose,\r\n  collections,\r\n  editingCollectionDocId,\r\n  onCreate,\r\n  onUpdate,\r\n  onDelete,\r\n}) => {\r\n  const initialData = {\r\n    name: \"\",\r\n    id: \"\",\r\n    single: false,\r\n    draftable: true,\r\n    fields: [],\r\n    size: 0,\r\n    isSystem: false,\r\n    docId: \"\",\r\n  } as CollectionType;\r\n\r\n  const notify = useNotify();\r\n\r\n  const formIntialState = editingCollectionDocId.length\r\n    ? collections.find((x) => x.docId === editingCollectionDocId) || initialData\r\n    : initialData;\r\n\r\n  const { values, errors, handleSubmit, handleChange, setFieldValue, isSubmitting, submitCount } =\r\n    useFormik({\r\n      enableReinitialize: true,\r\n      onSubmit: async (vals, { resetForm }) => {\r\n        const id = createId(vals.name);\r\n\r\n        const res = editingCollectionDocId.length\r\n          ? await updateDocument(COLLECTION_ID, values.docId, { ...values, id })\r\n          : await createCollectionType({ ...values, id });\r\n        const actionType = editingCollectionDocId.length ? \"updated\" : \"created\";\r\n        if (!res.error) {\r\n          if (editingCollectionDocId.length) {\r\n            onUpdate(res);\r\n          } else {\r\n            onCreate(res);\r\n          }\r\n          resetForm();\r\n          onClose();\r\n          notify(\"Collection type \" + actionType + \"!\", { variant: \"success\" });\r\n        } else {\r\n          notify(res.error, { variant: \"error\" });\r\n        }\r\n      },\r\n      initialValues: formIntialState,\r\n      validate: (vals) => {\r\n        let errors: { [key: string]: string } = {};\r\n        if (!vals.name) {\r\n          errors.name = \"Collection name is required\";\r\n        } else {\r\n          const id = createId(vals.name);\r\n          const index = collections.findIndex((x) => x.id === id);\r\n          if (index !== -1 && collections[index].docId !== editingCollectionDocId) {\r\n            errors.name = \"There is collection with the same name\";\r\n          }\r\n        }\r\n        return errors;\r\n      },\r\n    });\r\n\r\n  return (\r\n    <Modal open={open} hideBackdrop>\r\n      <div className=\"w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7\">\r\n        <div\r\n          className=\"m-auto rounded bg-white w-full p-7 relative animate-littlemoveup\"\r\n          style={{ maxWidth: 600 }}\r\n        >\r\n          <CloseRounded\r\n            className=\"absolute top-0 right-0 cursor-pointer\"\r\n            onClick={onClose}\r\n          ></CloseRounded>\r\n          <div className=\"text-22px font-medium mb-12\">\r\n            {editingCollectionDocId.length ? \"Edit\" : \"Create\"} collection type\r\n          </div>\r\n          <div className=\"flex flex-wrap mb-7\">\r\n            <div className=\"mb-3 sm:w-1/2 w-full sm:pr-2\">\r\n              <div className=\"mb-2\">Collection name</div>\r\n              <Input\r\n                groundColor=\"white\"\r\n                className=\"h-34px\"\r\n                data-testid={`collection-name-input`}\r\n                error={submitCount > 0 && errors.name ? errors.name : false}\r\n                value={values.name}\r\n                name=\"name\"\r\n                onChange={handleChange}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Enter\") {\r\n                    handleSubmit();\r\n                  }\r\n                }}\r\n              ></Input>\r\n            </div>\r\n            <div className=\"mb-3 sm:w-1/2 w-full sm:pl-2\">\r\n              <div className=\"mb-2\">UID</div>\r\n              <Input\r\n                className=\"h-34px\"\r\n                groundColor=\"white\"\r\n                disabled\r\n                value={createId(values.name)}\r\n                name=\"id\"\r\n              ></Input>\r\n            </div>\r\n          </div>\r\n          <ToupleInput\r\n            disabled={editingCollectionDocId.length > 0}\r\n            value={values.single}\r\n            options={[\r\n              { value: false, label: \"Multiple elements\" },\r\n              { value: true, label: \"Single element\" },\r\n            ]}\r\n            setValue={(val) => (!editingCollectionDocId ? setFieldValue(\"single\", val) : {})}\r\n          ></ToupleInput>\r\n          {editingCollectionDocId ? (\r\n            <Button\r\n              data-testid=\"delete-collection-btn\"\r\n              onClick={async () => {\r\n                if (\r\n                  await confirm({\r\n                    confirmation: \"Delete collection type?\",\r\n                  })\r\n                ) {\r\n                  const deleteDocId = editingCollectionDocId;\r\n                  let res = await deleteDocument(COLLECTION_ID, deleteDocId);\r\n                  if (!res.error) {\r\n                    onClose();\r\n                    onDelete(deleteDocId);\r\n                    notify(\"Collection type deleted!\", { variant: \"success\" });\r\n                  } else {\r\n                    notify(res.error, { variant: \"error\" });\r\n                  }\r\n                  onClose();\r\n                }\r\n              }}\r\n              className=\"border-2 min-w-unset h-34px px-4 border-red-FF0000 text-red-FF0000 mb-10 hover:bg-red-FF0000 hover:text-white\"\r\n            >\r\n              Delete collection\r\n            </Button>\r\n          ) : null}\r\n\r\n          <div className=\"flex justify-between\">\r\n            <Button\r\n              onClick={() => onClose()}\r\n              className=\"bg-fireck-5 hover:bg-fireck-5-hover text-white\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              data-testid=\"submit-btn\"\r\n              disabled={isSubmitting}\r\n              onClick={() => handleSubmit()}\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover h-34px\"\r\n            >\r\n              {isSubmitting ? \"Loading...\" : \"Submit\"}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddNewCollection;\r\n","import { UnControlled as CodeMirror } from \"react-codemirror2\";\r\nimport \"codemirror/lib/codemirror.css\";\r\nimport \"codemirror/theme/material.css\";\r\nimport \"codemirror/addon/edit/closebrackets\";\r\nimport \"codemirror/mode/javascript/javascript\";\r\nimport \"codemirror/addon/lint/lint\";\r\nimport \"codemirror/addon/lint/lint.css\";\r\n\r\ninterface TypescriptSyntaxProps {\r\n  code: string;\r\n}\r\n\r\nconst TypescriptSyntax: React.FC<TypescriptSyntaxProps> = ({ code }) => {\r\n  return (\r\n    <CodeMirror\r\n      value={code}\r\n      options={{\r\n        theme: \"material\",\r\n        lineNumbers: true,\r\n        readOnly: true,\r\n        mode: \"text/typescript\",\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TypescriptSyntax;\r\n","import Modal from \"@material-ui/core/Modal\";\r\nimport { CollectionType, AnyField } from \"api/collectionTypes\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\nimport { useState } from \"react\";\r\nimport Button from \"components/Button\";\r\nimport TypescriptSyntax from \"components/TypescriptSyntax\";\r\nimport SimpleBar from \"simplebar-react\";\r\n\r\nexport interface InterfaceModalProps {\r\n  open: boolean;\r\n  collectionType?: CollectionType;\r\n  onClose: () => void;\r\n}\r\n\r\nconst getGap = (count: number) => {\r\n  return new Array(count).fill(0).reduce((a, b) => a + \" \", \"\");\r\n};\r\n\r\nconst getType = (type: AnyField, ident: number, identStep: number = 3): string => {\r\n  const docType = (fields: AnyField[], multiple: boolean = false) => {\r\n    return fields.length\r\n      ? `{\\n${fields.reduce(\r\n          (a, b) =>\r\n            a +\r\n            `${getGap(ident)}${\r\n              b.id.includes(\" \") || b.id.includes(\"-\") ? `\"${b.id}\"` : b.id\r\n            }: ${getType(b, ident + identStep)};\\n`,\r\n          \"\"\r\n        )}${getGap(ident - identStep)}${multiple ? \"}[]\" : \"}\"}`\r\n      : multiple\r\n      ? \"any[]\"\r\n      : \"null\";\r\n  };\r\n\r\n  const types = {\r\n    password: () => \"string\",\r\n    string: () => \"string\",\r\n    \"rich-text\": () => \"string\",\r\n    json: () => \"object\",\r\n    map: () => \"object\",\r\n    array: () => \"any[]\",\r\n    media: (x: AnyField) => (x.type === \"media\" && x.mediaSingle ? \"string\" : \"string[]\"),\r\n    date: () => \"string\",\r\n    enum: () => \"string[]\",\r\n    number: () => \"number\",\r\n    boolean: () => \"boolean\",\r\n    relation: (x: AnyField) =>\r\n      x.type === \"relation\" && x.relationOneToOne ? \"string\" : \"string[]\",\r\n    collection: (x: AnyField) => docType(x.type === \"collection\" ? x.collectionFields : [], true),\r\n    document: (x: AnyField) => docType(x.type === \"document\" ? x.documentFields : []),\r\n    script: () => \"object\",\r\n    \"script-V2\": () => \"object\",\r\n    any: () => \"any\",\r\n    \"hashed-password\": () => \"string\",\r\n  };\r\n  return `${types[type.type](type)}`;\r\n};\r\n\r\nexport const generateInterface = (colType: CollectionType) => {\r\n  const docType: any = {\r\n    type: \"document\",\r\n    documentFields: colType.fields,\r\n  };\r\n\r\n  const intface = `interface Document ${getType(docType, 3)}`;\r\n  return intface;\r\n};\r\n\r\nconst InterfaceModal: React.FC<InterfaceModalProps> = ({ open, collectionType, onClose }) => {\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const interfaceString = collectionType ? generateInterface(collectionType) : \"\";\r\n\r\n  return !collectionType ? null : (\r\n    <Modal open={open} hideBackdrop>\r\n      <div\r\n        className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-9\"\r\n        onMouseDown={onClose}\r\n      >\r\n        <div\r\n          className=\"bg-white p-7 m-auto rounded md:max-w-lg max-w-sm w-full relative animate-littlemoveup\"\r\n          onMouseDown={(e) => e.stopPropagation()}\r\n        >\r\n          <CloseRounded\r\n            className=\"absolute top-0 right-0 cursor-pointer\"\r\n            onClick={onClose}\r\n          ></CloseRounded>\r\n          <div className=\"mb-7 text-22px capitalize font-medium\">\r\n            {collectionType.name} interface\r\n          </div>\r\n          <div className=\"relative rounded overflow-hidden\">\r\n            {copied ? (\r\n              <div className=\"absolute z-20 text-white top-1 animate-littlemoveup right-1 cursor-pointer h-6 px-2 text-xs font-medium\">\r\n                Copied!\r\n              </div>\r\n            ) : (\r\n              <Button\r\n                onClick={() => {\r\n                  navigator.clipboard.writeText(interfaceString);\r\n                  setCopied(true);\r\n                  setTimeout(() => {\r\n                    setCopied(false);\r\n                  }, 2000);\r\n                }}\r\n                className=\"absolute min-w-unset z-20 top-1 right-1 text-xs cursor-pointer h-6 px-3 bg-fireck-4 hover:bg-fireck-4-hover\"\r\n              >\r\n                Copy\r\n              </Button>\r\n            )}\r\n\r\n            <TypescriptSyntax code={interfaceString}></TypescriptSyntax>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default InterfaceModal;\r\n","import FieldTypes from \"components/Fields\";\r\nimport React, { useEffect } from \"react\";\r\nimport { FieldInputType } from \"api/collectionTypes\";\r\nimport Button from \"components/Button\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\n\r\nexport interface SelectFieldTypeProps {\r\n  proceed: Function;\r\n  initialFieldInputType?: FieldInputType;\r\n}\r\n\r\nconst SelectFieldType: React.FC<SelectFieldTypeProps> = ({ proceed, initialFieldInputType }) => {\r\n  const [fieldType, setFieldType] = React.useState(\"string\" as FieldInputType);\r\n\r\n  useEffect(() => {\r\n    if (initialFieldInputType) {\r\n      setFieldType(initialFieldInputType);\r\n    }\r\n  }, [initialFieldInputType]);\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7\">\r\n      <div\r\n        className=\"m-auto rounded bg-white p-7 w-full relative animate-littlemoveup\"\r\n        style={{ maxWidth: 550 }}\r\n      >\r\n        <CloseRounded\r\n          className=\"cursor-pointer absolute top-0 right-0\"\r\n          onClick={() => proceed(null)}\r\n        ></CloseRounded>\r\n        <div className=\"text-22px font-medium mb-7\">Select field type</div>\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex flex-wrap\">\r\n            {FieldTypes.map((x, i) => (\r\n              <div\r\n                data-testid={`fieldtype-option-${x.type}`}\r\n                onClick={() => setFieldType(x.type as FieldInputType)}\r\n                key={`field-type-${i}`}\r\n                className={`flex md:w-1/3 sm:w-1/2 w-full select-none p-3 border-4 border-solid border-white items-center cursor-pointer rounded  ${\r\n                  fieldType === x.type\r\n                    ? \"border-fireck-4\"\r\n                    : \"hover:border-gray-300 hover:bg-gray-300\"\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center pointer-events-none\">\r\n                  <x.Badge></x.Badge>\r\n                  <span className=\"capitalize ml-2 line-clamp-1\">{x.type.replace(\"-\", \" \")}</span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"flex justify-between\">\r\n          <Button\r\n            data-testid=\"cancel-field-type-btn\"\r\n            onClick={() => {\r\n              proceed(null);\r\n            }}\r\n            className=\"bg-fireck-5 hover:bg-fireck-5-hover text-white h-34px\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            data-testid=\"submit-field-type-btn\"\r\n            onClick={() => {\r\n              proceed(fieldType);\r\n            }}\r\n            className=\"bg-fireck-4 hover:bg-fireck-4-hover h-34px\"\r\n          >\r\n            Submit\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectFieldType;\r\n","import React from \"react\";\r\nimport Input from \"components/Input\";\r\nimport Button from \"components/Button\";\r\nimport { FieldInputType, BaseField, AnyField } from \"api/collectionTypes\";\r\nimport FieldTypes from \"components/Fields\";\r\nimport Select from \"components/Select\";\r\nimport { ReactComponent as OneToOneIcon } from \"assets/one-to-one.svg\";\r\nimport { ReactComponent as OneToManyIcon } from \"assets/one-to-many.svg\";\r\nimport Label from \"components/Label\";\r\nimport ToupleInput from \"components/ToupleInput\";\r\nimport { useFormik } from \"formik\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport AddCircleOutlineRounded from \"@material-ui/icons/AddCircleOutlineRounded\";\r\nimport IconButton from \"components/IconButton\";\r\nimport EditOutlined from \"@material-ui/icons/EditOutlined\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport Delete from \"@material-ui/icons/DeleteOutlineOutlined\";\r\nimport { getCollectionField } from \"./GetCollectionField\";\r\nimport { reorder } from \".\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\nimport DraggableList from \"components/DraggableList\";\r\n\r\nexport interface SpecifyFieldDetailsProps {\r\n  editableField?: AnyField;\r\n  existingFieldNames?: string[];\r\n  fieldType: FieldInputType;\r\n  proceed: Function;\r\n  zLevel: number;\r\n}\r\n\r\ntype CustomErrors = { id?: string; enumOptions?: string; relatedCollectionTypeDocId?: string };\r\n\r\nconst SpecifyFieldDetails: React.FC<SpecifyFieldDetailsProps> = ({\r\n  editableField,\r\n  existingFieldNames,\r\n  proceed,\r\n  fieldType,\r\n  zLevel,\r\n}) => {\r\n  const baseIntialValues: BaseField = {\r\n    id: \"\",\r\n    displayOnTable: true,\r\n    isDefault: false,\r\n    type: \"\",\r\n  };\r\n  const initialValues: AnyField = {\r\n    ...baseIntialValues,\r\n    ...(fieldType === \"collection\"\r\n      ? { collectionFields: [], type: fieldType }\r\n      : fieldType === \"enum\"\r\n      ? { enumOptions: [], type: fieldType }\r\n      : fieldType === \"string\"\r\n      ? { stringLong: false, type: fieldType }\r\n      : fieldType === \"media\"\r\n      ? { mediaSingle: false, type: fieldType }\r\n      : fieldType === \"relation\"\r\n      ? { relatedCollectionTypeDocId: \"\", relationOneToOne: true, type: fieldType, labelField: \"\" }\r\n      : fieldType === \"document\"\r\n      ? { documentFields: [], type: fieldType }\r\n      : { type: fieldType }),\r\n  };\r\n\r\n  const { values, errors, handleChange, handleSubmit, setFieldValue, submitCount } = useFormik({\r\n    onSubmit: (vals) => {\r\n      proceed(vals);\r\n    },\r\n    initialValues: editableField ? { ...initialValues, ...editableField } : initialValues,\r\n    validate: (vals) => {\r\n      const errors: CustomErrors = {};\r\n\r\n      if (!vals.id) {\r\n        errors.id = \"Field name is required\";\r\n      } else if (existingFieldNames && existingFieldNames.findIndex((x) => x === vals.id) > -1) {\r\n        errors.id = \"There is field with the same name\";\r\n      }\r\n\r\n      if (vals.type === \"enum\" && vals.enumOptions.length < 2) {\r\n        errors.enumOptions = \"Enum requires at least two options\";\r\n      }\r\n\r\n      if (vals.type === \"relation\" && vals.relatedCollectionTypeDocId === \"\") {\r\n        errors.relatedCollectionTypeDocId = \"Select related collection\";\r\n      }\r\n\r\n      return errors;\r\n    },\r\n  });\r\n  const [enumOption, setEnumOption] = React.useState(\"\");\r\n\r\n  const SelectedFieldType = FieldTypes.find((x) => x.type === fieldType);\r\n  const collections = useSelector((state: RootState) => state.collectionTypes);\r\n\r\n  const onDragEnd = async (result: any) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    if (values.type === \"collection\") {\r\n      const fields = reorder(\r\n        values.collectionFields,\r\n        result.source.index,\r\n        result.destination.index\r\n      );\r\n      setFieldValue(\"collectionFields\", fields);\r\n    }\r\n  };\r\n\r\n  const addEnumOption = () => {\r\n    if (enumOption && values.type === \"enum\") {\r\n      let arr = [...values.enumOptions];\r\n      arr.push(enumOption);\r\n      setFieldValue(\"enumOptions\", arr);\r\n      setEnumOption(\"\");\r\n    }\r\n  };\r\n\r\n  let customErrors = errors as CustomErrors;\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7\">\r\n      <div\r\n        style={{ maxWidth: 550 }}\r\n        className=\"m-auto rounded bg-white p-7 w-full relative animate-littlemoveup\"\r\n      >\r\n        <CloseRounded\r\n          className=\"absolute top-0 right-0 cursor-pointer\"\r\n          onClick={() => proceed(null)}\r\n        ></CloseRounded>\r\n        <div className=\"text-22px font-medium mb-9 flex items-center\">\r\n          {SelectedFieldType ? <SelectedFieldType.Badge></SelectedFieldType.Badge> : null}\r\n          <span className=\"ml-3\">\r\n            {editableField ? \"Edit\" : \"Add\"} {SelectedFieldType ? SelectedFieldType.type : \"\"} field\r\n          </span>\r\n        </div>\r\n        <div className=\"mb-9\">\r\n          <div className=\"mb-2\">Field name</div>\r\n          <Input\r\n            groundColor=\"white\"\r\n            className=\"h-34px\"\r\n            data-testid={`field-id-input-${zLevel}`}\r\n            error={submitCount > 0 ? errors.id : \"\"}\r\n            value={values.id}\r\n            name=\"id\"\r\n            onChange={handleChange}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\") {\r\n                handleSubmit();\r\n              }\r\n            }}\r\n          ></Input>\r\n        </div>\r\n\r\n        {values.type === \"media\" ? (\r\n          <ToupleInput\r\n            data-testid={`media-touple-${zLevel}`}\r\n            options={[\r\n              { value: false, label: \"Multiple media\" },\r\n              { value: true, label: \"Single media\" },\r\n            ]}\r\n            value={values.mediaSingle}\r\n            setValue={(val) => setFieldValue(\"mediaSingle\", val)}\r\n          ></ToupleInput>\r\n        ) : values.type === \"enum\" ? (\r\n          <div className=\"mb-10\">\r\n            <div className=\"mb-2\">Options</div>\r\n            <div className=\"flex flex-wrap\">\r\n              {values.enumOptions.map((x, i) => (\r\n                <div\r\n                  data-testid={`enum-option-${x}-${zLevel}`}\r\n                  key={`enum-option-${i}`}\r\n                  className=\"bg-gray-300 rounded flex items-center px-3 h-34px mr-3 mb-3\"\r\n                >\r\n                  <div className=\"mr-4\">{x}</div>\r\n                  <div\r\n                    className=\"cursor-pointer text-xs\"\r\n                    onClick={() => {\r\n                      let arr = [...values.enumOptions];\r\n                      arr.splice(i, 1);\r\n                      setFieldValue(\"enumOptions\", arr);\r\n                    }}\r\n                  >\r\n                    \r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"flex\">\r\n              <Input\r\n                groundColor=\"white\"\r\n                data-testid={`enum-option-input-${zLevel}`}\r\n                className=\"mr-3\"\r\n                error={submitCount > 0 ? customErrors.enumOptions?.toString() : \"\"}\r\n                type=\"text\"\r\n                value={enumOption}\r\n                onChange={(e) => setEnumOption(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Enter\") {\r\n                    addEnumOption();\r\n                  }\r\n                }}\r\n              ></Input>\r\n              <Button\r\n                data-testid={`add-enum-option-btn-${zLevel}`}\r\n                onClick={addEnumOption}\r\n                className=\"bg-fireck-4 hover:bg-fireck-4-hover\"\r\n              >\r\n                Add option\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        ) : values.type === \"relation\" ? (\r\n          <div className=\"mb-10\">\r\n            <div className=\"mb-9\">\r\n              <Label\r\n                groundColor=\"white\"\r\n                error={submitCount > 0 ? customErrors.relatedCollectionTypeDocId : \"\"}\r\n                className=\"mb-2\"\r\n              >\r\n                Related collection\r\n              </Label>\r\n              <Select\r\n                className=\"h-34px\"\r\n                groundColor=\"white\"\r\n                data-testid={`related-collection-select-${zLevel}`}\r\n                options={[\r\n                  { value: \"\", label: \"Select\" },\r\n                  ...collections\r\n                    .filter((x) => !x.isSystem)\r\n                    .map((c) => ({ label: c.id, value: c.docId })),\r\n                ]}\r\n                value={values.relatedCollectionTypeDocId}\r\n                onChange={(e) => setFieldValue(\"relatedCollectionTypeDocId\", e.target.value)}\r\n              ></Select>\r\n            </div>\r\n            <div className=\"mb-9\">\r\n              <Label\r\n                groundColor=\"white\"\r\n                error={submitCount > 0 ? customErrors.relatedCollectionTypeDocId : \"\"}\r\n                className=\"mb-2\"\r\n              >\r\n                Label field\r\n              </Label>\r\n              <Select\r\n                className=\"h-34px\"\r\n                groundColor=\"white\"\r\n                data-testid={`label-field-select-${zLevel}`}\r\n                options={[\r\n                  { value: \"\", label: \"Select\" },\r\n                  ...(collections\r\n                    .find((x) => x.docId === values.relatedCollectionTypeDocId)\r\n                    ?.fields.map((x) => ({ value: x.id, label: x.id })) || []),\r\n                ]}\r\n                value={values.labelField}\r\n                onChange={(e) => setFieldValue(\"labelField\", e.target.value)}\r\n              ></Select>\r\n            </div>\r\n            <div className=\"mb-2\">Relation type</div>\r\n            <ToupleInput\r\n              data-testid={`relation-multiplicity-touple-${zLevel}`}\r\n              value={values.relationOneToOne}\r\n              setValue={(val) => setFieldValue(\"relationOneToOne\", val)}\r\n              options={[\r\n                { value: true, label: \"One to one\", icon: OneToOneIcon },\r\n                { value: false, label: \"One to many\", icon: OneToManyIcon },\r\n              ]}\r\n            ></ToupleInput>\r\n          </div>\r\n        ) : values.type === \"string\" ? (\r\n          <ToupleInput\r\n            data-testid={`string-type-touple-${zLevel}`}\r\n            value={values.stringLong}\r\n            setValue={(val) => setFieldValue(\"stringLong\", val)}\r\n            options={[\r\n              { label: \"Short text\", value: false },\r\n              { label: \"Long text\", value: true },\r\n            ]}\r\n          ></ToupleInput>\r\n        ) : values.type === \"collection\" ? (\r\n          <div className=\"mb-9\">\r\n            <div className=\"flex mb-2\">\r\n              <div className=\"mr-2\">Fields</div>\r\n              <AddCircleOutlineRounded\r\n                data-testid={`add-field-for-subcollection-btn-${zLevel}`}\r\n                className=\"cursor-pointer\"\r\n                onClick={async () => {\r\n                  const field = await getCollectionField({\r\n                    existingFieldNames: values.collectionFields.map((x) => x.id),\r\n                    zLevel: zLevel + 1,\r\n                  });\r\n                  console.log(\"FINAL FIELD\", field);\r\n                  if (!field) return;\r\n                  const fields = [...values.collectionFields, field];\r\n                  setFieldValue(\"collectionFields\", fields);\r\n                }}\r\n              ></AddCircleOutlineRounded>\r\n            </div>\r\n            <DraggableList\r\n              items={values.collectionFields.map((x) => ({\r\n                field: x,\r\n                Badge: FieldTypes.find((t) => t.type === x.type)?.Badge,\r\n              }))}\r\n              onDragEnd={onDragEnd}\r\n              containerClassName=\"max-h-247px overflow-auto\"\r\n              Item={({\r\n                Badge,\r\n                field,\r\n                index,\r\n                ...rest\r\n              }: {\r\n                Badge: React.FC;\r\n                field: AnyField;\r\n                index: number;\r\n                rest: any;\r\n              }) => {\r\n                return (\r\n                  <div className=\"pb-2\">\r\n                    <div className=\"rounded bg-gray-300 px-3 py-2 flex items-center\" {...rest}>\r\n                      <div className=\"line-clamp-1 w-5/12 px-3\">{field.id}</div>\r\n                      <div className=\"flex w-4/12 flex-shrink-0 items-center\">\r\n                        {Badge ? <Badge></Badge> : null}\r\n                        <span className=\"ml-3 hidden sm:block line-clamp-1\">{field.type}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center flex-grow justify-end text-base\">\r\n                        <IconButton\r\n                          className=\"mr-1\"\r\n                          variant=\"transparent\"\r\n                          onClick={async () => {\r\n                            const editedField = await getCollectionField({\r\n                              zLevel: zLevel + 1,\r\n                              editableField: field,\r\n                              existingFieldNames: values.collectionFields\r\n                                .map((f) => f.id)\r\n                                .filter((f) => f !== field.id),\r\n                            });\r\n\r\n                            if (!editedField) return;\r\n\r\n                            let fields = [...values.collectionFields];\r\n                            fields[index] = editedField;\r\n                            setFieldValue(\"collectionFields\", fields);\r\n                          }}\r\n                        >\r\n                          <EditOutlined fontSize=\"inherit\"></EditOutlined>\r\n                        </IconButton>\r\n                        <IconButton\r\n                          variant=\"transparent\"\r\n                          onClick={async () => {\r\n                            let res = await confirm({\r\n                              confirmation: \"Delete field?\",\r\n                            });\r\n                            if (res) {\r\n                              const fields = [...values.collectionFields];\r\n                              fields.splice(index, 1);\r\n                              setFieldValue(\"collectionFields\", fields);\r\n                            }\r\n                          }}\r\n                        >\r\n                          <Delete fontSize=\"inherit\"></Delete>\r\n                        </IconButton>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              }}\r\n            ></DraggableList>\r\n          </div>\r\n        ) : null}\r\n        <div className=\"flex justify-between\">\r\n          <Button\r\n            data-testid={`cancel-field-details-btn-${zLevel}`}\r\n            onClick={() => proceed(editableField ? null : \"back\")}\r\n            className=\"bg-fireck-5 hover:bg-fireck-5-hover text-white h-34px\"\r\n          >\r\n            {editableField ? \"Cancel\" : \"Back\"}\r\n          </Button>\r\n          <Button\r\n            data-testid={`submit-field-details-btn-${zLevel}`}\r\n            type=\"submit\"\r\n            onClick={() => handleSubmit()}\r\n            className=\"bg-fireck-4 hover:bg-fireck-4-hover h-34px\"\r\n          >\r\n            Submit\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpecifyFieldDetails;\r\n","import { callComponent } from \"api/callComponent\";\r\nimport { FieldInputType, AnyField } from \"api/collectionTypes\";\r\nimport SelectFieldType, { SelectFieldTypeProps } from \"./SelectFieldType\";\r\nimport SpecifyFieldDetails, { SpecifyFieldDetailsProps } from \"./SpecifyFieldDetails\";\r\n\r\nexport const getCollectionField = async ({\r\n  editableField,\r\n  existingFieldNames,\r\n  initialFieldInputType,\r\n  zLevel,\r\n}: {\r\n  editableField?: AnyField;\r\n  existingFieldNames?: string[];\r\n  initialFieldInputType?: FieldInputType;\r\n  zLevel: number;\r\n}): Promise<AnyField | null> => {\r\n  let res = editableField\r\n    ? editableField.type\r\n    : await callComponent<SelectFieldTypeProps, FieldInputType | null>({\r\n        Component: SelectFieldType,\r\n        props: initialFieldInputType ? { initialFieldInputType } : {},\r\n      });\r\n\r\n  if (res == null) return res;\r\n\r\n  const fieldType = res;\r\n  let res1: AnyField | null | \"back\" = await callComponent<\r\n    SpecifyFieldDetailsProps,\r\n    AnyField | null | \"back\"\r\n  >({\r\n    Component: SpecifyFieldDetails,\r\n    props: {\r\n      fieldType,\r\n      editableField,\r\n      existingFieldNames,\r\n      zLevel,\r\n    },\r\n  });\r\n  if (res1 === \"back\") {\r\n    return getCollectionField({\r\n      editableField,\r\n      existingFieldNames,\r\n      zLevel,\r\n      initialFieldInputType: fieldType,\r\n    });\r\n  } else {\r\n    return res1;\r\n  }\r\n};\r\n","import Button from \"components/Button\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport EditOutlined from \"@material-ui/icons/EditOutlined\";\r\nimport DeleteOutlineOutlined from \"@material-ui/icons/DeleteOutlineOutlined\";\r\nimport CollectionModal from \"./CollectionModal\";\r\nimport FieldTypes from \"components/Fields\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport DragIndicatorRounded from \"@material-ui/icons/DragIndicatorRounded\";\r\nimport InterfaceModal from \"./InterfaceModal\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport AddRounded from \"@material-ui/icons/AddRounded\";\r\nimport SettingsPage from \"components/SettingsPage\";\r\nimport { updateDocument } from \"api/collections\";\r\nimport { CollectionType } from \"api/collectionTypes\";\r\nimport { getCollectionField } from \"./GetCollectionField\";\r\n\r\nexport interface CollectionsBuilderProps {}\r\n\r\nexport const reorder = (list: any[], startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n\r\n  return result;\r\n};\r\n\r\nconst COLLECTION_ID = \"CollectionTypesReservedCollection\";\r\n\r\nconst CollectionsBuilder: React.FC<CollectionsBuilderProps> = () => {\r\n  const [collectionModalOpen, setCollectionModalOpen] = React.useState(false);\r\n  const dispatch = useDispatch();\r\n  const notify = useNotify();\r\n  const [editingCollectionDocId, setEditingCollectionDocId] = React.useState(\"\");\r\n  const [selectedCollection, setSelectedCollection] = React.useState(\"\");\r\n  const [interfaceColType, setInterfaceColType] = React.useState<CollectionType>();\r\n\r\n  const collections = useSelector(\r\n    (state: RootState) => state.collectionTypes.filter((x) => !x.isSystem),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (collections.length && !selectedCollection) {\r\n      setSelectedCollection(collections[0].docId);\r\n    }\r\n  }, [collections]);\r\n\r\n  const editField = async (selectedField: number) => {\r\n    const collection = collections.find((x) => x.docId === selectedCollection);\r\n    if (!collection) return;\r\n    let editableField = collection.fields[selectedField];\r\n\r\n    const field = await getCollectionField({\r\n      editableField,\r\n      zLevel: 0,\r\n      existingFieldNames: collection.fields\r\n        .filter((x) => x.id !== editableField.id)\r\n        .map((x) => x.id),\r\n    });\r\n\r\n    if (field) {\r\n      let newFields = JSON.parse(JSON.stringify(collection.fields));\r\n      newFields[selectedField] = field;\r\n      let res1 = await updateDocument(COLLECTION_ID, collection.docId, {\r\n        ...collection,\r\n        fields: newFields,\r\n      });\r\n      if (res1.error) {\r\n        notify(res1.error, { variant: \"error\" });\r\n      } else {\r\n        dispatch({ type: \"UPDATE_COLLECTION_FIELDS\", payload: newFields, docId: collection.docId });\r\n      }\r\n    }\r\n\r\n    return { success: false };\r\n  };\r\n\r\n  const addField = async () => {\r\n    const collection = collections.find((x) => x.docId === selectedCollection);\r\n    if (!collection) return;\r\n    const field = await getCollectionField({\r\n      zLevel: 0,\r\n      existingFieldNames: collection.fields.map((x) => x.id),\r\n    });\r\n    if (field) {\r\n      const newFields = [...collection.fields, field];\r\n\r\n      let res2 = await updateDocument(COLLECTION_ID, collection.docId, {\r\n        ...collection,\r\n        fields: newFields,\r\n      });\r\n\r\n      if (!res2.error) {\r\n        dispatch({\r\n          type: \"UPDATE_COLLECTION_FIELDS\",\r\n          payload: newFields,\r\n          docId: collection.docId,\r\n        });\r\n        notify(\"Field added!\", { variant: \"success\" });\r\n      } else {\r\n        notify(res2.error, { variant: \"error\" });\r\n      }\r\n    }\r\n\r\n    return { success: false };\r\n  };\r\n\r\n  const deleteField = async (fieldIndex: number) => {\r\n    let res = await confirm({\r\n      confirmation: \"Delete field?\",\r\n    });\r\n    if (res) {\r\n      let updatedCollection = JSON.parse(\r\n        JSON.stringify(collections.find((x) => x.docId === selectedCollection))\r\n      );\r\n      updatedCollection.fields.splice(fieldIndex, 1);\r\n      const res = await updateDocument(COLLECTION_ID, selectedCollection, updatedCollection);\r\n      if (res.error) {\r\n        notify(res.error, { variant: \"error\" });\r\n      } else {\r\n        dispatch({\r\n          type: \"UPDATE_COLLECTION_FIELDS\",\r\n          payload: updatedCollection.fields,\r\n          docId: selectedCollection,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const onDragEnd = async (result: any) => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    let col = collections.find((x) => x.docId === selectedCollection);\r\n    if (!col) return;\r\n\r\n    const fields = reorder(col.fields, result.source.index, result.destination.index);\r\n\r\n    dispatch({ type: \"UPDATE_COLLECTION_FIELDS\", payload: fields, docId: col.docId });\r\n    updateDocument(COLLECTION_ID, col.docId, {\r\n      ...col,\r\n      fields,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SettingsPage\r\n        entityContent={\r\n          <div className=\"h-full bg-white rounded overflow-hidden\">\r\n            <DragDropContext onDragEnd={onDragEnd}>\r\n              <Droppable droppableId=\"droppable\">\r\n                {(provided, snapshot) => (\r\n                  <SimpleBar\r\n                    className=\"overflow-auto w-full h-full scrollbar-light scrollbar-thin py-0.5\"\r\n                    autoHide={false}\r\n                  >\r\n                    <div\r\n                      className=\"min-w-430px\"\r\n                      {...provided.droppableProps}\r\n                      ref={provided.innerRef as any}\r\n                    >\r\n                      {collections\r\n                        .find((x) => x.docId === selectedCollection)\r\n                        ?.fields.map((x, i) => {\r\n                          const Badge = FieldTypes.find((t) => t.type === x.type)?.Badge;\r\n                          return (\r\n                            <Draggable key={x.id} draggableId={x.id} index={i}>\r\n                              {(provided, snapshot) => (\r\n                                <div\r\n                                  data-testid={`field-id-${x.id}`}\r\n                                  key={`field-${i}`}\r\n                                  className=\"bg-white hover:bg-fireck-4 flex items-center px-2 py-0.5\"\r\n                                  ref={provided.innerRef}\r\n                                  {...provided.draggableProps}\r\n                                >\r\n                                  <div {...provided.dragHandleProps}>\r\n                                    <DragIndicatorRounded fontSize=\"inherit\" className=\"text-lg\" />\r\n                                  </div>\r\n\r\n                                  <div className=\"line-clamp-1 w-5/12 px-3\">{x.id}</div>\r\n                                  <div className=\"flex w-4/12 flex-shrink-0 items-center\">\r\n                                    {Badge ? <Badge></Badge> : null}\r\n                                    <span className=\"ml-3 hidden sm:block line-clamp-1\">\r\n                                      {x.type}\r\n                                    </span>\r\n                                  </div>\r\n                                  {x.isDefault ? null : (\r\n                                    <div className=\"flex items-center flex-grow justify-end\">\r\n                                      <div\r\n                                        data-testid={`edit-for-field-${x.id}`}\r\n                                        className=\"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-white\"\r\n                                        onClick={() => {\r\n                                          editField(i);\r\n                                        }}\r\n                                      >\r\n                                        <EditOutlined\r\n                                          fontSize=\"inherit\"\r\n                                          classes={{ root: \"pointer-events-none text-lg\" }}\r\n                                        ></EditOutlined>\r\n                                      </div>\r\n                                      <div\r\n                                        className=\"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white\"\r\n                                        data-testid={`delete-for-field-${x.id}`}\r\n                                        onClick={() => deleteField(i)}\r\n                                      >\r\n                                        <DeleteOutlineOutlined\r\n                                          classes={{ root: \"pointer-events-none text-lg\" }}\r\n                                          fontSize=\"inherit\"\r\n                                        ></DeleteOutlineOutlined>\r\n                                      </div>\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n                            </Draggable>\r\n                          );\r\n                        })}\r\n                      {provided.placeholder}\r\n                    </div>\r\n                  </SimpleBar>\r\n                )}\r\n              </Droppable>\r\n            </DragDropContext>\r\n          </div>\r\n        }\r\n        selectedEntityId={selectedCollection}\r\n        entity=\"collection\"\r\n        enitityPlural=\"collections\"\r\n        entities={collections}\r\n        onSelectEntity={(docId) => setSelectedCollection(docId)}\r\n        onAddEntity={() => setCollectionModalOpen(true)}\r\n        onInvokeEntityEdit={() => {\r\n          setEditingCollectionDocId(selectedCollection);\r\n          setCollectionModalOpen(true);\r\n        }}\r\n        entityButtons={\r\n          <div className=\"flex flex-wrap\">\r\n            <Button\r\n              data-testid=\"view-interface-btn\"\r\n              onClick={() =>\r\n                setInterfaceColType(collections.find((x) => x.docId === selectedCollection))\r\n              }\r\n              className=\"border border-white h-28px text-white mr-3 mb-3 px-5 min-w-unset rounded\"\r\n            >\r\n              <div className=\"flex items-center pointer-events-none\">Interface</div>\r\n            </Button>\r\n            <Button\r\n              data-testid=\"add-new-field-btn\"\r\n              onClick={async () => {\r\n                addField();\r\n              }}\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover mb-3 h-28px pl-3 min-w-unset rounded\"\r\n            >\r\n              <div className=\"flex items-center pointer-events-none\">\r\n                <AddRounded className=\"mr-2 text-lg\" fontSize=\"inherit\"></AddRounded>\r\n                <span>Add field</span>\r\n              </div>\r\n            </Button>\r\n          </div>\r\n        }\r\n      ></SettingsPage>\r\n\r\n      <CollectionModal\r\n        editingCollectionDocId={editingCollectionDocId}\r\n        collections={collections}\r\n        onCreate={(val) => {\r\n          dispatch({ type: \"ADD_COLLECTION_TYPE\", payload: val });\r\n          setSelectedCollection(val.docId);\r\n        }}\r\n        onUpdate={(val) => {\r\n          dispatch({ type: \"UPDATE_COLLECTION_TYPE\", payload: val, docId: val.docId });\r\n        }}\r\n        onDelete={(docId) => {\r\n          setSelectedCollection(\"\");\r\n          setEditingCollectionDocId(\"\");\r\n          dispatch({ type: \"DELETE_COLLECTION_TYPE\", payload: docId });\r\n        }}\r\n        open={collectionModalOpen}\r\n        onClose={() => {\r\n          setCollectionModalOpen(false);\r\n          setEditingCollectionDocId(\"\");\r\n        }}\r\n      ></CollectionModal>\r\n      <InterfaceModal\r\n        onClose={() => setInterfaceColType(undefined)}\r\n        open={interfaceColType ? true : false}\r\n        collectionType={interfaceColType}\r\n      ></InterfaceModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CollectionsBuilder;\r\n","import ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"store\";\r\nimport NotificationsProvider from \"components/NotificationsProvider\";\r\n\r\nexport interface CallableComponent<T> {\r\n  proceed: (v: T) => void;\r\n}\r\n\r\ninterface callComponentArgs<T> {\r\n  Component: React.FC<any>;\r\n  props: Omit<T, \"proceed\">;\r\n}\r\n\r\nexport function callComponent<T, RT>({ Component, props }: callComponentArgs<T>): Promise<RT> {\r\n  return new Promise((resolve, reject) => {\r\n    const wrapper = document.getElementById(\"root\")?.appendChild(document.createElement(\"div\"));\r\n\r\n    if (wrapper) {\r\n      ReactDOM.render(\r\n        <Provider store={store}>\r\n          <NotificationsProvider>\r\n            <Component\r\n              {...props}\r\n              proceed={(val: RT) => {\r\n                ReactDOM.unmountComponentAtNode(wrapper);\r\n                wrapper.parentNode?.removeChild(wrapper);\r\n                resolve(val);\r\n              }}\r\n            />\r\n          </NotificationsProvider>\r\n        </Provider>,\r\n        wrapper\r\n      );\r\n    }\r\n  });\r\n}\r\n","import { IoAlertCircleOutline } from \"react-icons/io5\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport React, { SelectHTMLAttributes } from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <IoAlertCircleOutline className=\"text-red-FF0000\" size={20}></IoAlertCircleOutline>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\r\n  className?: string;\r\n  options: { label: string; value: string | number }[];\r\n  error?: string | boolean;\r\n  groundColor: \"white\" | \"black\";\r\n}\r\n\r\nconst Select: React.FC<SelectProps> = ({\r\n  className = \"\",\r\n  options,\r\n  error,\r\n  groundColor,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div className={`${className} relative flex items-center`}>\r\n      <select\r\n        className={classNames(\"px-3 h-full border-2 border-solid w-full rounded outline-none\", {\r\n          \"border-red-FF0000\": error,\r\n          \"focus:border-fireck-4\": !error,\r\n          \"border-gray-300 bg-gray-300\": groundColor === \"white\",\r\n          \"border-white bg-white\": groundColor === \"black\",\r\n        })}\r\n        {...props}\r\n        spellCheck={false}\r\n      >\r\n        {options.map((x, i) => (\r\n          <option data-testid={`select-option-${x.value}`} key={\"opt-\" + i} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import { useNotify } from \"components/NotificationsProvider\";\r\nimport { FilterType } from \"components/TableElements/CollectionTable\";\r\nimport { createIndex } from \"components/TableElements/CreateIndex\";\r\nimport { useEffect, useCallback } from \"react\";\r\nimport { Document, GetCollectionOptions } from \"utils/interfaces\";\r\nimport CollectionsManager from \"facades/CollectionsManager\";\r\nimport { useInfiniteQuery } from \"react-query\";\r\n\r\ninterface UseFetchProps {\r\n  collectionId: string;\r\n  filters?: FilterType[];\r\n  orderBy?: { fieldId: string; direction: \"asc\" | \"desc\" };\r\n  inView: boolean;\r\n}\r\n\r\nconst useFetch = ({ collectionId, filters = [], orderBy, inView }: UseFetchProps) => {\r\n  const notify = useNotify();\r\n\r\n  const getOptions = useCallback(() => {\r\n    let options: GetCollectionOptions = { collectionId };\r\n\r\n    options.where = \"\";\r\n    options.orderBy = \"\";\r\n\r\n    filters.forEach((f, i) => {\r\n      options.where += (i > 0 ? \";\" : \"\") + f.fieldId + \",\" + f.operator + \",\" + f.value;\r\n      if (orderBy && orderBy.fieldId !== f.fieldId) {\r\n        options.orderBy += (options.orderBy ? \";\" : \"\") + f.fieldId;\r\n      }\r\n    });\r\n\r\n    if (orderBy) {\r\n      options.orderBy += (options.orderBy ? \";\" : \"\") + `${orderBy.fieldId},${orderBy.direction}`;\r\n    }\r\n    if (!orderBy && !filters.length) {\r\n      options.orderBy = \"createdAt,asc\";\r\n    }\r\n\r\n    options.populateRef = false;\r\n\r\n    return options;\r\n  }, [orderBy, filters, collectionId]);\r\n\r\n  const { data, error, fetchNextPage, hasNextPage } = useInfiniteQuery<Document[]>(\r\n    [collectionId, orderBy, filters],\r\n    ({ pageParam }) => {\r\n      return CollectionsManager.getCollection({ ...getOptions(), startAfter: pageParam });\r\n    },\r\n    {\r\n      keepPreviousData: true,\r\n      getNextPageParam: (lastPage, pages) => {\r\n        let lastDoc = lastPage?.length && lastPage.length === 10 ? lastPage[9] : null;\r\n        return lastDoc ? lastDoc[orderBy ? orderBy.fieldId : \"createdAt\"] : undefined;\r\n      },\r\n    }\r\n  );\r\n\r\n  const onError = (message: string) => {\r\n    if (message.includes(\"FAILED_PRECONDITION\")) {\r\n      createIndex(message.split(\"it here:\")[1]);\r\n    } else {\r\n      notify(message, { variant: \"error\" });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (inView && hasNextPage) {\r\n      fetchNextPage();\r\n    }\r\n  }, [inView, fetchNextPage, hasNextPage]);\r\n\r\n  return { docs: data?.pages.reduce((a, b) => [...a, ...b], []) || [] };\r\n};\r\n\r\nexport default useFetch;\r\n","import { Document } from \"utils/interfaces\";\r\nimport { CollectionType, AnyField } from \"api/collectionTypes\";\r\nimport FilesCell from \"./FilesCell\";\r\nimport React, { useEffect } from \"react\";\r\nimport ExpandMoreRounded from \"@mui/icons-material/ExpandMoreRounded\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport AddFilter from \"./AddFilter\";\r\nimport Button from \"components/Button\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport classNames from \"classnames\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport { InView } from \"react-intersection-observer\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport moment from \"moment\";\r\nimport CollectionsManager from \"facades/CollectionsManager\";\r\n\r\nexport interface TableProps {\r\n  collectionType: CollectionType;\r\n  onPick?: (a: Document[]) => void;\r\n  blackList?: string[];\r\n  singleSelect?: boolean;\r\n  valueFormatters?: { [key: string]: (val: any) => any };\r\n  groundColor: \"white\" | \"black\";\r\n  filters?: FilterType[];\r\n  onEdit?: (doc: Document) => void;\r\n  hideFilters?: boolean;\r\n}\r\n\r\nexport type FilterType = { fieldId: string; operator: string; value: string; hidden?: boolean };\r\n\r\nconst Table: React.FC<TableProps> = ({\r\n  collectionType,\r\n  onPick,\r\n  blackList = [],\r\n  singleSelect = false,\r\n  valueFormatters,\r\n  groundColor,\r\n  filters: _filters = [],\r\n  onEdit: _onEdit,\r\n  hideFilters = false,\r\n}) => {\r\n  const history = useHistory();\r\n\r\n  const [filters, setFilters] = React.useState<FilterType[]>([]);\r\n  const fields = collectionType.fields.filter((field) => field.displayOnTable);\r\n  const [selected, setSelected] = React.useState<string[]>([]);\r\n  const [orderBy, setOrderBy] = React.useState<{ fieldId: string; direction: \"asc\" | \"desc\" }>();\r\n  const [endIsInView, setEndIsInView] = React.useState(false);\r\n\r\n  const { docs } = useFetch({\r\n    collectionId: collectionType.id,\r\n    filters,\r\n    orderBy,\r\n    inView: endIsInView,\r\n  });\r\n\r\n  const onDeleteSelected = async () => {\r\n    if (await confirm({ confirmation: `Delete ${selected.length} documents?` })) {\r\n      CollectionsManager.deleteMultipleDocuments(\r\n        collectionType.id,\r\n        docs.filter((x) => selected.includes(x.docId))\r\n      );\r\n\r\n      setSelected([]);\r\n    }\r\n  };\r\n\r\n  const onEdit =\r\n    _onEdit ||\r\n    ((doc: Document) => {\r\n      history.push(`/collections/${collectionType.id}/edit/${doc.docId}`);\r\n    });\r\n\r\n  const onOrder = (field: AnyField) =>\r\n    orderBy?.fieldId !== field.id\r\n      ? () => {\r\n          setOrderBy({ fieldId: field.id, direction: \"asc\" });\r\n        }\r\n      : orderBy?.direction !== \"asc\"\r\n      ? () => setOrderBy(undefined)\r\n      : () => setOrderBy({ fieldId: field.id, direction: \"desc\" });\r\n\r\n  const selectAll = (select: boolean) => setSelected(select ? docs.map((x) => x.docId) : []);\r\n\r\n  const selectHandler = (docId: string, checked: boolean) => {\r\n    if (checked) {\r\n      if (singleSelect) {\r\n        setSelected([docId]);\r\n      } else {\r\n        setSelected((prev) => [...prev, docId]);\r\n      }\r\n\r\n      return;\r\n    }\r\n    setSelected((prev) => {\r\n      let arr = [...prev];\r\n      let index = arr.findIndex((x) => x === docId);\r\n      if (index != null) {\r\n        arr.splice(index, 1);\r\n      }\r\n      return arr;\r\n    });\r\n  };\r\n\r\n  const formatValue = (field: AnyField, value: any) => {\r\n    return field.type === \"date\"\r\n      ? moment(value).format(\"YYYY-MM-DD HH:mm\")\r\n      : valueFormatters && field.id in valueFormatters\r\n      ? valueFormatters[field.id](value)\r\n      : value.toString().substring(0, 40);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (_filters.length) {\r\n      setFilters((prev) => [...prev, ..._filters]);\r\n    }\r\n  }, [_filters]);\r\n\r\n  return (\r\n    <div className=\"h-full w-full flex-col flex\">\r\n      <div className=\"flex justify-between mb-3\">\r\n        {hideFilters ? null : (\r\n          <div className=\"flex flex-wrap\">\r\n            <AddFilter\r\n              collectionType={collectionType}\r\n              onValue={(val: FilterType) => setFilters((prev) => [val, ...prev])}\r\n            ></AddFilter>\r\n            {filters.map((f, i) =>\r\n              f.hidden ? null : (\r\n                <div\r\n                  key={`f-${i}`}\r\n                  className={classNames(\r\n                    \"rounded min-h-28px border leading-28px pl-3 text-sm pr-3 flex mr-3 mb-3 relative\",\r\n                    { \"text-white border-white\": groundColor === \"black\" },\r\n                    { \"text-black border-black\": groundColor === \"white\" }\r\n                  )}\r\n                >\r\n                  {f.fieldId} {f.operator} {f.value}{\" \"}\r\n                  <span\r\n                    onClick={() =>\r\n                      setFilters((prev) => {\r\n                        let arr = [...prev];\r\n                        arr.splice(i, 1);\r\n                        return arr;\r\n                      })\r\n                    }\r\n                    className=\"text-xs leading-28px ml-3 cursor-pointer\"\r\n                  >\r\n                    \r\n                  </span>\r\n                </div>\r\n              )\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {!onPick ? (\r\n          <Button\r\n            onClick={onDeleteSelected}\r\n            disabled={selected.length === 0}\r\n            className={`px-7 mb-3 min-w-unset rounded h-28px ${\r\n              selected.length === 0\r\n                ? \"bg-gray-E1E1E1 text-gray-6C6C6C cursor-default\"\r\n                : \"bg-red-FF0000 hover:bg-red-FF0000-hover text-white\"\r\n            } `}\r\n          >\r\n            Delete\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            onClick={() => onPick(docs.filter((x) => selected.includes(x.docId)))}\r\n            className={`h-28px min-w-unset rounded mb-3 px-7 ${\r\n              selected.length === 0\r\n                ? \"bg-gray-300 text-gray-500 cursor-default\"\r\n                : \"bg-fireck-4 hover:bg-fireck-4-hover\"\r\n            } `}\r\n          >\r\n            Select\r\n          </Button>\r\n        )}\r\n      </div>\r\n      <div\r\n        className={classNames(\"flex-grow h-0 -mt-3 rounded overflow-hidden bg-white\", {\r\n          \"shadow-border-gray\": groundColor === \"white\",\r\n        })}\r\n      >\r\n        <SimpleBar className={\"relative scrollbar-light h-full\"} autoHide={false}>\r\n          <table className=\"w-full text-center\">\r\n            <thead>\r\n              <tr className=\"whitespace-nowrap\">\r\n                <th className=\"sticky top-0 bg-gray-E1E1E1 z-10 px-1\">\r\n                  {singleSelect ? null : (\r\n                    <Checkbox\r\n                      size=\"small\"\r\n                      classes={{ checked: \"text-fireck-1\", root: \"p-0\" }}\r\n                      checked={selected.length === docs.length}\r\n                      onChange={(e) => selectAll(e.target.checked)}\r\n                    ></Checkbox>\r\n                  )}\r\n                </th>\r\n                {fields.map((field, i) => (\r\n                  <th className=\"font-semibold sticky top-0 bg-gray-E1E1E1\" key={`th-${i}`}>\r\n                    <div className=\"flex items-center justify-center\">\r\n                      <div className=\"w-5\"></div>\r\n                      <div className=\"cursor-pointer select-none\" onClick={onOrder(field)}>\r\n                        {field.id}\r\n                      </div>\r\n                      <div className=\"w-5\">\r\n                        {orderBy?.fieldId === field.id ? (\r\n                          <ExpandMoreRounded\r\n                            fontSize=\"small\"\r\n                            className={`${\r\n                              orderBy?.direction === \"asc\" ? \"transform rotate-180\" : \"\"\r\n                            }`}\r\n                          ></ExpandMoreRounded>\r\n                        ) : null}\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {docs.map((doc, i) =>\r\n                blackList.includes(doc.docId) ? null : (\r\n                  <tr\r\n                    onClick={() =>\r\n                      onPick ? selectHandler(doc.docId, !selected.includes(doc.docId)) : onEdit(doc)\r\n                    }\r\n                    key={`row-${i}`}\r\n                    className={\"cursor-pointer hover:bg-fireck-4\"}\r\n                  >\r\n                    <td className=\"px-1\" onClick={(e) => e.stopPropagation()}>\r\n                      <Checkbox\r\n                        size=\"small\"\r\n                        classes={{ checked: \"text-fireck-1\", root: \"p-0\" }}\r\n                        checked={selected.includes(doc.docId)}\r\n                        onChange={(e) => selectHandler(doc.docId, e.target.checked)}\r\n                      ></Checkbox>\r\n                    </td>\r\n                    {fields.map((field, j) => (\r\n                      <td key={`row-${i}-col-${j}`} className=\"px-2\">\r\n                        {doc[field.id] != null ? (\r\n                          field.type === \"media\" ? (\r\n                            field.mediaSingle ? (\r\n                              <FilesCell file={doc[field.id]}></FilesCell>\r\n                            ) : (\r\n                              <FilesCell files={doc[field.id]} />\r\n                            )\r\n                          ) : (\r\n                            <div className=\"whitespace-nowrap\">\r\n                              {formatValue(field, doc[field.id])}\r\n                            </div>\r\n                          )\r\n                        ) : null}\r\n                      </td>\r\n                    ))}\r\n                  </tr>\r\n                )\r\n              )}\r\n              <tr>\r\n                <td colSpan={fields.length + 1}>\r\n                  <InView\r\n                    onChange={async (inView) => {\r\n                      setEndIsInView(inView);\r\n                    }}\r\n                  >\r\n                    <div className=\"w-full\"></div>\r\n                  </InView>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <div></div>\r\n        </SimpleBar>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React from \"react\";\r\nimport ErrorRounded from \"@mui/icons-material/ErrorRounded\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport classNames from \"classnames\";\r\n\r\nexport interface LabelProps {\r\n  error?: string | undefined | null;\r\n  className?: string;\r\n  children: any;\r\n  groundColor: \"black\" | \"white\";\r\n}\r\n\r\nconst WarningIcon = React.forwardRef(function MyComponent(props: any, ref: any) {\r\n  return (\r\n    <div {...props} ref={ref}>\r\n      <ErrorRounded className=\"text-red-500 text-xl\" fontSize=\"inherit\"></ErrorRounded>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Label: React.FC<LabelProps> = ({ className = \"\", children, error, groundColor }) => {\r\n  return (\r\n    <div\r\n      className={classNames(`flex justify-between relative ${className}`, {\r\n        \"text-white\": groundColor === \"black\",\r\n        \"text-black\": groundColor === \"white\",\r\n      })}\r\n    >\r\n      <div>{children}</div>\r\n      {error ? (\r\n        <Tooltip title={error} placement=\"top\">\r\n          <WarningIcon className=\"absolute right-2 my-auto w-auto\"></WarningIcon>\r\n        </Tooltip>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Label;\r\n","import Modal from \"@mui/material/Modal\";\r\nimport Input from \"components/Input\";\r\nimport Select from \"components/Select\";\r\nimport Button from \"components/Button\";\r\nimport { CollectionType } from \"api/collectionTypes\";\r\nimport React from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport Label from \"components/Label\";\r\nimport CloseRounded from \"@mui/icons-material/CloseRounded\";\r\n\r\nexport interface AddFilterModalProps {\r\n  collectionType: Pick<CollectionType, \"fields\">;\r\n  onValue: Function;\r\n  groundColor?: \"black\" | \"white\";\r\n}\r\n\r\nconst AddFilterModal: React.FC<AddFilterModalProps> = ({\r\n  collectionType,\r\n  onValue,\r\n  groundColor = \"white\",\r\n}) => {\r\n  const operators = [\r\n    \"<\",\r\n    \"<=\",\r\n    \"==\",\r\n    \">\",\r\n    \">=\",\r\n    \"!=\",\r\n    \"array-contains\",\r\n    \"array-contains-any\",\r\n    \"in\",\r\n    \"not-in\",\r\n  ];\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const { values, errors, handleChange, submitCount, handleSubmit, isSubmitting } = useFormik({\r\n    onSubmit: async (vals, { resetForm }) => {\r\n      onValue(vals);\r\n      setOpen(false);\r\n      resetForm();\r\n    },\r\n    initialValues: {\r\n      value: \"\",\r\n      operator: \"\",\r\n      fieldId: \"\",\r\n    },\r\n    validate: (vals: any) => {\r\n      let errors: any = {};\r\n      Object.keys(vals).forEach((x) => {\r\n        if (!vals[x]) {\r\n          errors[x] = \"Required\";\r\n        }\r\n      });\r\n      return errors;\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={() => setOpen(true)}\r\n        className=\"bg-fireck-4 hover:bg-fireck-4-hover min-w-unset flex items-center justify-center h-28px px-7 rounded text-sm mr-3 mb-3\"\r\n      >\r\n        Filters\r\n      </Button>\r\n      {!open ? null : (\r\n        <Modal open={open}>\r\n          <div\r\n            className=\"fixed left-0 top-0 w-full h-full flex p-7\"\r\n            onMouseDown={() => setOpen(false)}\r\n          >\r\n            <div\r\n              onMouseDown={(e) => e.stopPropagation()}\r\n              className=\"bg-white rounded p-7 m-auto relative animate-littlemoveup\"\r\n              style={{ maxWidth: 600 }}\r\n            >\r\n              <CloseRounded\r\n                className=\"absolute top-0 right-0 cursor-pointer\"\r\n                onClick={() => setOpen(false)}\r\n              ></CloseRounded>\r\n              <div className=\"flex flex-wrap -mx-2 mb-4\">\r\n                <div className=\"sm:w-1/3 w-full mb-3 px-2\">\r\n                  <Label\r\n                    groundColor={groundColor}\r\n                    className=\"mb-2\"\r\n                    error={submitCount > 0 ? errors.fieldId : null}\r\n                  >\r\n                    Field\r\n                  </Label>\r\n                  <Select\r\n                    className=\"h-34px\"\r\n                    groundColor=\"white\"\r\n                    name=\"fieldId\"\r\n                    onChange={handleChange}\r\n                    value={values.fieldId}\r\n                    options={[\r\n                      { value: \"\", label: \"Select\" },\r\n                      ...collectionType.fields.map((x) => ({ value: x.id, label: x.id })),\r\n                    ]}\r\n                  ></Select>\r\n                </div>\r\n                <div className=\"sm:w-1/3 w-full mb-3 px-2\">\r\n                  <Label\r\n                    groundColor={groundColor}\r\n                    className=\"mb-2\"\r\n                    error={submitCount > 0 ? errors.operator : null}\r\n                  >\r\n                    Operator\r\n                  </Label>\r\n                  <Select\r\n                    className=\"h-34px\"\r\n                    groundColor=\"white\"\r\n                    name=\"operator\"\r\n                    onChange={handleChange}\r\n                    value={values.operator}\r\n                    options={[\r\n                      { value: \"\", label: \"Select\" },\r\n                      ...operators.map((x) => ({ value: x, label: x })),\r\n                    ]}\r\n                  ></Select>\r\n                </div>\r\n                <div className=\"sm:w-1/3 w-full mb-3 px-2\">\r\n                  <Label\r\n                    groundColor={groundColor}\r\n                    className=\"mb-2 text-black\"\r\n                    error={submitCount > 0 ? errors.value : null}\r\n                  >\r\n                    Value\r\n                  </Label>\r\n                  <Input\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === \"Enter\") {\r\n                        e.preventDefault();\r\n                        handleSubmit();\r\n                      }\r\n                    }}\r\n                    groundColor=\"white\"\r\n                    placeholder={\r\n                      [\"in\", \"not in\", \"array-contains-any\"].includes(values.operator)\r\n                        ? \"value, value, value\"\r\n                        : \"value\"\r\n                    }\r\n                    className=\"placeholder-black h-34px\"\r\n                    value={values.value}\r\n                    onChange={handleChange}\r\n                    name=\"value\"\r\n                  ></Input>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex justify-end\">\r\n                <Button\r\n                  disabled={isSubmitting}\r\n                  onClick={() => handleSubmit()}\r\n                  className=\"bg-fireck-4 hover:bg-fireck-4-hover h-34px\"\r\n                >\r\n                  Add\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddFilterModal;\r\n","import { forwardRef } from \"react\";\r\n\r\nconst TooltipChild = forwardRef(function MyComponent(props: any, ref: any) {\r\n  return <div {...props} ref={ref}></div>;\r\n});\r\n\r\nexport default TooltipChild;\r\n","import TooltipChild from \"components/TooltipChild\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\n\r\ninterface MediaFieldProps {\r\n  src: string;\r\n}\r\n\r\nconst MediaField: React.FC<MediaFieldProps> = ({ src }) => {\r\n  return (\r\n    <Tooltip\r\n      arrow\r\n      title={\r\n        <div className=\"p-1\">\r\n          <img src={src} className=\"max-w-136px max-h-136px w-auto h-auto\" alt=\"\" />\r\n        </div>\r\n      }\r\n      placement=\"top\"\r\n      classes={{\r\n        tooltip: \"font-poppins text-xs p-0 rounded bg-fireck-1\",\r\n        arrow: \"text-fireck-1\",\r\n      }}\r\n    >\r\n      <TooltipChild>\r\n        <div className=\"group w-4 h-4 relative flex items-center justify-center rounded hover:bg-gray-535371 hover:bg-opacity-5 cursor-pointer\">\r\n          <div\r\n            className=\"relative w-4 h-4 rounded-full bg-center bg-cover pointer-events-none\"\r\n            style={{ backgroundImage: `url(${src})` }}\r\n          ></div>\r\n        </div>\r\n      </TooltipChild>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default MediaField;\r\n","import React from \"react\";\r\nimport MediaField from \"./MediaField\";\r\n\r\nexport interface FilesProps {\r\n  files?: string[];\r\n  file?: string;\r\n}\r\n\r\nconst Files: React.FC<FilesProps> = ({ files, file }) => {\r\n  const id = React.useRef<number>(Math.random());\r\n\r\n  return (\r\n    <div className=\"flex justify-center\">\r\n      {(files ? files : file ? [file] : []).slice(0, 4).map((f, i) => (\r\n        <div key={`${id}-file-${i}`} className=\"mr-0.5\">\r\n          <MediaField src={f}></MediaField>\r\n        </div>\r\n      ))}\r\n      {files && files.length > 4 ? (\r\n        <div className=\"relative\">\r\n          <div className=\"w-4 h-4 rounded-full bg-fireck-4 text-10px flex items-center justify-center\">\r\n            {files.length - 4}+\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Files;\r\n","import mime from \"mime-types\";\r\n\r\nexport function formatBytes(a: number, b = 2) {\r\n  if (0 === a) return \"0 Bytes\";\r\n  const c = 0 > b ? 0 : b,\r\n    d = Math.floor(Math.log(a) / Math.log(1024));\r\n  return (\r\n    parseFloat((a / Math.pow(1024, d)).toFixed(c)) +\r\n    \" \" +\r\n    [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"][d]\r\n  );\r\n}\r\n\r\nexport function getFileExtension(file: File): string {\r\n  try {\r\n    return mime.extension(file.type) || file.name.split(\".\").pop() || \"unknown\";\r\n  } catch (er) {\r\n    return \"unknown\";\r\n  }\r\n}\r\n","import classNames from \"classnames\";\r\n\r\nexport interface PageTitleProps\r\n  extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {}\r\n\r\nconst PageTitle: React.FC<PageTitleProps> = ({ className, ...rest }) => {\r\n  return (\r\n    <div\r\n      {...rest}\r\n      className={classNames(\"text-27px text-white font-medium capitalize leading-none\", className)}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default PageTitle;\r\n","import ButtonBase from \"@mui/material/ButtonBase\";\r\nimport React from \"react\";\r\nimport { uploadFile } from \"api/files\";\r\nimport Button from \"components/Button\";\r\nimport AddRounded from \"@mui/icons-material/AddRounded\";\r\nimport ExpandLessRounded from \"@mui/icons-material/ExpandLessRounded\";\r\nimport { InView } from \"react-intersection-observer\";\r\nimport { callComponent } from \"api/callComponent\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport CollectionTable from \"components/TableElements/CollectionTable\";\r\nimport { MediaDocumentFormatters } from \".\";\r\nimport CloseRounded from \"@mui/icons-material/CloseRounded\";\r\n\r\nexport interface SelectMediaProps {\r\n  multiple?: boolean;\r\n  proceed: Function;\r\n}\r\n\r\nconst SelectMedia: React.FC<SelectMediaProps> = ({ multiple = false, proceed }) => {\r\n  const uploadRef = React.useRef(null as any);\r\n  const topRef = React.useRef(null as any);\r\n  const [loading, setLoading] = React.useState<boolean | string>(false);\r\n  const [isTopVisible, setIsTopVisible] = React.useState(false);\r\n  const [refreshCounter, setCounter] = React.useState(0);\r\n\r\n  const { collectionType } = useSelector((state: RootState) => {\r\n    return {\r\n      collectionType: state.collectionTypes.find((x) => x.id === \"FilesReservedCollection\"),\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div className=\"fixed z-30 left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40\">\r\n      <div className=\"m-auto p-8 rounded bg-white max-w-846px w-full max-h-552px h-full relative flex-col flex animate-littlemoveup\">\r\n        {!isTopVisible ? (\r\n          <ButtonBase\r\n            className=\"z-30 absolute shadow-2xl outline-none right-6 bottom-3 w-34px h-34px rounded flex cursor-pointer text-black bg-orange-300 hover:bg-orange-301 items-center justify-center\"\r\n            onClick={() => topRef.current.scrollIntoView({ behavior: \"smooth\" })}\r\n          >\r\n            <ExpandLessRounded></ExpandLessRounded>\r\n          </ButtonBase>\r\n        ) : null}\r\n        <CloseRounded\r\n          className=\"absolute top-0 right-0 cursor-pointer\"\r\n          onClick={() => proceed(false)}\r\n        ></CloseRounded>\r\n        <InView onChange={(inView) => setIsTopVisible(inView)}>\r\n          <div ref={topRef}></div>\r\n        </InView>\r\n        <div className=\"flex justify-between flex-wrap mb-7\">\r\n          <div className=\"font-medium text-2xl leading-none mb-4 mr-4\">Select file</div>\r\n          <input\r\n            type=\"file\"\r\n            multiple\r\n            className=\"hidden\"\r\n            ref={uploadRef}\r\n            onChange={async (e) => {\r\n              const files = e.target.files;\r\n              if (files && files.length) {\r\n                setLoading(`Uploading ${files.length} file${files.length > 1 ? \"s\" : \"\"}...`);\r\n                let uploaded = 0;\r\n                for (let file of files) {\r\n                  const res = await uploadFile(file);\r\n                  uploaded++;\r\n\r\n                  setLoading(`${uploaded}/${files.length} uploaded.`);\r\n                }\r\n                setCounter((prev) => prev + 1);\r\n                setLoading(false);\r\n              }\r\n            }}\r\n          />\r\n          <Button\r\n            onClick={() => uploadRef.current.click()}\r\n            className=\"bg-fireck-4 hover:bg-fireck-4-hover h-28px mb-4 min-w-unset\"\r\n          >\r\n            <div className=\"flex items-center\">\r\n              <AddRounded className=\"mr-2 text-lg\" fontSize=\"inherit\"></AddRounded>\r\n              <span>Upload</span>\r\n            </div>\r\n          </Button>\r\n        </div>\r\n        <div className=\"flex-grow h-0\">\r\n          {!collectionType ? null : (\r\n            <CollectionTable\r\n              groundColor=\"white\"\r\n              key={`media-table-${refreshCounter}`}\r\n              onPick={(files) => {\r\n                proceed(multiple ? files.map((f) => f.url) : files[0].url);\r\n              }}\r\n              singleSelect={!multiple}\r\n              collectionType={collectionType}\r\n              valueFormatters={MediaDocumentFormatters}\r\n            ></CollectionTable>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectMedia;\r\n\r\nexport const callMedia = (multiple = false) => {\r\n  return callComponent<SelectMediaProps, string | boolean>({\r\n    Component: SelectMedia,\r\n    props: { multiple },\r\n  });\r\n};\r\n","import {\r\n  deleteObject,\r\n  getDownloadURL,\r\n  getStorage,\r\n  ref,\r\n  uploadBytesResumable,\r\n} from \"firebase/storage\";\r\nimport shortuuid from \"short-uuid\";\r\n\r\nclass FilesManagerClass {\r\n  upload(file: File): Promise<{ downloadUrl: string; fileName: string } | { error: string }> {\r\n    return new Promise((resolve) => {\r\n      try {\r\n        const storage = getStorage();\r\n        const nameParts = file.name.split(\".\");\r\n        const fileName = shortuuid.generate() + \".\" + nameParts[nameParts.length - 1];\r\n        let fileRef = ref(storage, fileName);\r\n\r\n        const uploadTask = uploadBytesResumable(fileRef, file);\r\n        uploadTask.on(\r\n          \"state_changed\",\r\n          (snapshot) => {},\r\n          (error) => {\r\n            resolve({ error: error.name });\r\n          },\r\n          () => {\r\n            getDownloadURL(uploadTask.snapshot.ref).then((downloadUrl) => {\r\n              resolve({ downloadUrl, fileName });\r\n            });\r\n          }\r\n        );\r\n      } catch (error: any) {\r\n        resolve({ error });\r\n      }\r\n    });\r\n  }\r\n\r\n  delete(path: string) {\r\n    const storage = getStorage();\r\n    deleteObject(ref(storage, path));\r\n  }\r\n}\r\n\r\nexport const FilesManager = new FilesManagerClass();\r\n","import { getFileExtension } from \"helper\";\r\nimport store from \"store\";\r\nimport { addDocument, deleteDocument, updateDocument } from \"./collections\";\r\nimport { FilesManager } from \"facades/FilesManager\";\r\n\r\nexport const uploadFile = async (file: File): Promise<{ error: string } | any> => {\r\n  try {\r\n    const res = await FilesManager.upload(file);\r\n\r\n    if (\"error\" in res) {\r\n      return res;\r\n    } else {\r\n      const fileDetails = {\r\n        name: file.name,\r\n        size: file.size,\r\n        url: res.downloadUrl,\r\n        storagePath: res.fileName,\r\n        type: getFileExtension(file),\r\n      };\r\n      return addDocument(\"FilesReservedCollection\", fileDetails);\r\n    }\r\n  } catch (error: any) {\r\n    return { error: error.toString() };\r\n  }\r\n};\r\n\r\nexport type FileDocument = {\r\n  docId: string;\r\n  name: string;\r\n  size: number;\r\n  storagePath: string;\r\n  createdAt: number;\r\n  url: string;\r\n};\r\n\r\nexport const getFiles = async ({\r\n  limit = 10,\r\n  orderBy,\r\n  startAt,\r\n  startAfter,\r\n}: {\r\n  limit?: number;\r\n  orderBy: string;\r\n  startAt?: string | number;\r\n  startAfter?: string | number;\r\n}): Promise<Array<FileDocument> | { error: string }> => {\r\n  try {\r\n    const user = store.getState().user;\r\n    const token = user ? user.token : null;\r\n    return fetch(\r\n      window.location.origin +\r\n        `/private/files?limit=${limit}${\r\n          startAt ? \"&startAt=\" + startAt : \"\"\r\n        }&orderBy=${orderBy},desc${startAfter ? `&startAfter=${startAfter}` : \"\"}`,\r\n      {\r\n        headers: { Authorization: \"Bearer \" + token },\r\n      }\r\n    ).then((x) => x.json());\r\n  } catch (error: any) {\r\n    return { error };\r\n  }\r\n};\r\n\r\nexport const getFilesCount = async () => {\r\n  try {\r\n    const user = store.getState().user;\r\n    const token = user ? user.token : null;\r\n    return fetch(window.location.origin + `/private/files/count`, {\r\n      headers: { Authorization: \"Bearer \" + token },\r\n    }).then((x) => x.json());\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n\r\nexport const deleteFile = (docId: string, storagePath: string) => {\r\n  try {\r\n    FilesManager.delete(storagePath);\r\n    return deleteDocument(\"FilesReservedCollection\", docId);\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n\r\nexport const editFile = (docId: string, updates: { [key: string]: any }) => {\r\n  try {\r\n    return updateDocument(\"FilesReservedCollection\", docId, updates);\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n};\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSubcollection(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 11,\n    height: 11,\n    viewBox: \"0 0 19 19\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.570312 0.778809H6.57031V4.77881H0.570312V0.778809ZM12.5703 7.77881H18.5703V11.7788H12.5703V7.77881ZM12.5703 14.7788H18.5703V18.7788H12.5703V14.7788ZM10.5703 10.7788H4.57031V15.7788H10.5703V17.7788H4.57031H2.57031V6.77881H4.57031V8.77881H10.5703V10.7788Z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSubcollection);\nexport default __webpack_public_path__ + \"static/media/subcollection.fddc67b1.svg\";\nexport { ForwardRef as ReactComponent };","interface WrapperProps {}\r\n\r\nconst Wrapper: React.FC<WrapperProps> = (props) => {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className=\"w-8 rounded h-5 bg-fireck-4 text-center flex justify-center items-center text-10px font-medium\"\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Wrapper;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst String: React.FC = () => {\r\n  return <Wrapper>Ab</Wrapper>;\r\n};\r\n\r\nexport default String;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst Number: React.FC = () => {\r\n  return <Wrapper>123</Wrapper>;\r\n};\r\n\r\nexport default Number;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst Map: React.FC = () => {\r\n  return <Wrapper>{\"{ }\"}</Wrapper>;\r\n};\r\n\r\nexport default Map;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst Array: React.FC = () => {\r\n  return <Wrapper>[ ]</Wrapper>;\r\n};\r\n\r\nexport default Array;\r\n","import ToggleOnOutlinedIcon from \"@material-ui/icons/ToggleOnOutlined\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Boolean: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <ToggleOnOutlinedIcon fontSize=\"inherit\" className=\"text-lg\"></ToggleOnOutlinedIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Boolean;\r\n","import CalendarTodayOutlinedIcon from \"@material-ui/icons/CalendarTodayOutlined\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Boolean: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <CalendarTodayOutlinedIcon fontSize=\"inherit\" className=\"text-sm\"></CalendarTodayOutlinedIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Boolean;\r\n","import PanoramaOutlinedIcon from \"@material-ui/icons/PanoramaOutlined\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Media: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <PanoramaOutlinedIcon fontSize=\"inherit\" className=\"text-base\"></PanoramaOutlinedIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","import NotesIcon from \"@material-ui/icons/Notes\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Media: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <NotesIcon fontSize=\"inherit\" className=\"text-base\"></NotesIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","import Wrapper from \"./Wrapper\";\r\n\r\nconst Boolean: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <span className=\"text-10px\">JSON</span>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Boolean;\r\n","import ListRounded from \"@material-ui/icons/ListRounded\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Enum: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <ListRounded fontSize=\"inherit\" className=\"text-xl\"></ListRounded>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Enum;\r\n","import VpnKeyRounded from \"@material-ui/icons/VpnKeyRounded\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Password: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <VpnKeyRounded fontSize=\"inherit\" className=\"text-base\"></VpnKeyRounded>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Password;\r\n","import Link from \"@material-ui/icons/Link\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Relation: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <Link fontSize=\"inherit\" className=\"text-lg\"></Link>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Relation;\r\n","import { ReactComponent as SubColIcon } from \"assets/subcollection.svg\";\r\nimport Wrapper from \"./Wrapper\";\r\n\r\nconst Media: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <SubColIcon className=\"m-auto\"></SubColIcon>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","import Wrapper from \"./Wrapper\";\r\nimport AllInclusive from \"@mui/icons-material/AllInclusive\";\r\n\r\nconst Array: React.FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <AllInclusive fontSize=\"inherit\" className=\"text-base\"></AllInclusive>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Array;\r\n","import classNames from \"classnames\";\r\nimport { TextareaHTMLAttributes } from \"react\";\r\n\r\nexport interface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\r\n  className?: string;\r\n  groundColor: \"white\" | \"black\";\r\n}\r\n\r\nconst Textarea: React.FC<TextareaProps> = ({ className = \"\", groundColor, ...rest }) => {\r\n  return (\r\n    <textarea\r\n      {...rest}\r\n      className={classNames(\r\n        \"border-2 rounded px-3 py-2 w-full min-h-208px outline-none focus:border-fireck-4\",\r\n        className,\r\n        {\r\n          \"bg-gray-300  border-gray-300\": groundColor === \"white\",\r\n          \"bg-white border-white\": groundColor === \"black\",\r\n        }\r\n      )}\r\n    ></textarea>\r\n  );\r\n};\r\n\r\nexport default Textarea;\r\n","import { AnyField, StringField } from \"api/collectionTypes\";\r\nimport Input from \"components/Input\";\r\nimport Textarea from \"components/Textarea\";\r\n\r\nexport interface FieldComponentProps<T> {\r\n  value: any;\r\n  onValue: (val: any) => void;\r\n  groundColor: \"white\" | \"black\";\r\n  name: string;\r\n  field: T;\r\n  level: number;\r\n}\r\n\r\nconst String: React.FC<FieldComponentProps<StringField>> = ({\r\n  field,\r\n  groundColor,\r\n  value,\r\n  onValue,\r\n  name,\r\n}) => {\r\n  return field.stringLong ? (\r\n    <Textarea\r\n      groundColor={groundColor}\r\n      value={value}\r\n      onChange={(e) => onValue(e.target.value)}\r\n      name={name}\r\n    ></Textarea>\r\n  ) : (\r\n    <Input\r\n      groundColor={groundColor}\r\n      className=\"h-28px\"\r\n      type=\"text\"\r\n      value={value}\r\n      name={name}\r\n      onChange={(e) => onValue(e.target.value)}\r\n    ></Input>\r\n  );\r\n};\r\n\r\nexport default String;\r\n","import { UnControlled as CodeMirror } from \"react-codemirror2\";\r\nimport React from \"react\";\r\nimport \"codemirror/lib/codemirror.css\";\r\nimport \"codemirror/theme/material.css\";\r\nimport \"codemirror/addon/edit/closebrackets\";\r\nimport \"codemirror/mode/javascript/javascript\";\r\nimport \"codemirror/addon/lint/lint\";\r\nimport \"codemirror/addon/lint/lint.css\";\r\nrequire(\"codemirror/addon/lint/json-lint\");\r\ndeclare const window: any;\r\nconst jsonlint = require(\"jsonlint-mod\");\r\nwindow.jsonlint = jsonlint;\r\n\r\nexport interface JsonEditorProps {\r\n  value: string;\r\n  onChange: (val: string) => void;\r\n}\r\n\r\nconst JsonEditor: React.FC<JsonEditorProps> = ({ value, onChange }) => {\r\n  const [initialValue, setInitialValue] = React.useState(\"\");\r\n  const [count, setCount] = React.useState(0);\r\n  React.useEffect(() => {\r\n    if (count < 3) {\r\n      setCount((prev) => prev + 1);\r\n      setInitialValue(JSON.stringify(value, undefined, 2));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [value]);\r\n  return (\r\n    <>\r\n      <style>{`.CodeMirror{\r\n          height: 100% !important;\r\n      }`}</style>\r\n      <CodeMirror\r\n        className=\"rounded overflow-auto h-208px\"\r\n        value={initialValue}\r\n        options={{\r\n          mode: \"application/json\",\r\n          theme: \"material\",\r\n          lineNumbers: true,\r\n          autoCloseBrackets: true,\r\n          lint: true,\r\n          gutters: [\"CodeMirror-lint-markers\"],\r\n        }}\r\n        onChange={(editor, data, value) => {\r\n          try {\r\n            onChange(JSON.parse(value));\r\n          } catch (er) {\r\n            onChange(value);\r\n          }\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default JsonEditor;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMedia(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 64,\n    height: 35,\n    viewBox: \"0 0 64 35\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M37.8352 0.201904L27.1818 14.4065L35.2784 25.202L30.7329 28.6111C25.9318 22.219 17.9488 11.5656 17.9488 11.5656L0.90332 34.2929H63.4035L37.8352 0.201904Z\",\n    fill: \"#23F3F3\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMedia);\nexport default __webpack_public_path__ + \"static/media/media.4ab29f77.svg\";\nexport { ForwardRef as ReactComponent };","import { SimpleField } from \"api/collectionTypes\";\r\nimport JsonEditor from \"components/JsonEditor\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Any: React.FC<FieldComponentProps<SimpleField>> = ({ value, onValue }) => {\r\n  return <JsonEditor value={value} onChange={(val) => onValue(val)}></JsonEditor>;\r\n};\r\n\r\nexport default Any;\r\n","import { SimpleField } from \"api/collectionTypes\";\r\nimport Input from \"components/Input\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Number: React.FC<FieldComponentProps<SimpleField>> = ({\r\n  value,\r\n  onValue,\r\n  groundColor,\r\n  name,\r\n}) => {\r\n  return (\r\n    <Input\r\n      groundColor={groundColor}\r\n      className=\"h-28px\"\r\n      type=\"number\"\r\n      name={name}\r\n      onChange={(e) => onValue(e.target.value)}\r\n      value={value}\r\n    ></Input>\r\n  );\r\n};\r\n\r\nexport default Number;\r\n","import { makeStyles } from \"@mui/styles\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { ChangeEvent } from \"react\";\r\n\r\nexport interface SwitchProps {\r\n  value: boolean;\r\n  onChange: (value: boolean) => void;\r\n  groundColor: \"black\" | \"white\";\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  switchBase: {\r\n    \"&$checked\": {\r\n      color: `${getComputedStyle(document.documentElement).getPropertyValue(\r\n        \"--fireck-4\"\r\n      )} !important`,\r\n    },\r\n    \"&$checked + $track\": {\r\n      backgroundColor: `${getComputedStyle(document.documentElement).getPropertyValue(\r\n        \"--fireck-4\"\r\n      )} !important`,\r\n    },\r\n  },\r\n  checked: {},\r\n  track: (props: any) => ({\r\n    background: `${props.groundColor === \"white\" ? \"black\" : \"white\"} !important`,\r\n  }),\r\n});\r\n\r\nconst CustomSwitch: React.FC<SwitchProps> = ({ value, onChange, groundColor }) => {\r\n  const classes = useStyles({ groundColor });\r\n  return (\r\n    <Switch\r\n      classes={classes}\r\n      checked={value}\r\n      onChange={(e: ChangeEvent<HTMLInputElement>) => onChange(e.target.checked)}\r\n    ></Switch>\r\n  );\r\n};\r\n\r\nexport default CustomSwitch;\r\n","import { SimpleField } from \"api/collectionTypes\";\r\nimport Switch from \"components/Switch\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Boolean: React.FC<FieldComponentProps<SimpleField>> = ({ value, onValue, groundColor }) => {\r\n  return <Switch groundColor={groundColor} value={value} onChange={(val) => onValue(val)}></Switch>;\r\n};\r\n\r\nexport default Boolean;\r\n","import { SimpleField } from \"api/collectionTypes\";\r\nimport Input from \"components/Input\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Date: React.FC<FieldComponentProps<SimpleField>> = ({\r\n  value,\r\n  onValue,\r\n  groundColor,\r\n  name,\r\n}) => {\r\n  return (\r\n    <Input\r\n      groundColor={groundColor}\r\n      className=\"h-28px\"\r\n      type=\"date\"\r\n      name={name}\r\n      onChange={(e) => onValue(e.target.value)}\r\n      value={value}\r\n    ></Input>\r\n  );\r\n};\r\n\r\nexport default Date;\r\n","import Button from \"components/Button\";\r\nimport React from \"react\";\r\nimport DragIndicatorRounded from \"@mui/icons-material/DragIndicatorRounded\";\r\nimport ButtonBase from \"@mui/material/ButtonBase\";\r\nimport OpenInNew from \"@mui/icons-material/OpenInNew\";\r\nimport DeleteIcon from \"@mui/icons-material/DeleteOutlineOutlined\";\r\nimport CloseRounded from \"@mui/icons-material/CloseRounded\";\r\nimport DraggableList from \"./DraggableList\";\r\n\r\nexport interface ReorderSelectedFilesProps {\r\n  selectedFiles: string[];\r\n  setSelectedFiles: Function;\r\n  onClose: () => void;\r\n}\r\n\r\nconst reorder = (list: any[], startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n\r\n  return result;\r\n};\r\n\r\nconst ReorderSelectedFiles: React.FC<ReorderSelectedFilesProps> = ({\r\n  selectedFiles,\r\n  setSelectedFiles,\r\n  onClose,\r\n}) => {\r\n  const onDragEnd = (result: any) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    const items = reorder(selectedFiles, result.source.index, result.destination.index);\r\n\r\n    setSelectedFiles(items);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed z-30 left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7\"\r\n      onMouseDown={onClose}\r\n    >\r\n      <div\r\n        onMouseDown={(e) => e.stopPropagation()}\r\n        className=\"m-auto rounded bg-white max-w-552px w-full max-h-552px relative flex-col flex animate-littlemoveup\"\r\n      >\r\n        <CloseRounded\r\n          className=\"absolute right-0 top-0 cursor-pointer\"\r\n          onClick={onClose}\r\n        ></CloseRounded>\r\n        <div className=\"flex justify-between flex-wrap mb-4 px-9 pt-9 flex-shrink-0\">\r\n          <div className=\"font-medium text-2xl mr-4 mb-4\">Reorder files</div>\r\n          <Button className=\"mb-4 bg-fireck-4 hover:bg-fireck-4-hover\" onClick={onClose}>\r\n            Finish\r\n          </Button>\r\n        </div>\r\n        <DraggableList\r\n          onDragEnd={onDragEnd}\r\n          containerClassName=\"px-9 pb-9 flex-grow overflow-auto\"\r\n          items={selectedFiles.map((x) => ({ item: x }))}\r\n          Item={({ item, index }: { item: string; index: number }) => {\r\n            return (\r\n              <div className=\"pb-3\">\r\n                <div className=\"bg-gray-300 flex items-center rounded p-2 justify-between\">\r\n                  <div className=\"flex items-center\">\r\n                    <DragIndicatorRounded className=\"mr-4\" />\r\n                    <div className=\"bg-fireck-5 rounded\">\r\n                      <div\r\n                        className=\"bg-center bg-cover bg-no-repeat w-11 h-11\"\r\n                        style={{ backgroundImage: `url(${item})` }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex\">\r\n                    <ButtonBase\r\n                      onClick={() => window.open(item, \"_blank\")}\r\n                      className=\"outline-none mr-2 h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover\"\r\n                    >\r\n                      <OpenInNew fontSize=\"small\"></OpenInNew>\r\n                    </ButtonBase>\r\n                    <ButtonBase className=\"outline-none h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover\">\r\n                      <DeleteIcon\r\n                        fontSize=\"small\"\r\n                        onClick={() => {\r\n                          let arr = [...selectedFiles];\r\n                          arr.splice(index, 1);\r\n                          setSelectedFiles(arr);\r\n                        }}\r\n                      ></DeleteIcon>\r\n                    </ButtonBase>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }}\r\n        ></DraggableList>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReorderSelectedFiles;\r\n","import PhotoLibrary from \"@mui/icons-material/PhotoLibrary\";\r\nimport React from \"react\";\r\nimport ArrowBackIosRounded from \"@mui/icons-material/ArrowBackIosRounded\";\r\nimport ArrowForwardIosRounded from \"@mui/icons-material/ArrowForwardIosRounded\";\r\nimport AddRounded from \"@mui/icons-material/AddRounded\";\r\nimport EditRounded from \"@mui/icons-material/EditRounded\";\r\nimport ButtonBase from \"@mui/material/ButtonBase\";\r\nimport { callComponent } from \"api/callComponent\";\r\nimport SelectMedia, { SelectMediaProps } from \"pages/Media/SelectMedia\";\r\nimport ReorderSelectedFiles from \"components/ReorderSelectedFiles\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport { ReactComponent as MediaIcon } from \"assets/media.svg\";\r\n\r\nexport interface MediaInputProps {\r\n  selectedFiles: string[];\r\n  setSelectedFiles: Function;\r\n}\r\n\r\nconst MediaInput: React.FC<MediaInputProps> = ({ selectedFiles, setSelectedFiles }) => {\r\n  const [activeIndex, setActiveIndex] = React.useState(0);\r\n  const [openReordering, setOpenReordering] = React.useState(false);\r\n\r\n  const selectFiles = async () => {\r\n    const res = await callComponent<SelectMediaProps, string[] | boolean>({\r\n      Component: SelectMedia,\r\n      props: { multiple: true },\r\n    });\r\n\r\n    if (typeof res !== \"boolean\") {\r\n      const prevFiles = [...selectedFiles];\r\n      setSelectedFiles([...res, ...prevFiles]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-208px border-2 rounded-md relative\">\r\n      {!selectedFiles.length ? (\r\n        <div className=\"flex w-full h-full cursor-pointer relative z-10\" onClick={selectFiles}>\r\n          <div className=\"m-auto flex items-center text-white\">\r\n            <MediaIcon className=\"text-39px mr-3\" fontSize=\"inherit\"></MediaIcon>\r\n            <div>Upload multiple files</div>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n      {selectedFiles.map((x, i) => (\r\n        <>\r\n          <div\r\n            className={`absolute left-0 top-0 w-full h-full bg-center bg-contain bg-no-repeat ${\r\n              i !== activeIndex ? \"hidden\" : \"\"\r\n            }`}\r\n            style={{ backgroundImage: `url(${x})` }}\r\n          ></div>\r\n          <img src={x} alt=\"\" className=\"hidden\"></img>\r\n        </>\r\n      ))}\r\n      {selectedFiles.length ? (\r\n        <div className=\"absolute left-0 top-0 w-full h-full\">\r\n          <div className=\"relative flex items-center justify-between h-full\">\r\n            <div className=\"absolute left-0 top-0 p-3\">\r\n              <div className=\"h-26px rounded bg-fireck-4 px-3 text-sm leading-26px\">\r\n                {activeIndex + 1}/{selectedFiles.length}\r\n              </div>\r\n            </div>\r\n            <div className=\"absolute top-0 right-0 flex p-3\">\r\n              <ButtonBase\r\n                onClick={selectFiles}\r\n                className=\"outline-none h-26px w-26px mr-2 rounded bg-fireck-4 hover:bg-fireck-4-hover\"\r\n              >\r\n                <AddRounded fontSize=\"small\"></AddRounded>\r\n              </ButtonBase>\r\n              <ButtonBase\r\n                onClick={() => {\r\n                  setOpenReordering(true);\r\n                }}\r\n                className=\"outline-none h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover\"\r\n              >\r\n                <EditRounded fontSize=\"small\"></EditRounded>\r\n              </ButtonBase>\r\n              <Modal open={openReordering}>\r\n                <ReorderSelectedFiles\r\n                  onClose={() => setOpenReordering(false)}\r\n                  selectedFiles={selectedFiles}\r\n                  setSelectedFiles={(files: string[]) => {\r\n                    setActiveIndex(0);\r\n                    setSelectedFiles(files);\r\n                  }}\r\n                ></ReorderSelectedFiles>\r\n              </Modal>\r\n            </div>\r\n            <ButtonBase\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover p-4 outline-none\"\r\n              onClick={() => setActiveIndex((prev) => (prev > 0 ? prev - 1 : prev))}\r\n            >\r\n              <ArrowBackIosRounded></ArrowBackIosRounded>\r\n            </ButtonBase>\r\n            <ButtonBase\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover p-4 outline-none\"\r\n              onClick={() =>\r\n                setActiveIndex((prev) => (prev < selectedFiles.length - 1 ? prev + 1 : prev))\r\n              }\r\n            >\r\n              <ArrowForwardIosRounded></ArrowForwardIosRounded>\r\n            </ButtonBase>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MediaInput;\r\n","import React from \"react\";\r\nimport DeleteRounded from \"@mui/icons-material/DeleteOutlineOutlined\";\r\nimport ButtonBase from \"@mui/material/ButtonBase\";\r\nimport { callComponent } from \"api/callComponent\";\r\nimport SelectMedia, { SelectMediaProps } from \"pages/Media/SelectMedia\";\r\nimport { ReactComponent as MediaIcon } from \"assets/media.svg\";\r\n\r\nexport interface SingleMediaInputProps {\r\n  selectedFile: string;\r\n  setSelectedFile: Function;\r\n}\r\n\r\nconst SingleMediaInput: React.FC<SingleMediaInputProps> = ({ selectedFile, setSelectedFile }) => {\r\n  return (\r\n    <div className=\"h-208px border-2 border-white rounded-md relative\">\r\n      {!selectedFile ? (\r\n        <div\r\n          className=\"flex w-full h-full cursor-pointer relative z-10\"\r\n          onClick={async () => {\r\n            const res = await callComponent<SelectMediaProps, string | boolean>({\r\n              Component: SelectMedia,\r\n              props: { multiple: false },\r\n            });\r\n\r\n            if (typeof res !== \"boolean\") {\r\n              setSelectedFile(res);\r\n            }\r\n          }}\r\n        >\r\n          <div className=\"m-auto flex items-center text-white\">\r\n            <MediaIcon className=\"text-39px mr-3\" fontSize=\"inherit\"></MediaIcon>\r\n            <div>Upload a file</div>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n\r\n      <div\r\n        className=\"absolute left-0 top-0 w-full h-full bg-center bg-contain bg-no-repeat\"\r\n        style={{ backgroundImage: `url(${selectedFile})` }}\r\n      ></div>\r\n      {selectedFile ? (\r\n        <div className=\"absolute top-0 right-0 flex p-3\">\r\n          <ButtonBase\r\n            onClick={() => setSelectedFile(null)}\r\n            className=\"outline-none h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover\"\r\n          >\r\n            <DeleteRounded fontSize=\"small\"></DeleteRounded>\r\n          </ButtonBase>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleMediaInput;\r\n","import { MediaField } from \"api/collectionTypes\";\r\nimport MultipleMediaInput from \"components/MultipleMediaInput\";\r\nimport SingleMediaInput from \"components/SingleMediaInput\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Media: React.FC<FieldComponentProps<MediaField>> = ({ value, onValue, field }) => {\r\n  return field.mediaSingle ? (\r\n    <SingleMediaInput\r\n      selectedFile={value}\r\n      setSelectedFile={(file: string) => onValue(file)}\r\n    ></SingleMediaInput>\r\n  ) : (\r\n    <MultipleMediaInput\r\n      selectedFiles={value}\r\n      setSelectedFiles={(files: string[]) => onValue(files)}\r\n    ></MultipleMediaInput>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","import MdEditor from \"react-markdown-editor-lite\";\r\nimport \"react-markdown-editor-lite/lib/index.css\";\r\nimport MarkdownIt from \"markdown-it\";\r\nimport SelectMedia, { SelectMediaProps } from \"pages/Media/SelectMedia\";\r\nimport { callComponent } from \"api/callComponent\";\r\n\r\nexport interface RichTextProps {\r\n  style?: React.CSSProperties;\r\n  onChange: (a: string) => void;\r\n  value: string;\r\n}\r\n\r\nconst RichText: React.FC<RichTextProps> = ({ style = {}, onChange, value }) => {\r\n  const mdParser = new MarkdownIt();\r\n\r\n  return (\r\n    <div>\r\n      <style>{`.rc-md-navigation .button-wrap .button {\r\n        background-color: white !important;\r\n        border-radius: 4px !important;\r\n        margin-bottom: 2px !important;\r\n        margin-top: 2px !important;\r\n      }\r\n\r\n      .rc-md-navigation{\r\n        border-bottom: none !important;\r\n        background-color: transparent !important;\r\n        margin-bottom: 4px;\r\n      }\r\n\r\n      .rc-md-editor{\r\n        background-color: #EFF3F8 !important;\r\n        border: none !important;\r\n        padding: 7px !important;\r\n        border-radius: 4px !important;\r\n      } \r\n\r\n      .rc-md-editor textarea{\r\n        background-color: transparent !important;\r\n        // border-radius: 4px !important;\r\n        overflow: auto !important;\r\n        border-right: 1px solid #DDDDDD !important;\r\n      }\r\n\r\n      \r\n      \r\n      `}</style>\r\n      <MdEditor\r\n        placeholder=\"Type here...\"\r\n        onCustomImageUpload={(e) => {\r\n          return new Promise(async (resolve, reject) => {\r\n            const res = await callComponent<SelectMediaProps, string | boolean>({\r\n              Component: SelectMedia,\r\n              props: { multiple: false },\r\n            });\r\n\r\n            if (typeof res === \"string\") {\r\n              resolve({ url: res, text: \"image\" });\r\n            } else {\r\n              reject();\r\n            }\r\n          });\r\n        }}\r\n        value={value}\r\n        onChange={({ text }) => onChange(text)}\r\n        style={style}\r\n        renderHTML={(text) => mdParser.render(text)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RichText;\r\n","import { SimpleField } from \"api/collectionTypes\";\r\nimport RichTextEditor from \"components/RichTextEditor\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst RichText: React.FC<FieldComponentProps<SimpleField>> = ({ value, onValue }) => {\r\n  return (\r\n    <RichTextEditor\r\n      style={{ height: \"30vw\", minHeight: 400 }}\r\n      value={value}\r\n      onChange={(val) => onValue(val)}\r\n    ></RichTextEditor>\r\n  );\r\n};\r\n\r\nexport default RichText;\r\n","import { EnumField } from \"api/collectionTypes\";\r\nimport Select from \"components/Select\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Enum: React.FC<FieldComponentProps<EnumField>> = ({\r\n  value,\r\n  onValue,\r\n  groundColor,\r\n  name,\r\n  field,\r\n}) => {\r\n  return (\r\n    <Select\r\n      groundColor={groundColor}\r\n      options={[\r\n        { label: \"Select\", value: \"\" },\r\n        ...field.enumOptions.map((opt) => ({ label: opt, value: opt })),\r\n      ]}\r\n      name={name}\r\n      onChange={(e) => onValue(e.target.value)}\r\n      value={value}\r\n    ></Select>\r\n  );\r\n};\r\n\r\nexport default Enum;\r\n","import { SimpleField } from \"api/collectionTypes\";\r\nimport Input from \"components/Input\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Password: React.FC<FieldComponentProps<SimpleField>> = ({\r\n  value,\r\n  onValue,\r\n  groundColor,\r\n  name,\r\n}) => {\r\n  return (\r\n    <Input\r\n      groundColor={groundColor}\r\n      className=\"h-28px\"\r\n      type=\"password\"\r\n      value={value}\r\n      name={name}\r\n      onChange={(e) => onValue(e.target.value)}\r\n    ></Input>\r\n  );\r\n};\r\n\r\nexport default Password;\r\n","import { CollectionType } from \"api/collectionTypes\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getDocument } from \"api/collections\";\r\n\r\ninterface RelationFieldValueProps {\r\n  value: string;\r\n  collectionType: CollectionType | undefined;\r\n  labelField: string;\r\n}\r\n\r\nconst RelationFieldValue: React.FC<RelationFieldValueProps> = (props) => {\r\n  const [valueLabel, setValueLabel] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(\"called\");\r\n    const { value, labelField, collectionType } = props;\r\n    if (collectionType) {\r\n      (async () => {\r\n        try {\r\n          let res = await getDocument(collectionType.id, value);\r\n          if (!res.error) {\r\n            setValueLabel(res[labelField]);\r\n          }\r\n        } catch (er) {\r\n          console.log(er);\r\n        }\r\n      })();\r\n    }\r\n  }, [props, valueLabel]);\r\n\r\n  return <>{valueLabel}</>;\r\n};\r\n\r\nexport default RelationFieldValue;\r\n","import { RelationField as RelationFieldType } from \"api/collectionTypes\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"store\";\r\nimport CollectionTable from \"./TableElements/CollectionTable\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport IconButton from \"./IconButton\";\r\nimport Link from \"@mui/icons-material/Link\";\r\nimport AddRounded from \"@mui/icons-material/AddRounded\";\r\nimport { ReactComponent as OneToOneIcon } from \"assets/one-to-one.svg\";\r\nimport { ReactComponent as OneToManyIcon } from \"assets/one-to-many.svg\";\r\nimport CloseRounded from \"@mui/icons-material/CloseRounded\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport DeleteOutlineOutlined from \"@mui/icons-material/DeleteOutlineOutlined\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport RelationFieldValue from \"components/RelationFieldValue\";\r\n\r\nexport interface RelationFieldProps {\r\n  fieldType: RelationFieldType;\r\n  value: string[] | string;\r\n  onValue: (a: string[] | string) => void;\r\n}\r\n\r\nconst RelationField: React.FC<RelationFieldProps> = ({ fieldType, value, onValue }) => {\r\n  const collectionType = useSelector((state: RootState) =>\r\n    state.collectionTypes.find((x) => x.docId === fieldType.relatedCollectionTypeDocId)\r\n  );\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  return (\r\n    <div className=\"bg-fireck-3 rounded p-5\">\r\n      <div className=\"flex flex-wrap justify-between\">\r\n        <div className=\"flex items-center font-medium text-fireck-4 mb-3 mr-3\">\r\n          <Link className=\"mr-3\" fontSize=\"small\"></Link>\r\n          <div className=\"capitalize mr-3\">{collectionType?.name}</div>\r\n          {fieldType.relationOneToOne ? (\r\n            <div className=\"flex w-8 text-white\">\r\n              <OneToOneIcon></OneToOneIcon>\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex w-8 text-white\">\r\n              <OneToManyIcon></OneToManyIcon>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <IconButton onClick={() => setOpen(true)} className=\"mb-3\">\r\n          <AddRounded fontSize=\"small\"></AddRounded>\r\n        </IconButton>\r\n      </div>\r\n\r\n      <Modal open={open}>\r\n        <div\r\n          className=\"fixed left-0 top-0 w-full h-full flex overflow-auto p-12\"\r\n          onMouseDown={() => setOpen(false)}\r\n        >\r\n          <div\r\n            className=\"bg-white p-9 rounded w-full h-full flex flex-col relative\"\r\n            onMouseDown={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"absolute right-0 top-0 cursor-pointer\" onClick={() => setOpen(false)}>\r\n              <CloseRounded></CloseRounded>\r\n            </div>\r\n            <div className=\"text-27px font-medium mb-5 capitalize leading-none\">\r\n              {collectionType?.name}\r\n            </div>\r\n            <div className=\"flex-grow h-0\">\r\n              {collectionType ? (\r\n                <CollectionTable\r\n                  groundColor=\"white\"\r\n                  collectionType={collectionType}\r\n                  blackList={typeof value === \"string\" ? [value] : value}\r\n                  singleSelect={typeof value === \"string\"}\r\n                  onPick={(docs) => {\r\n                    if (docs.length) {\r\n                      if (typeof value === \"string\") {\r\n                        onValue(docs[0].docId);\r\n                      } else {\r\n                        onValue([...value, ...docs.map((x) => x.docId)]);\r\n                      }\r\n\r\n                      setOpen(false);\r\n                    }\r\n                  }}\r\n                ></CollectionTable>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n      <div className=\"w-full max-h-64 overflow-auto bg-white rounded\">\r\n        {typeof value === \"string\" ? (\r\n          <div className=\"px-1 h-28px bg-white flex items-center justify-between\">\r\n            <span>\r\n              <RelationFieldValue\r\n                value={value}\r\n                collectionType={collectionType}\r\n                labelField={fieldType.labelField}\r\n              ></RelationFieldValue>\r\n            </span>\r\n            {!value ? null : (\r\n              <div\r\n                className=\"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white\"\r\n                data-testid={`delete-for-field-${fieldType.id}-${value}`}\r\n                onClick={async () => {\r\n                  let res = await confirm({\r\n                    confirmation: \"Remove document?\",\r\n                  });\r\n                  if (res) {\r\n                    onValue(\"\");\r\n                  }\r\n                }}\r\n              >\r\n                <DeleteOutlineOutlined\r\n                  classes={{ root: \"pointer-events-none\" }}\r\n                  fontSize=\"inherit\"\r\n                ></DeleteOutlineOutlined>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <SimpleBar className=\"h-36 bg-white scrollbar-light scrollbar-thin\" autoHide={false}>\r\n            {value.map((x, i) => (\r\n              <div\r\n                className=\"px-1 hover:bg-fireck-4 flex justify-between \"\r\n                key={`relation-${fieldType.id}-docId-${x}`}\r\n              >\r\n                <div>\r\n                  <RelationFieldValue\r\n                    value={x}\r\n                    collectionType={collectionType}\r\n                    labelField={fieldType.labelField}\r\n                  ></RelationFieldValue>\r\n                </div>\r\n                <div className=\"flex items-center flex-grow justify-end\">\r\n                  <div\r\n                    className=\"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white\"\r\n                    data-testid={`delete-for-field-${fieldType.id}-${x}`}\r\n                    onClick={async () => {\r\n                      let res = await confirm({\r\n                        confirmation: \"Remove document?\",\r\n                      });\r\n                      if (res) {\r\n                        let arr = [...value];\r\n                        arr.splice(i, 1);\r\n                        onValue(arr);\r\n                      }\r\n                    }}\r\n                  >\r\n                    <DeleteOutlineOutlined\r\n                      classes={{ root: \"pointer-events-none\" }}\r\n                      fontSize=\"inherit\"\r\n                    ></DeleteOutlineOutlined>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </SimpleBar>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RelationField;\r\n","import { RelationField as RelationFieldType } from \"api/collectionTypes\";\r\nimport RelationField from \"components/RelationField\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Relation: React.FC<FieldComponentProps<RelationFieldType>> = ({ value, onValue, field }) => {\r\n  return (\r\n    <RelationField\r\n      onValue={(docIds) => onValue(docIds)}\r\n      fieldType={field}\r\n      value={value}\r\n    ></RelationField>\r\n  );\r\n};\r\n\r\nexport default Relation;\r\n","import { AnyField } from \"api/collectionTypes\";\r\nimport DocumentForm from \"./DocumentForm\";\r\nimport { callComponent } from \"api/callComponent\";\r\nimport CloseRounded from \"@material-ui/icons/CloseRounded\";\r\nimport { Document } from \"utils/interfaces\";\r\n\r\nexport interface SubcollectionDocumentProps {\r\n  fields: AnyField[];\r\n  proceed: (a: { [key: string]: any } | null) => void;\r\n  editableDocument?: { [key: string]: any };\r\n  level: number;\r\n}\r\n\r\nconst SubcollectionDocument: React.FC<SubcollectionDocumentProps> = ({\r\n  fields,\r\n  proceed,\r\n  editableDocument,\r\n  level,\r\n}) => {\r\n  return (\r\n    <div\r\n      style={{ padding: Math.min(level * 30, 90) }}\r\n      className=\"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40\"\r\n      onMouseDown={() => proceed(null)}\r\n    >\r\n      <div\r\n        className=\"bg-white rounded h-full w-full p-9 relative animate-littlemoveup\"\r\n        onMouseDown={(e) => e.stopPropagation()}\r\n      >\r\n        <CloseRounded\r\n          className=\"absolute top-0 right-0 cursor-pointer\"\r\n          onClick={() => proceed(null)}\r\n        ></CloseRounded>\r\n        <DocumentForm\r\n          level={level + 1}\r\n          groundColor=\"white\"\r\n          editableDocument={editableDocument}\r\n          fields={fields}\r\n          onSubmit={proceed}\r\n        ></DocumentForm>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubcollectionDocument;\r\n\r\nexport const getSubcollectionDocument = (props: Omit<SubcollectionDocumentProps, \"proceed\">) => {\r\n  return callComponent<typeof props, Document | null>({\r\n    Component: SubcollectionDocument,\r\n    props,\r\n  });\r\n};\r\n","import { Document } from \"utils/interfaces\";\r\nimport { AnyField } from \"api/collectionTypes\";\r\nimport FilesCell from \"components/TableElements/FilesCell\";\r\nimport React from \"react\";\r\nimport ExpandMoreRounded from \"@mui/icons-material/ExpandMoreRounded\";\r\nimport { confirm } from \"components/Confirm\";\r\nimport AddFilter from \"components/TableElements/AddFilter\";\r\nimport Button from \"components/Button\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport classNames from \"classnames\";\r\nimport { InView } from \"react-intersection-observer\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport moment from \"moment\";\r\nimport { getSubcollectionDocument } from \"./SubcollectionDocument\";\r\n\r\nexport interface SubcollectionFieldProps {\r\n  fields: AnyField[];\r\n  value: Document[];\r\n  onValue: (newVal: any) => void;\r\n  valueFormatters?: { [key: string]: (val: any) => any };\r\n  groundColor?: \"white\" | \"black\";\r\n  level: number;\r\n}\r\n\r\nexport type FilterType = { fieldId: string; operator: string; value: string };\r\n\r\nconst Table: React.FC<SubcollectionFieldProps> = ({\r\n  value,\r\n  onValue,\r\n  valueFormatters,\r\n  groundColor = \"black\",\r\n  fields,\r\n  level,\r\n}) => {\r\n  const [filters, setFilters] = React.useState<FilterType[]>([]);\r\n  const [selected, setSelected] = React.useState<string[]>([]);\r\n  const [orderBy, setOrderBy] = React.useState<{ fieldId: string; direction: \"asc\" | \"desc\" }>();\r\n  const [endIsInView, setEndIsInView] = React.useState(false);\r\n\r\n  const onEdit = async (doc: Document, docIndex: number) => {\r\n    let document = await getSubcollectionDocument({\r\n      fields,\r\n      level: level + 1,\r\n      editableDocument: doc,\r\n    });\r\n    if (!document) return;\r\n    let arr = [...value];\r\n    arr[docIndex] = document;\r\n    onValue(arr);\r\n  };\r\n\r\n  const onDeleteSelected = async () => {\r\n    if (await confirm({ confirmation: `Delete ${selected.length} documents?` })) {\r\n      onValue(value.filter((x) => !selected.includes(x.docId)));\r\n      setSelected([]);\r\n    }\r\n  };\r\n\r\n  const onOrder = (field: AnyField) =>\r\n    orderBy?.fieldId !== field.id\r\n      ? () => {\r\n          setOrderBy({ fieldId: field.id, direction: \"asc\" });\r\n        }\r\n      : orderBy?.direction !== \"asc\"\r\n      ? () => setOrderBy(undefined)\r\n      : () => setOrderBy({ fieldId: field.id, direction: \"desc\" });\r\n\r\n  const selectAll = (select: boolean) => setSelected(select ? value.map((x) => x.docId) : []);\r\n\r\n  const selectHandler = (docId: string, checked: boolean) => {\r\n    if (checked) {\r\n      setSelected((prev) => [...prev, docId]);\r\n\r\n      return;\r\n    }\r\n    setSelected((prev) => {\r\n      let arr = [...prev];\r\n      let index = arr.findIndex((x) => x === docId);\r\n      if (index != null) {\r\n        arr.splice(index, 1);\r\n      }\r\n      return arr;\r\n    });\r\n  };\r\n\r\n  const formatValue = (field: AnyField, value: any) => {\r\n    return field.type === \"date\"\r\n      ? moment(value).format(\"YYYY-MM-DD hh:mm\")\r\n      : valueFormatters && field.id in valueFormatters\r\n      ? valueFormatters[field.id](value)\r\n      : value.toString().substring(0, 40);\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-96 w-full flex-col flex\">\r\n      <div className=\"flex justify-between mb-3\">\r\n        <div className=\"flex flex-wrap\">\r\n          <AddFilter\r\n            collectionType={{ fields }}\r\n            onValue={(val: FilterType) => setFilters((prev) => [val, ...prev])}\r\n          ></AddFilter>\r\n          {filters.map((f, i) => (\r\n            <div\r\n              key={`f-${i}`}\r\n              className={classNames(\r\n                \"rounded min-h-28px border leading-28px pl-3 text-sm pr-3 flex mr-3 mb-3 relative\",\r\n                { \"text-white border-white\": groundColor === \"black\" },\r\n                { \"text-black border-black\": groundColor === \"white\" }\r\n              )}\r\n            >\r\n              {f.fieldId} {f.operator} {f.value}{\" \"}\r\n              <span\r\n                onClick={() =>\r\n                  setFilters((prev) => {\r\n                    let arr = [...prev];\r\n                    arr.splice(i, 1);\r\n                    return arr;\r\n                  })\r\n                }\r\n                className=\"text-xs leading-28px ml-3 cursor-pointer\"\r\n              >\r\n                \r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"flex flex-wrap\">\r\n          <Button\r\n            onClick={onDeleteSelected}\r\n            disabled={selected.length === 0}\r\n            className={`px-7 mr-4 min-w-unset h-28px ${\r\n              selected.length === 0\r\n                ? \"bg-gray-E1E1E1 text-gray-6C6C6C cursor-default\"\r\n                : \"bg-red-FF0000 hover:bg-red-FF0000-hover text-white\"\r\n            } `}\r\n          >\r\n            Delete\r\n          </Button>\r\n          <Button\r\n            onClick={async () => {\r\n              let document = await getSubcollectionDocument({\r\n                fields,\r\n                level: level + 1,\r\n              });\r\n              if (!document) return;\r\n              onValue([...value, document]);\r\n            }}\r\n            className={`px-7 h-28px bg-fireck-4 min-w-unset hover:bg-fireck-4-hover`}\r\n          >\r\n            Add\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className={\"flex-grow h-0 -mt-3 rounded overflow-hidden bg-white shadow-border-gray\"}>\r\n        <SimpleBar className={\"relative scrollbar-light h-full\"} autoHide={false}>\r\n          <table className=\"w-full text-center\">\r\n            <thead>\r\n              <tr className=\"whitespace-nowrap\">\r\n                <th className=\"sticky top-0 bg-gray-E1E1E1 z-10 px-1\">\r\n                  <Checkbox\r\n                    size=\"small\"\r\n                    classes={{ checked: \"text-fireck-1\", root: \"p-0\" }}\r\n                    checked={selected.length === value.length}\r\n                    onChange={(e) => selectAll(e.target.checked)}\r\n                  ></Checkbox>\r\n                </th>\r\n                {fields.map((field, i) => (\r\n                  <th className=\"font-semibold sticky top-0 bg-gray-E1E1E1\" key={`th-${i}`}>\r\n                    <div className=\"flex items-center justify-center\">\r\n                      <div className=\"w-5\"></div>\r\n                      <div className=\"cursor-pointer select-none\" onClick={onOrder(field)}>\r\n                        {field.id}\r\n                      </div>\r\n                      <div className=\"w-5\">\r\n                        {orderBy?.fieldId === field.id ? (\r\n                          <ExpandMoreRounded\r\n                            fontSize=\"small\"\r\n                            className={`${\r\n                              orderBy?.direction === \"asc\" ? \"transform rotate-180\" : \"\"\r\n                            }`}\r\n                          ></ExpandMoreRounded>\r\n                        ) : null}\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {value.map((doc, i) => (\r\n                <tr\r\n                  onClick={() => onEdit(doc, i)}\r\n                  key={`row-${i}`}\r\n                  className={\"cursor-pointer hover:bg-fireck-4\"}\r\n                >\r\n                  <td className=\"px-1\" onClick={(e) => e.stopPropagation()}>\r\n                    <Checkbox\r\n                      size=\"small\"\r\n                      classes={{ checked: \"text-fireck-1\", root: \"p-0\" }}\r\n                      checked={selected.includes(doc.docId)}\r\n                      onChange={(e) => selectHandler(doc.docId, e.target.checked)}\r\n                    ></Checkbox>\r\n                  </td>\r\n                  {fields.map((field, j) => (\r\n                    <td key={`row-${i}-col-${j}`} className=\"px-2\">\r\n                      {doc[field.id] != null ? (\r\n                        field.type === \"media\" ? (\r\n                          field.mediaSingle ? (\r\n                            <FilesCell file={doc[field.id]}></FilesCell>\r\n                          ) : (\r\n                            <FilesCell files={doc[field.id]} />\r\n                          )\r\n                        ) : (\r\n                          <div className=\"whitespace-nowrap\">\r\n                            {formatValue(field, doc[field.id])}\r\n                          </div>\r\n                        )\r\n                      ) : null}\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <InView\r\n            onChange={async (inView) => {\r\n              setEndIsInView(inView);\r\n            }}\r\n          >\r\n            <div className=\"w-full\"></div>\r\n          </InView>\r\n          <div></div>\r\n        </SimpleBar>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","export type Validation = (val: any) => string | null;\r\n\r\nconst Validate: Validation = () => {\r\n  return null;\r\n};\r\n\r\nexport default Validate;\r\n","import { SimpleField } from \"api/collectionTypes\";\r\nimport Input from \"components/Input\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Password: React.FC<FieldComponentProps<SimpleField>> = ({\r\n  value,\r\n  onValue,\r\n  groundColor,\r\n  name,\r\n}) => {\r\n  const [plain, setPlain] = useState(\"\");\r\n  const createPassword = async () => {\r\n    const res = await fetch(window.location.origin + \"/auth/createPassword\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(plain),\r\n    }).then((x) => x.json());\r\n    return res.error ? null : res;\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPlain(value);\r\n  }, [value]);\r\n\r\n  return (\r\n    <div className=\"w-full relative flex\">\r\n      <div className=\"flex-grow\">\r\n        <Input\r\n          disabled={value}\r\n          onBlur={() => {}}\r\n          groundColor={groundColor}\r\n          className=\"h-28px\"\r\n          type=\"password\"\r\n          value={plain}\r\n          name={name}\r\n          onChange={(e) => setPlain(e.target.value)}\r\n        ></Input>\r\n      </div>\r\n\r\n      <div className=\"ml-1 select-none font-medium\">\r\n        {value ? (\r\n          <div\r\n            onClick={() => onValue(\"\")}\r\n            className=\"h-28px leading-28px text-xs rounded bg-red-FF0000 hover:bg-red-FF0000-hover text-white cursor-pointer px-3\"\r\n          >\r\n            Clear\r\n          </div>\r\n        ) : (\r\n          <div\r\n            onClick={async () => {\r\n              let password = await createPassword();\r\n              onValue(password);\r\n            }}\r\n            className=\"h-28px leading-28px text-xs rounded bg-fireck-4 hover:bg-fireck-4-hover cursor-pointer px-3\"\r\n          >\r\n            Save\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Password;\r\n","import StringBadge from \"./Badges/String\";\r\nimport NumberBadge from \"./Badges/Number\";\r\nimport MapBadge from \"./Badges/Map\";\r\nimport ArrayBadge from \"./Badges/Array\";\r\nimport BooleanBadge from \"./Badges/Boolean\";\r\nimport DateBadge from \"./Badges/Date\";\r\nimport MediaBadge from \"./Badges/Media\";\r\nimport RichTextBadge from \"./Badges/RichText\";\r\nimport JsonBadge from \"./Badges/Json\";\r\nimport EnumBadge from \"./Badges/Enum\";\r\nimport PasswordBadge from \"./Badges/Password\";\r\nimport RelationBadge from \"./Badges/Relation\";\r\nimport SubcollectionBadge from \"./Badges/Subcollection\";\r\nimport AnyBadge from \"./Badges/Any\";\r\nimport StringComponent from \"./Components/String\";\r\nimport AnyComponent from \"./Components/Any\";\r\nimport NumberComponent from \"./Components/Number\";\r\nimport BooleanComponent from \"./Components/Boolean\";\r\nimport DateComponent from \"./Components/Date\";\r\nimport MediaComponent from \"./Components/Media\";\r\nimport RichTextComponent from \"./Components/RichText\";\r\nimport EnumComponent from \"./Components/Enum\";\r\nimport PasswordComponent from \"./Components/Password\";\r\nimport RelationComponent from \"./Components/Relation\";\r\nimport SubcollectionComponent from \"./Components/Subcollection\";\r\nimport ArrayValidation from \"./Validations/Array\";\r\nimport MapValidation from \"./Validations/Map\";\r\nimport JsonValidation from \"./Validations/Json\";\r\nimport DefaultValidation from \"./Validations/Default\";\r\nimport HashedPasswordComponent from \"./Components/HashedPassword\";\r\nimport HashedPasswordValidation from \"./Validations/HashedPassword\";\r\n\r\nexport const HashedPasswordField = {\r\n  type: \"hashed-password\",\r\n  Component: HashedPasswordComponent,\r\n  validate: HashedPasswordValidation,\r\n};\r\n\r\nconst fields = [\r\n  { type: \"string\", Badge: StringBadge, Component: StringComponent, validate: DefaultValidation },\r\n  { type: \"number\", Badge: NumberBadge, Component: NumberComponent, validate: DefaultValidation },\r\n  { type: \"map\", Badge: MapBadge, Component: AnyComponent, validate: MapValidation },\r\n  { type: \"array\", Badge: ArrayBadge, Component: AnyComponent, validate: ArrayValidation },\r\n  {\r\n    type: \"boolean\",\r\n    Badge: BooleanBadge,\r\n    Component: BooleanComponent,\r\n    validate: DefaultValidation,\r\n  },\r\n  { type: \"date\", Badge: DateBadge, Component: DateComponent, validate: DefaultValidation },\r\n  { type: \"media\", Badge: MediaBadge, Component: MediaComponent, validate: DefaultValidation },\r\n  {\r\n    type: \"rich-text\",\r\n    Badge: RichTextBadge,\r\n    Component: RichTextComponent,\r\n    validate: DefaultValidation,\r\n  },\r\n  { type: \"json\", Badge: JsonBadge, Component: AnyComponent, validate: JsonValidation },\r\n  { type: \"enum\", Badge: EnumBadge, Component: EnumComponent, validate: DefaultValidation },\r\n  {\r\n    type: \"password\",\r\n    Badge: PasswordBadge,\r\n    Component: PasswordComponent,\r\n    validate: DefaultValidation,\r\n  },\r\n  {\r\n    type: \"relation\",\r\n    Badge: RelationBadge,\r\n    Component: RelationComponent,\r\n    validate: DefaultValidation,\r\n  },\r\n  {\r\n    type: \"collection\",\r\n    Badge: SubcollectionBadge,\r\n    Component: SubcollectionComponent,\r\n    validate: DefaultValidation,\r\n  },\r\n  { type: \"any\", Badge: AnyBadge, Component: AnyComponent, validate: DefaultValidation },\r\n];\r\n\r\nexport default fields;\r\n","import { Validation } from \"./Default\";\r\n\r\nconst Validate: Validation = (val) => {\r\n  return !val ? \"Required\" : null;\r\n};\r\n\r\nexport default Validate;\r\n","import { Validation } from \"./Default\";\r\n\r\nconst Validate: Validation = (val) => {\r\n  try {\r\n    let obj = JSON.parse(JSON.stringify(val));\r\n\r\n    if (typeof obj === \"string\" || typeof obj.map === \"function\") {\r\n      throw new Error(\"object is not a map\");\r\n    }\r\n  } catch (error) {\r\n    return \"Wrong format\";\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default Validate;\r\n","import { Validation } from \"./Default\";\r\n\r\nconst Validate: Validation = (val) => {\r\n  try {\r\n    let obj = JSON.parse(JSON.stringify(val));\r\n    if (typeof obj.map !== \"function\") {\r\n      throw new Error(\"object is not an array\");\r\n    }\r\n  } catch (error) {\r\n    return \"Wrong format\";\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default Validate;\r\n","import { Validation } from \"./Default\";\r\n\r\nconst Validate: Validation = (val) => {\r\n  try {\r\n    let obj = JSON.parse(JSON.stringify(val));\r\n    if (typeof obj === \"string\") {\r\n      throw new Error(\"object is not a map\");\r\n    }\r\n  } catch (error) {\r\n    return \"Wrong format\";\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Validate;\r\n","import { CollectionField } from \"api/collectionTypes\";\r\nimport SubcollectionField from \"components/SubcollectionField\";\r\nimport { FieldComponentProps } from \"./String\";\r\n\r\nconst Collection: React.FC<FieldComponentProps<CollectionField>> = ({\r\n  value,\r\n  onValue,\r\n  level,\r\n  field,\r\n}) => {\r\n  return (\r\n    <SubcollectionField\r\n      level={level}\r\n      value={value}\r\n      onValue={(arr) => onValue(arr)}\r\n      fields={field.collectionFields}\r\n    ></SubcollectionField>\r\n  );\r\n};\r\n\r\nexport default Collection;\r\n","import Button from \"components/Button\";\r\nimport React, { useState } from \"react\";\r\nimport { uploadFile } from \"api/files\";\r\nimport store, { RootState } from \"store\";\r\nimport { useNotify } from \"components/NotificationsProvider\";\r\nimport PageTitle from \"components/PageTitle\";\r\nimport CollectionTable from \"components/TableElements/CollectionTable\";\r\nimport { useSelector } from \"react-redux\";\r\nimport AddRounded from \"@material-ui/icons/AddRounded\";\r\nimport { formatBytes } from \"helper\";\r\n\r\nexport interface MediaProps {}\r\n\r\nexport const MediaDocumentFormatters = {\r\n  url: (value: string) => (\r\n    <div\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        window.open(value, \"_blank\");\r\n      }}\r\n      className=\"bg-center bg-cover h-10 w-10 mx-auto bg-gray-E1E1E1\"\r\n      style={{ backgroundImage: `url(${value})` }}\r\n    ></div>\r\n  ),\r\n  size: (value: number) => formatBytes(value),\r\n};\r\n\r\nconst Media: React.FC<MediaProps> = () => {\r\n  const uploadRef = React.useRef(null as any);\r\n  const notify = useNotify();\r\n  const [refreshCounter, setCounter] = useState(0);\r\n\r\n  const { collectionType } = useSelector((state: RootState) => {\r\n    return {\r\n      collectionType: state.collectionTypes.find((x) => x.id === \"FilesReservedCollection\"),\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div className=\"h-full w-full flex flex-col\">\r\n      <div className=\"flex justify-between flex-wrap mb-3\">\r\n        <PageTitle className=\"mb-4 mr-4\">Media</PageTitle>\r\n        <input\r\n          key={`file-input-${refreshCounter}`}\r\n          type=\"file\"\r\n          multiple\r\n          className=\"hidden\"\r\n          ref={uploadRef}\r\n          onChange={async (e) => {\r\n            const files = e.target.files;\r\n\r\n            if (files && files.length) {\r\n              store.dispatch({\r\n                type: \"SET_LOADING\",\r\n                payload: `Uploading ${files.length} file${files.length > 1 ? \"s\" : \"\"}...`,\r\n              });\r\n              let uploaded = 0;\r\n              for (let file of files) {\r\n                const res = await uploadFile(file);\r\n                if (!(\"error\" in res)) {\r\n                  uploaded++;\r\n                  store.dispatch({\r\n                    type: \"SET_LOADING\",\r\n                    payload: `${uploaded}/${files.length} uploaded.`,\r\n                  });\r\n                } else {\r\n                  notify(res.error + \". Try reload the app\", { variant: \"error\" });\r\n                }\r\n              }\r\n\r\n              store.dispatch({ type: \"SET_LOADING\", payload: false });\r\n              setCounter((prev) => prev + 1);\r\n            }\r\n          }}\r\n        />\r\n        <Button\r\n          onClick={() => uploadRef.current.click()}\r\n          className=\"bg-fireck-4 hover:bg-fireck-4-hover mb-4 h-34px pr-6 pl-5 min-w-unset\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <AddRounded className=\"mr-2 text-lg\" fontSize=\"inherit\"></AddRounded>\r\n            <span>Upload</span>\r\n          </div>\r\n        </Button>\r\n      </div>\r\n\r\n      {!collectionType ? null : (\r\n        <CollectionTable\r\n          groundColor=\"black\"\r\n          key={`files-table-${refreshCounter}`}\r\n          valueFormatters={MediaDocumentFormatters}\r\n          collectionType={collectionType}\r\n        ></CollectionTable>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Media;\r\n","export type IconButtonVariant = \"transparent\" | \"standard\";\r\n\r\nexport interface IconButtonProps {\r\n  className?: string;\r\n  variant?: IconButtonVariant;\r\n  [x: string]: any;\r\n}\r\n\r\nconst IconButton: React.FC<IconButtonProps> = ({\r\n  className = \"\",\r\n  variant = \"standard\",\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <div\r\n      {...rest}\r\n      className={\r\n        `bg-fireck-4 hover:bg-fireck-4-hover h-5 w-5 rounded flex items-center justify-center transition cursor-pointer ` +\r\n        className\r\n      }\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default IconButton;\r\n","import React from \"react\";\r\nimport Button from \"components/Button\";\r\nimport { useFormik } from \"formik\";\r\nimport Label from \"components/Label\";\r\nimport FieldTypes from \"components/Fields\";\r\nimport { HashedPasswordField } from \"components/Fields\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport { AnyField } from \"api/collectionTypes\";\r\n\r\nexport interface DocumentFormProps {\r\n  onSubmit: (a: { [key: string]: any } | null) => void;\r\n  fields: AnyField[];\r\n  editableDocument?: { [key: string]: any };\r\n  docId?: string;\r\n  groundColor: \"black\" | \"white\";\r\n  level: number;\r\n}\r\n\r\nconst DocumentForm: React.FC<DocumentFormProps> = ({\r\n  onSubmit,\r\n  fields,\r\n  editableDocument,\r\n  level,\r\n  docId,\r\n  groundColor,\r\n}) => {\r\n  const allFieldTypes = [...FieldTypes, HashedPasswordField];\r\n\r\n  const initialValues = {\r\n    password: () => \"\",\r\n    string: () => \"\",\r\n    \"rich-text\": () => \"\",\r\n    json: () => ({}),\r\n    map: () => ({}),\r\n    array: () => [],\r\n    media: (x: AnyField) => (x.type === \"media\" && x.mediaSingle ? null : []),\r\n    date: () => null,\r\n    enum: () => null,\r\n    number: () => null,\r\n    boolean: () => false,\r\n    relation: (x: AnyField) => (x.type === \"relation\" && x.relationOneToOne ? \"\" : []),\r\n    collection: () => [],\r\n    document: (x: AnyField) =>\r\n      x.type === \"document\" &&\r\n      x.documentFields.reduce((a, b) => ({ ...a, [b.id]: initialValues[b.type] }), {}),\r\n    any: () => \"\",\r\n    \"hashed-password\": () => \"\",\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const initial = fields.reduce(\r\n    (a, b) => ({\r\n      ...a,\r\n      [b.id]:\r\n        editableDocument && editableDocument[b.id]\r\n          ? editableDocument[b.id]\r\n          : initialValues[b.type](b),\r\n    }),\r\n    {}\r\n  );\r\n\r\n  const { values, errors, setFieldValue, handleSubmit, submitCount, isSubmitting } = useFormik({\r\n    validateOnChange: false,\r\n    initialValues: initial as { [index: string]: any },\r\n    enableReinitialize: true,\r\n    onSubmit: async (vals) => {\r\n      await dispatch({ type: \"SET_DOCUMENT_CHANGED\", payload: false });\r\n      await onSubmit(vals);\r\n    },\r\n    validate: (vals) => {\r\n      const errors: any = {};\r\n      fields.forEach((x) => {\r\n        let fieldType = allFieldTypes.find((f) => f.type === x.type);\r\n        if (!fieldType) return errors;\r\n        let error = fieldType.validate(vals[x.id]);\r\n        if (error) {\r\n          errors[x.id] = error;\r\n        }\r\n      });\r\n\r\n      console.log(\"ERRORs\", errors);\r\n\r\n      return errors;\r\n    },\r\n  });\r\n\r\n  const hasChanged = !editableDocument || JSON.stringify(initial) !== JSON.stringify(values);\r\n\r\n  React.useEffect(() => {\r\n    dispatch({ type: \"SET_DOCUMENT_CHANGED\", payload: hasChanged });\r\n  }, [hasChanged, dispatch]);\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col w-full\">\r\n      <div className=\"flex justify-between flex-wrap mb-2\">\r\n        <div>\r\n          <div\r\n            className={classNames(\"font-medium text-27px leading-none capitalize mb-3 mr-4\", {\r\n              \"text-white\": groundColor === \"black\",\r\n            })}\r\n          >\r\n            {docId ? `Edit Document` : `Add Document`}\r\n          </div>\r\n          {!docId ? null : <div className=\"mb-3 text-xs text-white\">Doc id: {docId}</div>}\r\n        </div>\r\n        <Button\r\n          type=\"submit\"\r\n          onClick={() => handleSubmit()}\r\n          disabled={isSubmitting || !hasChanged}\r\n          className={`h-34px ${\r\n            hasChanged\r\n              ? \"bg-fireck-4 hover:bg-fireck-4-hover\"\r\n              : \"bg-gray-300 text-gray-600 cursor-default\"\r\n          }  mb-2`}\r\n        >\r\n          {isSubmitting ? \"Loading...\" : editableDocument != null ? \"Save\" : \"Publish\"}\r\n        </Button>\r\n      </div>\r\n      <div className=\"flex-grow h-0 overflow-y-auto overflow-x-hidden pt-4 -mx-7 -mb-7 px-7\">\r\n        <div className=\"flex flex-wrap -mx-3\">\r\n          {Object.keys(values).length\r\n            ? fields\r\n                .filter((x) => !x.isDefault)\r\n                .map((x, i) => {\r\n                  const Component = allFieldTypes.find((f) => f.type === x.type)?.Component;\r\n\r\n                  return (\r\n                    <div\r\n                      key={`field-${i}`}\r\n                      className={`${\r\n                        [\"rich-text\", \"collection\"].includes(x.type) ? \"w-full\" : \"sm:w-1/2 w-full\"\r\n                      } px-3 mb-12`}\r\n                    >\r\n                      <Label\r\n                        groundColor={groundColor}\r\n                        className=\"mb-2 font-medium\"\r\n                        error={submitCount > 0 ? errors[x.id]?.toString() : null}\r\n                      >\r\n                        {x.id}{\" \"}\r\n                      </Label>\r\n                      {!Component ? null : (\r\n                        <Component\r\n                          onValue={(val) => setFieldValue(x.id, val)}\r\n                          groundColor={groundColor}\r\n                          value={values[x.id]}\r\n                          name={x.id}\r\n                          level={level}\r\n                          field={x as never}\r\n                        ></Component>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })\r\n            : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DocumentForm;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'EditRounded');\n\nexports.default = _default;","var _path, _circle, _circle2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOneToOne(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 9,\n    viewBox: \"0 0 40 9\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.36621 4.67223H30.7241M30.7241 4.67223L28.3085 2.25659M30.7241 4.67223L28.3085 7.08786\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.37296,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 4.69562,\n    cy: 4.49835,\n    r: 3.31773,\n    stroke: \"currentColor\",\n    strokeWidth: 1.37296\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 35.3948,\n    cy: 4.49835,\n    r: 3.31773,\n    stroke: \"currentColor\",\n    strokeWidth: 1.37296\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOneToOne);\nexport default __webpack_public_path__ + \"static/media/one-to-one.a9ab4eb3.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _circle, _circle2, _circle3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOneToMany(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 37,\n    viewBox: \"0 0 40 37\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5875 18.8431L30.4119 7.39751M30.4119 7.39751L26.8752 6.44984M30.4119 7.39751L29.4643 10.9342\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5873 18.8433L30.4117 30.2889M30.4117 30.2889L29.4641 26.7522M30.4117 30.2889L26.875 31.2366\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 5.00165,\n    cy: 18.7858,\n    r: 3.55593,\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 35.2653,\n    cy: 32.5311,\n    r: 3.55593,\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 35.2653,\n    cy: 5.15558,\n    r: 3.55593,\n    stroke: \"currentColor\",\n    strokeWidth: 1.47153\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOneToMany);\nexport default __webpack_public_path__ + \"static/media/one-to-many.c2288723.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst useDraggableInPortal = () => {\r\n  const self = useRef<any>({}).current;\r\n\r\n  useEffect(() => {\r\n    const div = document.createElement(\"div\");\r\n    div.style.position = \"absolute\";\r\n    div.style.pointerEvents = \"none\";\r\n    div.style.top = \"0\";\r\n    div.style.width = \"100%\";\r\n    div.style.height = \"100%\";\r\n    self.elt = div;\r\n    document.body.appendChild(div);\r\n    return () => {\r\n      document.body.removeChild(div);\r\n    };\r\n  }, [self]);\r\n\r\n  return (render: any) =>\r\n    (provided: any, ...args: any) => {\r\n      const element = render(provided, ...args);\r\n      if (provided.draggableProps.style.position === \"fixed\") {\r\n        return createPortal(element, self.elt);\r\n      }\r\n      return element;\r\n    };\r\n};\r\n\r\nexport default useDraggableInPortal;\r\n","import useDraggableInPortal from \"hooks/useDraggableInPortal\";\r\nimport { DragDropContext, Droppable, Draggable, DropResult } from \"react-beautiful-dnd\";\r\nimport { useRef } from \"react\";\r\n\r\ninterface DraggableListProps {\r\n  onDragEnd: (val: DropResult) => void;\r\n  Item: React.FC<any>;\r\n  items: any[];\r\n  containerClassName: string;\r\n}\r\n\r\nconst DraggableList: React.FC<DraggableListProps> = ({\r\n  onDragEnd,\r\n  Item,\r\n  items,\r\n  containerClassName,\r\n}) => {\r\n  const renderDraggable = useDraggableInPortal();\r\n  const uniqid = useRef<number>(Math.random());\r\n\r\n  const formatId = (keyword: string, index: number) => {\r\n    return `${keyword}-${index}-${uniqid.current}`;\r\n  };\r\n\r\n  return (\r\n    <DragDropContext onDragEnd={onDragEnd}>\r\n      <Droppable droppableId=\"droppable-sub\">\r\n        {(provided) => (\r\n          <div className={containerClassName} {...provided.droppableProps} ref={provided.innerRef}>\r\n            {items.map((x, i) => {\r\n              return (\r\n                <Draggable\r\n                  key={formatId(\"draggable\", i)}\r\n                  draggableId={formatId(\"draggable\", i)}\r\n                  index={i}\r\n                >\r\n                  {renderDraggable((provided: any) => (\r\n                    <div\r\n                      ref={provided.innerRef}\r\n                      {...provided.draggableProps}\r\n                      {...provided.dragHandleProps}\r\n                    >\r\n                      <Item {...x} index={i}></Item>\r\n                    </div>\r\n                  ))}\r\n                </Draggable>\r\n              );\r\n            })}\r\n            {provided.placeholder}\r\n          </div>\r\n        )}\r\n      </Droppable>\r\n    </DragDropContext>\r\n  );\r\n};\r\n\r\nexport default DraggableList;\r\n","import Button from \"components/Button\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport Edit from \"@material-ui/icons/EditRounded\";\r\nimport Select from \"components/Select\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport AddRounded from \"@material-ui/icons/AddRounded\";\r\nimport SearchRounded from \"@material-ui/icons/SearchRounded\";\r\n\r\nexport interface SettingsPageProps {\r\n  entity: string;\r\n  enitityPlural: string;\r\n  onAddEntity?: () => void;\r\n  entities: { name: string; docId: string }[];\r\n  onSelectEntity: (id: string) => void;\r\n  entityButtons: ReactElement;\r\n  onInvokeEntityEdit?: () => void;\r\n  entityContent: ReactElement;\r\n  selectedEntityId: string;\r\n}\r\n\r\nexport const reorder = (list: any[], startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n\r\n  return result;\r\n};\r\n\r\nconst SettingsPage: React.FC<SettingsPageProps> = React.memo(\r\n  ({\r\n    entity,\r\n    enitityPlural,\r\n    onAddEntity,\r\n    entities,\r\n    onSelectEntity,\r\n    entityButtons,\r\n    onInvokeEntityEdit,\r\n    entityContent,\r\n    selectedEntityId,\r\n  }) => {\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    return (\r\n      <div className=\"h-full flex flex-col\">\r\n        <div className=\"flex flex-wrap justify-between mb-4\">\r\n          <div className=\"font-medium text-27px leading-none mb-4 mr-4 text-white capitalize\">\r\n            {enitityPlural}\r\n          </div>\r\n          {!onAddEntity ? null : (\r\n            <Button\r\n              data-testid=\"add-collection-btn\"\r\n              onClick={onAddEntity}\r\n              className=\"bg-fireck-4 hover:bg-fireck-4-hover mb-4 min-w-unset\"\r\n            >\r\n              <div className=\"flex items-center pointer-events-none h-34px\">\r\n                <AddRounded className=\"mr-2 text-lg\" fontSize=\"inherit\"></AddRounded>\r\n                <span className=\"hidden md:block\">Add {entity}</span>\r\n                <span className=\"md:hidden\">Add</span>\r\n              </div>\r\n            </Button>\r\n          )}\r\n        </div>\r\n        {!entities.length ? (\r\n          <div></div>\r\n        ) : (\r\n          <div className=\"flex flex-wrap lg:flex-nowrap w-full flex-grow\">\r\n            <div>\r\n              <div className=\"relative mr-4 hidden lg:block\" style={{ width: 180 }}>\r\n                <SearchRounded\r\n                  fontSize=\"inherit\"\r\n                  className=\"absolute text-base left-1 top-1 text-gray-500 pointer-events-none\"\r\n                ></SearchRounded>\r\n                <input\r\n                  type=\"search\"\r\n                  spellCheck={false}\r\n                  placeholder=\"Search\"\r\n                  className=\"text-white placeholder-gray-500 pl-7 hover:bg-fireck-2 focus:bg-fireck-2 w-full text-sm mb-3 px-2 border-white rounded bg-transparent outline-none focus:outline-none\"\r\n                  value={search}\r\n                  onChange={(e) => setSearch(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <SimpleBar\r\n                style={{ maxHeight: 230 }}\r\n                className=\"max-w-192px w-full flex-shrink-0 mr-4 hidden lg:block scrollbar-dark pr-3\"\r\n                autoHide={false}\r\n              >\r\n                {entities\r\n                  .filter((x) => !search || x.name.toLowerCase().includes(search.toLowerCase()))\r\n                  .map((x) => (\r\n                    <div\r\n                      data-testid={`entity-name-${x.name}`}\r\n                      onClick={() => {\r\n                        onSelectEntity(x.docId);\r\n                      }}\r\n                      key={`entity-${x.docId}`}\r\n                      className={`mb-1 capitalize truncate select-none cursor-pointer ${\r\n                        selectedEntityId === x.docId\r\n                          ? \"bg-fireck-4\"\r\n                          : \"hover:bg-fireck-1-hover text-white\"\r\n                      } rounded h-28px leading-28px px-3`}\r\n                    >\r\n                      {x.name}\r\n                    </div>\r\n                  ))}\r\n              </SimpleBar>\r\n            </div>\r\n\r\n            <div className=\"lg:flex-grow w-full rounded-lg md:bg-fireck-3 md:p-7 flex flex-col\">\r\n              <div className=\"flex justify-between mb-3 flex-wrap\">\r\n                <div className=\"font-medium text-22px capitalize mb-3 mr-3 text-white\">\r\n                  <span className=\"hidden lg:inline-block\">\r\n                    {entities.find((x) => x.docId === selectedEntityId)?.name || \"\"}\r\n                  </span>\r\n                  <div className=\"lg:hidden inline-block text-black text-base\">\r\n                    <Select\r\n                      className=\"h-28px\"\r\n                      groundColor=\"black\"\r\n                      onChange={(e) => onSelectEntity(e.target.value)}\r\n                      value={selectedEntityId}\r\n                      options={entities.map((x) => ({ label: x.name, value: x.docId }))}\r\n                    ></Select>\r\n                  </div>\r\n                  {!onInvokeEntityEdit ? null : (\r\n                    <Edit\r\n                      data-testid=\"edit-collection-btn\"\r\n                      onClick={onInvokeEntityEdit}\r\n                      className=\"ml-3 text-lg cursor-pointer\"\r\n                      fontSize=\"inherit\"\r\n                    ></Edit>\r\n                  )}\r\n                </div>\r\n                {entityButtons}\r\n              </div>\r\n\r\n              <div className=\"flex-grow h-0\">{entityContent}</div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default SettingsPage;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'SearchRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z\"\n}), 'EditOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z\"\n}), 'DeleteOutlineOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 7c-.55 0-1 .45-1 1v3H8c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V8c0-.55-.45-1-1-1zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'AddCircleOutlineRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'DragIndicatorRounded');\n\nexports.default = _default;"],"sourceRoot":""}