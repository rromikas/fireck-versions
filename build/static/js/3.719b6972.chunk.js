(this["webpackJsonpfireck-cms"]=this["webpackJsonpfireck-cms"]||[]).push([[3,9],{844:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(14),c=n(34),a=n.n(c),o=(n(0),n(37)),l=n(33),i=n(99),s=n(250),u=n(65),d=n(2);function f(e){var t=e.Component,n=e.props;return new Promise((function(e,c){var f,j=null===(f=document.getElementById("root"))||void 0===f?void 0:f.appendChild(document.createElement("div"));j&&a.a.render(Object(d.jsx)(o.a,{store:l.a,children:Object(d.jsx)(i.a,{children:Object(d.jsx)(s.QueryClientProvider,{client:u.queryClient,children:Object(d.jsx)(t,Object(r.a)(Object(r.a)({},n),{},{proceed:function(t){var n;a.a.unmountComponentAtNode(j),null===(n=j.parentNode)||void 0===n||n.removeChild(j),e(t)}}))})})}),j)}))}},845:function(e,t,n){"use strict";var r=n(5),c=n(189),a=n(14),o=n(857),l=n(788),i=n(0),s=n.n(i),u=n(114),d=n.n(u),f=n(2),j=["className","options","error","ground"],b=s.a.forwardRef((function(e,t){return Object(f.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{ref:t,children:Object(f.jsx)(o.a,{className:"text-red-FF0000",size:20})}))})),p=function(e){var t=e.className,n=void 0===t?"":t,o=e.options,i=e.error,s=e.ground,u=Object(c.a)(e,j),p="input".concat(s,"TextColor input").concat(s,"HoverBackground input").concat(s,"FocusedTextColor input").concat(s,"FocusedBackground input").concat(s,"FocusedBorderColor input").concat(s,"Background");return Object(f.jsxs)("div",{className:"".concat(n," relative flex items-center"),children:[Object(f.jsx)("select",Object(a.a)(Object(a.a)({className:d()("px-3 h-full border-2 border-solid w-full rounded outline-none",Object(r.a)({"border-red-FF0000":i},p,!i))},u),{},{spellCheck:!1,children:o.map((function(e,t){return Object(f.jsx)("option",{"data-testid":"select-option-".concat(e.value),value:e.value,children:e.label},"opt-"+t)}))})),i?Object(f.jsx)(l.a,{title:i,placement:"top",children:Object(f.jsx)(b,{className:"absolute right-2 my-auto w-auto"})}):null]})};t.a=Object(i.memo)(p)},846:function(e,t,n){"use strict";var r=n(14),c=n(0),a=n.n(c),o=n(326),l=n.n(o),i=n(788),s=n(114),u=n.n(s),d=n(2),f=a.a.forwardRef((function(e,t){return Object(d.jsx)("div",Object(r.a)(Object(r.a)({},e),{},{ref:t,children:Object(d.jsx)(l.a,{className:"text-red-500 text-xl",fontSize:"inherit"})}))}));t.a=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,c=e.error,a=e.ground;return Object(d.jsxs)("div",{className:u()("flex justify-between relative ".concat(n),"".concat(a.toLowerCase(),"TextColor")),children:[Object(d.jsx)("div",{children:r}),c?Object(d.jsx)(i.a,{title:c,placement:"top",classes:{tooltip:"bg-red-500",tooltipArrow:"bg-red-500"},children:Object(d.jsx)(f,{className:"absolute right-2 my-auto w-auto"})}):null]})}},847:function(e,t,n){"use strict";var r=n(19),c=n(1),a=n.n(c),o=n(4),l=n(12),i=n(849),s=n(0),u=n.n(s),d=n(854),f=n.n(d),j=n(35),b=n(191),p=n(848),m=n(57),x=n(190),h=n(114),v=n.n(h),O=n(14),g=n(99),w=(n(844),n(2)),y=n(250),N=n(52),C=function(e){var t=e.collectionId,n=e.filters,c=void 0===n?[]:n,a=e.orderBy,o=e.inView,l=(Object(g.b)(),Object(s.useCallback)((function(){var e={collectionId:t,where:"",orderBy:""};return c.forEach((function(t,n){e.where+=(n>0?";":"")+t.fieldId+","+t.operator+","+t.value,a&&a.fieldId!==t.fieldId&&(e.orderBy+=(e.orderBy?";":"")+t.fieldId)})),a&&(e.orderBy+=(e.orderBy?";":"")+"".concat(a.fieldId,",").concat(a.direction)),a||c.length||(e.orderBy="createdAt,asc"),e.populateRef=!1,e}),[a,c,t])),i=Object(y.useInfiniteQuery)([t,a,c],(function(e){var t=e.pageParam;return N.a.getCollection(Object(O.a)(Object(O.a)({},l()),{},{startAfter:t}))}),{keepPreviousData:!0,getNextPageParam:function(e,t){var n=(null===e||void 0===e?void 0:e.length)&&10===e.length?e[9]:null;return n?n[a?a.fieldId:"createdAt"]:void 0}}),u=i.data,d=(i.error,i.fetchNextPage),f=i.hasNextPage;return Object(s.useEffect)((function(){o&&f&&d()}),[o,d,f]),{docs:(null===u||void 0===u?void 0:u.pages.reduce((function(e,t){return[].concat(Object(r.a)(e),Object(r.a)(t))}),[]))||[]}},k=n(324),S=n(1028),B=n(853),I=n.n(B),T=n(251),D=n(69);t.a=function(e){var t=e.collectionType,n=e.onPick,c=e.blackList,d=void 0===c?[]:c,h=e.singleSelect,O=void 0!==h&&h,g=e.valueFormatters,y=e.ground,N=e.filters,B=void 0===N?[]:N,E=e.onEdit,F=e.hideFilters,P=void 0!==F&&F,V=Object(j.k)(),z=u.a.useState([]),M=Object(l.a)(z,2),H=M[0],L=M[1],R=t.fields.filter((function(e){return e.displayOnTable})),A=u.a.useState([]),J=Object(l.a)(A,2),W=J[0],U=J[1],Z=u.a.useState(),_=Object(l.a)(Z,2),Y=_[0],G=_[1],q=u.a.useState(!1),Q=Object(l.a)(q,2),K=Q[0],X=Q[1],$=C({collectionId:t.id,filters:H,orderBy:Y,inView:K}).docs,ee=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)({confirmation:"Delete ".concat(W.length," documents?")});case 2:if(!e.sent){e.next=5;break}T.a.deleteMultipleDocuments(t.id,$.filter((function(e){return W.includes(e.docId)}))),U([]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=E||function(e){V.push("/collections/".concat(t.id,"/edit/").concat(e.docId))},ne=function(e){return(null===Y||void 0===Y?void 0:Y.fieldId)!==e.id?function(){G({fieldId:e.id,direction:"asc"})}:"asc"!==(null===Y||void 0===Y?void 0:Y.direction)?function(){return G(void 0)}:function(){return G({fieldId:e.id,direction:"desc"})}},re=function(e,t){U(t?O?[e]:function(t){return[].concat(Object(r.a)(t),[e])}:function(t){var n=Object(r.a)(t),c=n.findIndex((function(t){return t===e}));return null!=c&&n.splice(c,1),n})},ce=function(e,t){return"date"===e.type?I()(t).format("YYYY-MM-DD HH:mm"):g&&e.id in g?g[e.id](t):t.toString().substring(0,40)};return Object(s.useEffect)((function(){B.length&&L((function(e){return[].concat(Object(r.a)(e),Object(r.a)(B))}))}),[B]),Object(w.jsxs)("div",{className:"h-full w-full flex-col flex",children:[Object(w.jsxs)("div",{className:"flex justify-between mb-3",children:[P?null:Object(w.jsxs)("div",{className:"flex flex-wrap",children:[Object(w.jsx)(p.a,{ground:y,collectionType:t,onValue:function(e){return L((function(t){return[e].concat(Object(r.a)(t))}))}}),H.map((function(e,t){return e.hidden?null:Object(w.jsxs)("div",{className:v()("rounded min-h-28px border leading-28px pl-3 text-sm pr-3 flex mr-3 mb-3 relative","".concat(Object(D.d)(y),"TextColor ").concat(Object(D.d)(y),"BorderColor")),children:[e.fieldId," ",e.operator," ",e.value," ",Object(w.jsx)("span",{onClick:function(){return L((function(e){var n=Object(r.a)(e);return n.splice(t,1),n}))},className:"text-xs leading-28px ml-3 cursor-pointer",children:"\u2715"})]},"f-".concat(t))}))]}),n?Object(w.jsx)(m.a,{onClick:function(){return n($.filter((function(e){return W.includes(e.docId)})))},className:"h-28px min-w-unset rounded mb-3 px-7 ".concat(0===W.length?"buttonDisabledBackground buttonDisabledTextColor cursor-default":"primaryBackground buttonPrimaryTextColor"," "),children:"Select"}):Object(w.jsx)(m.a,{onClick:ee,disabled:0===W.length,className:"px-7 mb-3 min-w-unset rounded h-28px ".concat(0===W.length?"buttonDisabledBackground buttonDisabledTextColor cursor-default":"dangerBackground buttonDangerTextColor"," "),children:"Delete"})]}),Object(w.jsx)("div",{className:v()("flex-grow h-0 -mt-3 rounded overflow-hidden bg-white"),children:Object(w.jsxs)(x.a,{className:"relative table".concat(y,"Scrollbar h-full"),children:[Object(w.jsxs)("table",{className:"w-full text-center",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"whitespace-nowrap",children:[Object(w.jsx)("th",{className:"sticky top-0 table".concat(y,"HeaderBackground z-10 px-1"),children:O?null:Object(w.jsx)(S.a,{size:"small",classes:{checked:"tableCheckboxTextColor",root:"p-0"},checked:W.length===$.length,onChange:function(e){return t=e.target.checked,U(t?$.map((function(e){return e.docId})):[]);var t}})}),R.map((function(e,t){return Object(w.jsx)("th",{className:"font-medium sticky top-0 table".concat(y,"HeaderBackground"),children:Object(w.jsxs)("div",{className:"flex items-center justify-center",children:[Object(w.jsx)("div",{className:"w-5"}),Object(w.jsx)("div",{className:"cursor-pointer select-none",onClick:ne(e),children:e.id}),Object(w.jsx)("div",{className:"w-5",children:(null===Y||void 0===Y?void 0:Y.fieldId)===e.id?Object(w.jsx)(f.a,{fontSize:"small",className:"".concat("asc"===(null===Y||void 0===Y?void 0:Y.direction)?"transform rotate-180":"")}):null})]})},"th-".concat(t))}))]})}),Object(w.jsxs)("tbody",{children:[$.map((function(e,t){return d.includes(e.docId)?null:Object(w.jsxs)("tr",{onClick:function(){return n?re(e.docId,!W.includes(e.docId)):te(e)},className:"cursor-pointer table".concat(y,"RowHoverTextColor table").concat(y,"RowHoverBackground"),children:[Object(w.jsx)("td",{className:"px-1",onClick:function(e){return e.stopPropagation()},children:Object(w.jsx)(S.a,{size:"small",classes:{checked:"tableCheckboxTextColor",root:"p-0"},checked:W.includes(e.docId),onChange:function(t){return re(e.docId,t.target.checked)}})}),R.map((function(n,r){return Object(w.jsx)("td",{className:"px-2",children:null!=e[n.id]?"media"===n.type?n.mediaSingle?Object(w.jsx)(i.a,{file:e[n.id]}):Object(w.jsx)(i.a,{files:e[n.id]}):Object(w.jsx)("div",{className:"whitespace-nowrap",children:ce(n,e[n.id])}):null},"row-".concat(t,"-col-").concat(r))}))]},"row-".concat(t))})),Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:R.length+1,children:Object(w.jsx)(k.a,{onChange:function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(w.jsx)("div",{className:"w-full"})})})})]})]}),Object(w.jsx)("div",{})]})})]})}},848:function(e,t,n){"use strict";var r=n(19),c=n(1),a=n.n(c),o=n(4),l=n(12),i=n(837),s=n(115),u=n(845),d=n(57),f=n(0),j=n.n(f),b=n(192),p=n(846),m=n(322),x=n.n(m),h=n(2);t.a=function(e){var t=e.collectionType,n=e.onValue,c=(e.ground,j.a.useState(!1)),f=Object(l.a)(c,2),m=f[0],v=f[1],O=Object(b.a)({onSubmit:function(){var e=Object(o.a)(a.a.mark((function e(t,r){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r.resetForm,n(t),v(!1),c();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),initialValues:{value:"",operator:"",fieldId:""},validate:function(e){var t={};return Object.keys(e).forEach((function(n){e[n]||(t[n]="Required")})),t}}),g=O.values,w=O.errors,y=O.handleChange,N=O.submitCount,C=O.handleSubmit,k=O.isSubmitting;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{onClick:function(){return v(!0)},className:"secondaryBackground buttonSecondaryTextColor min-w-unset flex items-center justify-center h-28px px-7 rounded text-sm mr-3 mb-3",children:"Filters"}),m?Object(h.jsx)(i.a,{open:m,children:Object(h.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex p-7",onMouseDown:function(){return v(!1)},children:Object(h.jsxs)("div",{onMouseDown:function(e){return e.stopPropagation()},className:"bg-white rounded p-7 m-auto relative animate-littlemoveup",style:{maxWidth:600},children:[Object(h.jsx)(x.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return v(!1)}}),Object(h.jsxs)("div",{className:"flex flex-wrap -mx-2 mb-4",children:[Object(h.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(h.jsx)(p.a,{ground:"Dialog",className:"mb-2",error:N>0?w.fieldId:null,children:"Field"}),Object(h.jsx)(u.a,{className:"h-34px",ground:"Dialog",name:"fieldId",onChange:y,value:g.fieldId,options:[{value:"",label:"Select"}].concat(Object(r.a)(t.fields.map((function(e){return{value:e.id,label:e.id}}))))})]}),Object(h.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(h.jsx)(p.a,{ground:"Dialog",className:"mb-2",error:N>0?w.operator:null,children:"Operator"}),Object(h.jsx)(u.a,{className:"h-34px",ground:"Dialog",name:"operator",onChange:y,value:g.operator,options:[{value:"",label:"Select"}].concat(Object(r.a)(["<","<=","==",">",">=","!=","array-contains","array-contains-any","in","not-in"].map((function(e){return{value:e,label:e}}))))})]}),Object(h.jsxs)("div",{className:"sm:w-1/3 w-full mb-3 px-2",children:[Object(h.jsx)(p.a,{ground:"Dialog",className:"mb-2 text-black",error:N>0?w.value:null,children:"Value"}),Object(h.jsx)(s.a,{onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),C())},ground:"Dialog",placeholder:["in","not in","array-contains-any"].includes(g.operator)?"value, value, value":"value",className:"placeholder-black h-34px",value:g.value,onChange:y,name:"value"})]})]}),Object(h.jsx)("div",{className:"flex justify-end",children:Object(h.jsx)(d.a,{disabled:k,onClick:function(){return C()},className:"primaryBackground buttonPrimaryTextColor h-28px min-w-unset px-8",children:"Add"})})]})})}):null]})}},849:function(e,t,n){"use strict";var r=n(0),c=n.n(r),a=n(14),o=n(2),l=Object(r.forwardRef)((function(e,t){return Object(o.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{ref:t}))})),i=n(788),s=function(e){var t=e.src;return Object(o.jsx)(i.a,{arrow:!0,title:Object(o.jsx)("div",{className:"p-1",children:Object(o.jsx)("img",{src:t,className:"max-w-136px max-h-136px w-auto h-auto",alt:""})}),placement:"top",classes:{tooltip:"font-poppins text-xs p-0 rounded bg-white shadow-md",arrow:"text-white"},children:Object(o.jsx)(l,{children:Object(o.jsx)("div",{onClick:function(e){e.stopPropagation(),window.open(t,"_blank")},className:"group w-4 h-4 relative flex items-center justify-center rounded hover:bg-gray-535371 hover:bg-opacity-5 cursor-pointer",children:Object(o.jsx)("div",{className:"relative w-4 h-4 rounded-full bg-center bg-cover pointer-events-none",style:{backgroundImage:"url(".concat(t,")")}})})})})};t.a=function(e){var t=e.files,n=e.file,r=c.a.useRef(Math.random());return Object(o.jsxs)("div",{className:"flex justify-center",children:[(t||(n?[n]:[])).slice(0,4).map((function(e,t){return Object(o.jsx)("div",{className:"mr-0.5",children:Object(o.jsx)(s,{src:e})},"".concat(r,"-file-").concat(t))})),t&&t.length>4?Object(o.jsx)("div",{className:"relative",children:Object(o.jsxs)("div",{className:"w-4 h-4 rounded-full bg-fireck-4 text-10px flex items-center justify-center",children:[t.length-4,"+"]})}):null]})}},855:function(e,t,n){"use strict";n.d(t,"a",(function(){return an}));var r,c=n(14),a=n(2),o=function(e){return Object(a.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{className:"w-8 rounded h-5 primaryBackground text-center flex justify-center items-center text-10px font-medium"}))},l=function(){return Object(a.jsx)(o,{children:"Ab"})},i=function(){return Object(a.jsx)(o,{children:"123"})},s=function(){return Object(a.jsx)(o,{children:"{ }"})},u=function(){return Object(a.jsx)(o,{children:"[ ]"})},d=n(888),f=n.n(d),j=function(){return Object(a.jsx)(o,{children:Object(a.jsx)(f.a,{fontSize:"inherit",className:"text-lg"})})},b=n(889),p=n.n(b),m=function(){return Object(a.jsx)(o,{children:Object(a.jsx)(p.a,{fontSize:"inherit",className:"text-sm"})})},x=n(890),h=n.n(x),v=function(){return Object(a.jsx)(o,{children:Object(a.jsx)(h.a,{fontSize:"inherit",className:"text-base"})})},O=n(891),g=n.n(O),w=function(){return Object(a.jsx)(o,{children:Object(a.jsx)(g.a,{fontSize:"inherit",className:"text-base"})})},y=function(){return Object(a.jsx)(o,{children:Object(a.jsx)("span",{className:"text-10px",children:"JSON"})})},N=n(892),C=n.n(N),k=function(){return Object(a.jsx)(o,{children:Object(a.jsx)(C.a,{fontSize:"inherit",className:"text-xl"})})},S=n(893),B=n.n(S),I=function(){return Object(a.jsx)(o,{children:Object(a.jsx)(B.a,{fontSize:"inherit",className:"text-base"})})},T=n(894),D=n.n(T),E=function(){return Object(a.jsx)(o,{children:Object(a.jsx)(D.a,{fontSize:"inherit",className:"text-lg"})})},F=n(0),P=n.n(F),V=["title","titleId"];function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function H(e,t){var n=e.title,c=e.titleId,a=M(e,V);return F.createElement("svg",z({width:11,height:11,viewBox:"0 0 19 19",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},a),n?F.createElement("title",{id:c},n):null,r||(r=F.createElement("path",{d:"M0.570312 0.778809H6.57031V4.77881H0.570312V0.778809ZM12.5703 7.77881H18.5703V11.7788H12.5703V7.77881ZM12.5703 14.7788H18.5703V18.7788H12.5703V14.7788ZM10.5703 10.7788H4.57031V15.7788H10.5703V17.7788H4.57031H2.57031V6.77881H4.57031V8.77881H10.5703V10.7788Z",fill:"currentColor"})))}var L=F.forwardRef(H),R=(n.p,function(){return Object(a.jsx)(o,{children:Object(a.jsx)(L,{className:"m-auto"})})}),A=n(895),J=n.n(A),W=function(){return Object(a.jsx)(o,{children:Object(a.jsx)(J.a,{fontSize:"inherit",className:"text-base"})})},U=n(115),Z=n(189),_=n(114),Y=n.n(_),G=["className","ground"],q=function(e){var t=e.className,n=void 0===t?"":t,r=e.ground,o=Object(Z.a)(e,G);return Object(a.jsx)("textarea",Object(c.a)(Object(c.a)({},o),{},{className:Y()("border-2 rounded px-3 py-2 w-full min-h-208px outline-none",n,"input".concat(r,"Background input").concat(r,"HoverBackground input").concat(r,"HoverTextColor input").concat(r,"FocusedBorderColor input").concat(r,"FocusedBackground input").concat(r,"FocusedTextColor"))}))},Q=Object(F.memo)(q),K=function(e){var t=e.field,n=e.ground,r=e.value,c=e.onValue,o=e.name;return t.stringLong?Object(a.jsx)(Q,{ground:n,value:r,onChange:function(e){return c(e.target.value)},name:o}):Object(a.jsx)(U.a,{ground:n,className:"h-28px",type:"text",value:r,name:o,onChange:function(e){return c(e.target.value)}})},X=n(12),$=n(871);n(872),n(873),n(874),n(875),n(876),n(877);n(896);var ee=n(897);window.jsonlint=ee;var te,ne,re=function(e){var t=e.value,n=e.onChange,r=Object(F.useState)(),c=Object(X.a)(r,2),o=c[0],l=c[1];return Object(F.useEffect)((function(){if(!o&&t){var e;try{e=JSON.stringify(t)}catch(n){e=t.toString()}console.log("str and val",e,t),l(e)}}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("style",{children:".CodeMirror{\n          height: 100% !important;\n      }"}),Object(a.jsx)($.UnControlled,{value:o,className:"rounded overflow-auto h-208px",options:{mode:"application/json",theme:"material",lineNumbers:!0,autoCloseBrackets:!0,lint:!0,gutters:["CodeMirror-lint-markers"]},onChange:function(e,t,r){var c;try{c=JSON.parse(r)}catch(a){c=r}n(c)}})]})},ce=Object(F.memo)(re),ae=function(e){var t=e.value,n=e.onValue;return Object(a.jsx)(ce,{value:t,onChange:n})},oe=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name;return Object(a.jsx)(U.a,{ground:r,className:"h-28px",type:"number",name:c,onChange:function(e){return n(e.target.value)},value:t})},le=function(e){var t=e.value,n=e.onChange,r=e.ground;return Object(a.jsx)("div",{onClick:function(){return n(!t)},className:"h-28px w-16 relative transition-all flex items-center rounded-full cursor-pointer ".concat(t?"primaryBackground ":"input".concat(r,"Background")),children:Object(a.jsx)("div",{className:"p-1",children:Object(a.jsx)("div",{className:"w-6 h-6 relative rounded-full bg-white transition transform ".concat(t?"translate-x-8":"tenslate-x-0")})})})},ie=Object(F.memo)(le),se=function(e){var t=e.value,n=e.onValue,r=e.ground;return Object(a.jsx)(ie,{ground:r,value:t,onChange:function(e){return n(e)}})},ue=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name;return Object(a.jsx)(U.a,{ground:r,className:"h-28px",type:"date",name:c,onChange:function(e){return n(e.target.value)},value:t})},de=n(1),fe=n.n(de),je=n(19),be=n(4),pe=n(902),me=n.n(pe),xe=n(903),he=n.n(xe),ve=n(858),Oe=n.n(ve),ge=n(901),we=n.n(ge),ye=n(838),Ne=n(844),Ce=n(27),ke=n(52),Se=n(57),Be=n(898),Ie=n.n(Be),Te=n(324),De=n(37),Ee=n(847),Fe=n(862),Pe=n(322),Ve=n.n(Pe),ze=function(e){var t=e.multiple,n=void 0!==t&&t,r=e.proceed,c=P.a.useRef(null),o=P.a.useRef(null),l=P.a.useState(!1),i=Object(X.a)(l,2),s=(i[0],i[1]),u=P.a.useState(!1),d=Object(X.a)(u,2),f=d[0],j=d[1],b=P.a.useState(0),p=Object(X.a)(b,2),m=p[0],x=p[1],h=Object(De.e)((function(e){return{collectionType:e.collectionTypes.find((function(e){return"FilesReservedCollection"===e.id}))}})).collectionType;return Object(a.jsx)("div",{className:"fixed z-30 left-0 top-0 w-full h-full flex overflow-auto dialogOuterBackground",children:Object(a.jsxs)("div",{className:"m-auto p-8 rounded dialogBackground dialogTextColor max-w-846px w-full max-h-552px h-full relative flex-col flex animate-littlemoveup",children:[f?null:Object(a.jsx)(ye.a,{className:"z-30 absolute shadow-2xl outline-none right-6 bottom-3 w-34px h-34px rounded flex cursor-pointer text-black bg-orange-300 hover:bg-orange-301 items-center justify-center",onClick:function(){return o.current.scrollIntoView({behavior:"smooth"})},children:Object(a.jsx)(Ie.a,{})}),Object(a.jsx)(Ve.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return r(!1)}}),Object(a.jsx)(Te.a,{onChange:function(e){return j(e)},children:Object(a.jsx)("div",{ref:o})}),Object(a.jsxs)("div",{className:"flex justify-between flex-wrap mb-7",children:[Object(a.jsx)("div",{className:"font-medium text-2xl leading-none mb-4 mr-4",children:"Select file"}),Object(a.jsx)("input",{type:"file",multiple:!0,className:"hidden",ref:c,onChange:function(){var e=Object(be.a)(fe.a.mark((function e(t){var n,r,c,a,o;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files)||!n.length){e.next=26;break}s("Uploading ".concat(n.length," file").concat(n.length>1?"s":"","...")),r=0,c=Object(Ce.a)(n),e.prev=5,c.s();case 7:if((a=c.n()).done){e.next=16;break}return o=a.value,e.next=11,ke.a.uploadFile(o);case 11:e.sent,r++,s("".concat(r,"/").concat(n.length," uploaded."));case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:x((function(e){return e+1})),s(!1);case 26:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})));return function(t){return e.apply(this,arguments)}}()}),Object(a.jsx)(Se.a,{onClick:function(){return c.current.click()},className:"primaryBackground buttonPrimaryTextColor h-28px mb-4 min-w-unset pl-2.5",children:Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(Oe.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(a.jsx)("span",{children:"Upload"})]})})]}),Object(a.jsx)("div",{className:"flex-grow h-0",children:h?Object(a.jsx)(Ee.a,{ground:"Dialog",onPick:function(e){r(n?e.map((function(e){return e.url})):e[0].url)},singleSelect:!n,collectionType:h,valueFormatters:Fe.MediaDocumentFormatters},"media-table-".concat(m)):null})]})})},Me=ze,He=n(899),Le=n.n(He),Re=n(900),Ae=n.n(Re),Je=n(859),We=n.n(Je),Ue=n(870),Ze=function(e){var t=e.selectedFiles,n=e.setSelectedFiles,r=e.onClose;return Object(a.jsx)("div",{className:"fixed z-30 left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40 p-7",onMouseDown:r,children:Object(a.jsxs)("div",{onMouseDown:function(e){return e.stopPropagation()},className:"m-auto rounded bg-white max-w-552px w-full max-h-552px relative flex-col flex animate-littlemoveup",children:[Object(a.jsx)(Ve.a,{className:"absolute right-0 top-0 cursor-pointer",onClick:r}),Object(a.jsxs)("div",{className:"flex justify-between flex-wrap mb-4 px-9 pt-9 flex-shrink-0",children:[Object(a.jsx)("div",{className:"font-medium text-2xl mr-4 mb-4",children:"Reorder files"}),Object(a.jsx)(Se.a,{className:"mb-4 bg-fireck-4 hover:bg-fireck-4-hover",onClick:r,children:"Finish"})]}),Object(a.jsx)(Ue.a,{onDragEnd:function(e){if(e.destination){var r=function(e,t,n){var r=Array.from(e),c=r.splice(t,1),a=Object(X.a)(c,1)[0];return r.splice(n,0,a),r}(t,e.source.index,e.destination.index);n(r)}},containerClassName:"px-9 pb-9 flex-grow overflow-auto",items:t.map((function(e){return{item:e}})),Item:function(e){var r=e.item,c=e.index;return Object(a.jsx)("div",{className:"pb-3",children:Object(a.jsxs)("div",{className:"bg-gray-300 flex items-center rounded p-2 justify-between",children:[Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(Le.a,{className:"mr-4"}),Object(a.jsx)("div",{className:"bg-fireck-5 rounded",children:Object(a.jsx)("div",{className:"bg-center bg-cover bg-no-repeat w-11 h-11",style:{backgroundImage:"url(".concat(r,")")}})})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(ye.a,{onClick:function(){return window.open(r,"_blank")},className:"outline-none mr-2 h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover",children:Object(a.jsx)(Ae.a,{fontSize:"small"})}),Object(a.jsx)(ye.a,{className:"outline-none h-26px w-26px rounded bg-fireck-4 hover:bg-fireck-4-hover",children:Object(a.jsx)(We.a,{fontSize:"small",onClick:function(){var e=Object(je.a)(t);e.splice(c,1),n(e)}})})]})]})})}})]})})},_e=n(837),Ye=["title","titleId"];function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Qe(e,t){var n=e.title,r=e.titleId,c=qe(e,Ye);return F.createElement("svg",Ge({width:42,height:42,viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?F.createElement("title",{id:r},n):null,te||(te=F.createElement("path",{d:"M35.0859 0.75H7.58594C5.76257 0.75 4.01389 1.47433 2.72458 2.76364C1.43527 4.05295 0.710938 5.80164 0.710938 7.625V35.125C0.710938 36.9484 1.43527 38.697 2.72458 39.9864C4.01389 41.2757 5.76257 42 7.58594 42H35.0859C36.9093 42 38.658 41.2757 39.9473 39.9864C41.2366 38.697 41.9609 36.9484 41.9609 35.125V7.625C41.9609 5.80164 41.2366 4.05295 39.9473 2.76364C38.658 1.47433 36.9093 0.75 35.0859 0.75ZM7.58594 5.33333H35.0859C35.6937 5.33333 36.2766 5.57478 36.7064 6.00455C37.1362 6.43432 37.3776 7.01721 37.3776 7.625V26.7833L30.0443 20.5271C28.9081 19.5922 27.4823 19.081 26.0109 19.081C24.5395 19.081 23.1138 19.5922 21.9776 20.5271L5.29427 34.4375V7.625C5.29427 7.01721 5.53571 6.43432 5.96549 6.00455C6.39526 5.57478 6.97815 5.33333 7.58594 5.33333V5.33333Z",fill:"currentColor"})),ne||(ne=F.createElement("path",{d:"M12.1694 16.7915C14.0679 16.7915 15.6069 15.2525 15.6069 13.354C15.6069 11.4555 14.0679 9.9165 12.1694 9.9165C10.271 9.9165 8.73193 11.4555 8.73193 13.354C8.73193 15.2525 10.271 16.7915 12.1694 16.7915Z",fill:"currentColor"})))}var Ke,Xe=F.forwardRef(Qe),$e=(n.p,function(e){var t=e.selectedFiles,n=e.setSelectedFiles,r=e.ground,c=P.a.useState(0),o=Object(X.a)(c,2),l=o[0],i=o[1],s=P.a.useState(!1),u=Object(X.a)(s,2),d=u[0],f=u[1],j=function(){var e=Object(be.a)(fe.a.mark((function e(){var r,c;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.a)({Component:Me,props:{multiple:!0}});case 2:"boolean"!==typeof(r=e.sent)&&(c=Object(je.a)(t),n([].concat(Object(je.a)(r),Object(je.a)(c))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"h-208px input".concat(r,"Background rounded-md relative"),children:[t.length?null:Object(a.jsx)("div",{className:"flex w-full h-full cursor-pointer relative z-10",onClick:j,children:Object(a.jsxs)("div",{className:"m-auto flex items-center",children:[Object(a.jsx)(Xe,{className:"text-39px mr-3 primaryTextColor",fontSize:"inherit"}),Object(a.jsx)("div",{children:"Upload multiple files"})]})}),t.map((function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"absolute left-0 top-0 w-full h-full bg-center bg-contain bg-no-repeat ".concat(t!==l?"hidden":""),style:{backgroundImage:"url(".concat(e,")")}}),Object(a.jsx)("img",{src:e,alt:"",className:"hidden"})]})})),t.length?Object(a.jsx)("div",{className:"absolute left-0 top-0 w-full h-full",children:Object(a.jsxs)("div",{className:"relative flex items-center justify-between h-full",children:[Object(a.jsx)("div",{className:"absolute left-0 top-0 p-3",children:Object(a.jsxs)("div",{className:"h-26px rounded primaryBackground px-3 text-sm leading-26px",children:[l+1,"/",t.length]})}),Object(a.jsxs)("div",{className:"absolute top-0 right-0 flex p-3",children:[Object(a.jsx)(ye.a,{onClick:j,className:"outline-none h-26px w-26px mr-2 rounded primaryBackground buttonPrimaryTextColor",children:Object(a.jsx)(Oe.a,{fontSize:"small"})}),Object(a.jsx)(ye.a,{onClick:function(){f(!0)},className:"outline-none h-26px w-26px rounded primaryBackground buttonPrimaryTextColor",children:Object(a.jsx)(we.a,{fontSize:"small"})}),Object(a.jsx)(_e.a,{open:d,children:Object(a.jsx)(Ze,{onClose:function(){return f(!1)},selectedFiles:t,setSelectedFiles:function(e){i(0),n(e)}})})]}),Object(a.jsx)(ye.a,{className:"primaryBackground buttonPrimaryTextColor p-4 outline-none",onClick:function(){return i((function(e){return e>0?e-1:e}))},children:Object(a.jsx)(me.a,{})}),Object(a.jsx)(ye.a,{className:"primaryBackground buttonPrimaryTextColor p-4 outline-none",onClick:function(){return i((function(e){return e<t.length-1?e+1:e}))},children:Object(a.jsx)(he.a,{})})]})}):null]})}),et=P.a.memo($e),tt=function(e){var t=e.selectedFile,n=e.setSelectedFile,r=e.ground;return Object(a.jsxs)("div",{className:"h-208px input".concat(r,"Background rounded-md relative"),children:[t?null:Object(a.jsx)("div",{className:"flex w-full h-full cursor-pointer relative z-10",onClick:Object(be.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.a)({Component:Me,props:{multiple:!1}});case 2:"boolean"!==typeof(t=e.sent)&&n(t);case 4:case"end":return e.stop()}}),e)}))),children:Object(a.jsxs)("div",{className:"m-auto flex items-center",children:[Object(a.jsx)(Xe,{className:"text-39px mr-3 primaryTextColor",fontSize:"inherit"}),Object(a.jsx)("div",{children:"Upload a file"})]})}),Object(a.jsx)("div",{className:"absolute left-0 top-0 w-full h-full bg-center bg-contain bg-no-repeat",style:{backgroundImage:"url(".concat(t,")")}}),t?Object(a.jsx)("div",{className:"absolute top-0 right-0 flex p-3",children:Object(a.jsx)(ye.a,{onClick:function(){return n("")},className:"outline-none h-26px w-26px rounded primaryBackground buttonPrimaryTextColor",children:Object(a.jsx)(We.a,{fontSize:"small"})})}):null]})},nt=P.a.memo(tt),rt=function(e){var t=e.value,n=e.onValue,r=e.field,c=e.ground;return r.mediaSingle?Object(a.jsx)(nt,{ground:c,selectedFile:t,setSelectedFile:function(e){return n(e)}}):Object(a.jsx)(et,{ground:c,selectedFiles:t,setSelectedFiles:function(e){return n(e)}})},ct=n(923),at=(n(905),n(906)),ot=n.n(at),lt=function(e){var t=e.style,n=void 0===t?{}:t,r=e.onChange,c=(e.value,e.ground),o=new ot.a;return Object(F.useEffect)((function(){var e,t=document.getElementsByClassName("rc-md-editor"),n=Object(Ce.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.classList.add("input".concat(c,"Background"),"input".concat(c,"TextColor"))}}catch(r){n.e(r)}finally{n.f()}}),[c]),Object(a.jsxs)("div",{children:[Object(a.jsx)("style",{children:".rc-md-navigation .button-wrap .button {\n        background-color: white !important;\n        border-radius: 4px !important;\n        margin-bottom: 2px !important;\n        margin-top: 2px !important;\n      }\n\n      .rc-md-navigation{\n        border-bottom: none !important;\n        background-color: transparent !important;\n        margin-bottom: 4px;\n      }\n\n      .rc-md-editor{\n        border: none !important;\n        padding: 7px !important;\n        border-radius: 4px !important;\n      } \n\n      .rc-md-editor textarea{\n        background-color: transparent !important;\n        // border-radius: 4px !important;\n        overflow: auto !important;\n        border-right: 1px solid #DDDDDD !important;\n      }\n\n      \n      \n      "}),Object(a.jsx)(ct.a,{placeholder:"Type here...",onCustomImageUpload:function(e){return new Promise(function(){var e=Object(be.a)(fe.a.mark((function e(t,n){var r;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.a)({Component:Me,props:{multiple:!1}});case 2:"string"===typeof(r=e.sent)?t({url:r,text:"image"}):n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onChange:function(e){var t=e.text;return r(t)},style:n,renderHTML:function(e){return o.render(e)}})]})},it=Object(F.memo)(lt),st=function(e){var t=e.value,n=e.onValue,r=e.ground;return Object(a.jsx)(it,{ground:r,style:{height:"30vw",minHeight:400},value:t,onChange:function(e){return n(e)}})},ut=n(845),dt=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name,o=e.field;return Object(a.jsx)(ut.a,{ground:r,options:[{label:"Select",value:""}].concat(Object(je.a)(o.enumOptions.map((function(e){return{label:e,value:e}})))),name:c,onChange:function(e){return n(e.target.value)},value:t})},ft=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name;return Object(a.jsx)(U.a,{ground:r,className:"h-28px",type:"password",value:t,name:c,onChange:function(e){return n(e.target.value)}})},jt=n(863),bt=n(915),pt=n.n(bt),mt=n(864),xt=n(865),ht=n(191),vt=n(190),Ot=function(e){var t=e.value,n=e.collectionType,r=e.labelField,c=Object(F.useState)(""),o=Object(X.a)(c,2),l=o[0],i=o[1];return Object(F.useEffect)((function(){n&&Object(be.a)(fe.a.mark((function e(){var c;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.getDocument(n.id,t);case 3:(c=e.sent).error||i(c[r]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t,r,n]),Object(a.jsx)(a.Fragment,{children:l})},gt=n(69),wt=function(e){var t=e.fieldType,n=e.value,r=e.onValue,c=e.ground,o=Object(De.e)((function(e){return e.collectionTypes.find((function(e){return e.docId===t.relatedCollectionTypeDocId}))})),l=P.a.useState(!1),i=Object(X.a)(l,2),s=i[0],u=i[1];return Object(a.jsxs)("div",{className:"rounded p-5 ".concat(Object(gt.d)(c),"ContainerBackground"),children:[Object(a.jsxs)("div",{className:"flex flex-wrap justify-between",children:[Object(a.jsxs)("div",{className:"flex items-center font-medium mb-3 mr-3",children:[Object(a.jsx)(pt.a,{className:"mr-3",fontSize:"small"}),Object(a.jsx)("div",{className:"capitalize mr-3",children:null===o||void 0===o?void 0:o.name}),t.relationOneToOne?Object(a.jsx)("div",{className:"flex w-8",children:Object(a.jsx)(mt.a,{})}):Object(a.jsx)("div",{className:"flex w-8",children:Object(a.jsx)(xt.a,{})})]}),Object(a.jsx)(jt.a,{onClick:function(){return u(!0)},className:"mb-3 primaryBackground buttonPrimaryTextColor",children:Object(a.jsx)(Oe.a,{fontSize:"small"})})]}),Object(a.jsx)(_e.a,{open:s,children:Object(a.jsx)("div",{className:"fixed left-0 top-0 w-full h-full flex overflow-auto p-12 dialogOuterBackground",onMouseDown:function(){return u(!1)},children:Object(a.jsxs)("div",{className:"p-9 rounded w-full h-full flex flex-col relative dialogBackground dialogTextColor",onMouseDown:function(e){return e.stopPropagation()},children:[Object(a.jsx)("div",{className:"absolute right-0 top-0 cursor-pointer",onClick:function(){return u(!1)},children:Object(a.jsx)(Ve.a,{})}),Object(a.jsx)("div",{className:"text-27px font-medium mb-5 capitalize leading-none",children:null===o||void 0===o?void 0:o.name}),Object(a.jsx)("div",{className:"flex-grow h-0",children:o?Object(a.jsx)(Ee.a,{ground:c,collectionType:o,blackList:"string"===typeof n?[n]:n,singleSelect:"string"===typeof n,onPick:function(e){e.length&&(r("string"===typeof n?e[0].docId:[].concat(Object(je.a)(n),Object(je.a)(e.map((function(e){return e.docId}))))),u(!1))}}):null})]})})}),Object(a.jsx)("div",{className:"w-full max-h-64 overflow-auto bg-white rounded",children:"string"===typeof n?Object(a.jsxs)("div",{className:"px-1 h-28px bg-white flex items-center justify-between",children:[Object(a.jsx)("span",{children:Object(a.jsx)(Ot,{value:n,collectionType:o,labelField:t.labelField})}),n?Object(a.jsx)("div",{className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white","data-testid":"delete-for-field-".concat(t.id,"-").concat(n),onClick:Object(be.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)({confirmation:"Remove document?"});case 2:e.sent&&r("");case 4:case"end":return e.stop()}}),e)}))),children:Object(a.jsx)(We.a,{classes:{root:"pointer-events-none"},fontSize:"inherit"})}):null]}):Object(a.jsx)(vt.a,{className:"h-36 scrollbar-light scrollbar-thin",autoHide:!1,children:n.map((function(e,c){return Object(a.jsxs)("div",{className:"px-1  flex justify-between tableDialogRowHoverBackground",children:[Object(a.jsx)("div",{children:Object(a.jsx)(Ot,{value:e,collectionType:o,labelField:t.labelField})}),Object(a.jsx)("div",{className:"flex items-center flex-grow justify-end",children:Object(a.jsx)("div",{className:"h-5 w-5 flex items-center justify-center rounded cursor-pointer hover:bg-red-FF0000 hover:text-white","data-testid":"delete-for-field-".concat(t.id,"-").concat(e),onClick:Object(be.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)({confirmation:"Remove document?"});case 2:e.sent&&((t=Object(je.a)(n)).splice(c,1),r(t));case 4:case"end":return e.stop()}}),e)}))),children:Object(a.jsx)(We.a,{classes:{root:"pointer-events-none"},fontSize:"inherit"})})})]},"relation-".concat(t.id,"-docId-").concat(e))}))})})]})},yt=Object(F.memo)(wt),Nt=function(e){var t=e.value,n=e.onValue,r=e.field,c=e.ground;return Object(a.jsx)(yt,{ground:c,onValue:function(e){return n(e)},fieldType:r,value:t})},Ct=n(849),kt=n(854),St=n.n(kt),Bt=n(848),It=n(1028),Tt=n(853),Dt=n.n(Tt),Et=n(869),Ft=n(193),Pt=n.n(Ft),Vt=function(e){var t=e.fields,n=e.proceed,r=e.editableDocument,c=e.level;return Object(a.jsx)("div",{style:{padding:Math.min(30*c,90)},className:"fixed left-0 top-0 w-full h-full flex overflow-auto bg-black bg-opacity-40",onMouseDown:function(){return n(null)},children:Object(a.jsxs)("div",{className:"bg-white rounded h-full w-full p-9 relative animate-littlemoveup",onMouseDown:function(e){return e.stopPropagation()},children:[Object(a.jsx)(Pt.a,{className:"absolute top-0 right-0 cursor-pointer",onClick:function(){return n(null)}}),Object(a.jsx)(Et.a,{level:c+1,ground:"Dialog",editableDocument:r,fields:t,onSubmit:n})]})})},zt=function(e){return Object(Ne.a)({Component:Vt,props:e})},Mt=function(e){var t=e.value,n=e.onValue,r=e.valueFormatters,c=e.ground,o=e.fields,l=e.level,i=P.a.useState([]),s=Object(X.a)(i,2),u=s[0],d=s[1],f=P.a.useState([]),j=Object(X.a)(f,2),b=j[0],p=j[1],m=P.a.useState(),x=Object(X.a)(m,2),h=x[0],v=x[1],O=P.a.useState(!1),g=Object(X.a)(O,2),w=(g[0],g[1]),y=function(){var e=Object(be.a)(fe.a.mark((function e(r,c){var a,i;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt({fields:o,level:l+1,editableDocument:r});case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:(i=Object(je.a)(t))[c]=a,n(i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(be.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ht.a)({confirmation:"Delete ".concat(b.length," documents?")});case 2:if(!e.sent){e.next=5;break}n(t.filter((function(e){return!b.includes(e.docId)}))),p([]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){return(null===h||void 0===h?void 0:h.fieldId)!==e.id?function(){v({fieldId:e.id,direction:"asc"})}:"asc"!==(null===h||void 0===h?void 0:h.direction)?function(){return v(void 0)}:function(){return v({fieldId:e.id,direction:"desc"})}},k=function(e,t){return"date"===e.type?Dt()(t).format("YYYY-MM-DD hh:mm"):r&&e.id in r?r[e.id](t):t.toString().substring(0,40)};return Object(a.jsxs)("div",{className:"h-96 w-full flex-col flex",children:[Object(a.jsxs)("div",{className:"flex justify-between mb-3",children:[Object(a.jsxs)("div",{className:"flex flex-wrap",children:[Object(a.jsx)(Bt.a,{ground:c,collectionType:{fields:o},onValue:function(e){return d((function(t){return[e].concat(Object(je.a)(t))}))}}),u.map((function(e,t){return Object(a.jsxs)("div",{className:Y()("rounded min-h-28px border leading-28px pl-3 text-sm pr-3 flex mr-3 mb-3 relative","".concat(c.toLowerCase(),"TextColor ").concat(c.toLowerCase(),"BorderColor")),children:[e.fieldId," ",e.operator," ",e.value," ",Object(a.jsx)("span",{onClick:function(){return d((function(e){var n=Object(je.a)(e);return n.splice(t,1),n}))},className:"text-xs leading-28px ml-3 cursor-pointer",children:"\u2715"})]},"f-".concat(t))}))]}),Object(a.jsxs)("div",{className:"flex flex-wrap",children:[Object(a.jsx)(Se.a,{onClick:N,disabled:0===b.length,className:"px-7 mr-4 min-w-unset h-28px ".concat(0===b.length?"buttonDisabledBackground buttonDisabledTextColor cursor-default":"bg-red-FF0000 hover:bg-red-FF0000-hover text-white"," "),children:"Delete"}),Object(a.jsx)(Se.a,{onClick:Object(be.a)(fe.a.mark((function e(){var r;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt({fields:o,level:l+1});case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:n([].concat(Object(je.a)(t),[r]));case 6:case"end":return e.stop()}}),e)}))),className:"px-7 h-28px primaryBackground min-w-unset buttonPrimaryTextColor",children:"Add"})]})]}),Object(a.jsx)("div",{className:"flex-grow h-0 -mt-3 rounded overflow-hidden table".concat(c,"Background"),children:Object(a.jsxs)(vt.a,{className:"relative scrollbar-light h-full",autoHide:!1,children:[Object(a.jsxs)("table",{className:"w-full text-center",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{className:"whitespace-nowrap",children:[Object(a.jsx)("th",{className:"sticky top-0 table".concat(c,"HeaderBackground table").concat(c,"HeaderTextColor z-10 px-1"),children:Object(a.jsx)(It.a,{size:"small",classes:{checked:"tableCheckboxColor",root:"p-0"},checked:b.length===t.length,onChange:function(e){return n=e.target.checked,p(n?t.map((function(e){return e.docId})):[]);var n}})}),o.map((function(e,t){return Object(a.jsx)("th",{className:"font-semibold sticky top-0 table".concat(c,"HeaderBackground table").concat(c,"HeaderTextColor"),children:Object(a.jsxs)("div",{className:"flex items-center justify-center",children:[Object(a.jsx)("div",{className:"w-5"}),Object(a.jsx)("div",{className:"cursor-pointer select-none",onClick:C(e),children:e.id}),Object(a.jsx)("div",{className:"w-5",children:(null===h||void 0===h?void 0:h.fieldId)===e.id?Object(a.jsx)(St.a,{fontSize:"small",className:"".concat("asc"===(null===h||void 0===h?void 0:h.direction)?"transform rotate-180":"")}):null})]})},"th-".concat(t))}))]})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){return Object(a.jsxs)("tr",{onClick:function(){return y(e,t)},className:"cursor-pointer table".concat(c,"RowHoverTextColor table").concat(c,"RowHoverBackground"),children:[Object(a.jsx)("td",{className:"px-1",onClick:function(e){return e.stopPropagation()},children:Object(a.jsx)(It.a,{size:"small",classes:{checked:"tableCheckboxColor",root:"p-0"},checked:b.includes(e.docId),onChange:function(t){return n=e.docId,r=t.target.checked,void p(r?function(e){return[].concat(Object(je.a)(e),[n])}:function(e){var t=Object(je.a)(e),r=t.findIndex((function(e){return e===n}));return null!=r&&t.splice(r,1),t});var n,r}})}),o.map((function(n,r){return Object(a.jsx)("td",{className:"px-2",children:null!=e[n.id]?"media"===n.type?n.mediaSingle?Object(a.jsx)(Ct.a,{file:e[n.id]}):Object(a.jsx)(Ct.a,{files:e[n.id]}):Object(a.jsx)("div",{className:"whitespace-nowrap",children:k(n,e[n.id])}):null},"row-".concat(t,"-col-").concat(r))}))]},"row-".concat(t))}))})]}),Object(a.jsx)(Te.a,{onChange:function(){var e=Object(be.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsx)("div",{className:"w-full"})}),Object(a.jsx)("div",{})]})})]})},Ht=P.a.memo(Mt),Lt=function(e){var t=e.value,n=e.onValue,r=e.level,c=e.field,o=e.ground;return Object(a.jsx)(Ht,{level:r,value:t,onValue:function(e){return n(e)},fields:c.collectionFields,ground:o})},Rt=function(e){try{if("function"!==typeof JSON.parse(JSON.stringify(e)).map)throw new Error("object is not an array")}catch(t){return"Wrong format"}return null},At=function(e){try{var t=JSON.parse(JSON.stringify(e));if("string"===typeof t||"function"===typeof t.map)throw new Error("object is not a map")}catch(n){return"Wrong format"}return null},Jt=function(e){try{if("string"===typeof JSON.parse(JSON.stringify(e)))throw new Error("object is not a map")}catch(t){return"Wrong format"}return null},Wt=function(){return null},Ut=function(e){var t=e.value,n=e.onValue,r=e.ground,c=e.name,o=Object(F.useState)(""),l=Object(X.a)(o,2),i=l[0],s=l[1],u=function(){var e=Object(be.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(window.location.origin+"/auth/createPassword",{method:"POST",body:JSON.stringify(i)}).then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t.error?null:t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.useEffect)((function(){s(t)}),[t]),Object(a.jsxs)("div",{className:"w-full relative flex",children:[Object(a.jsx)("div",{className:"flex-grow",children:Object(a.jsx)(U.a,{disabled:t,onBlur:function(){},ground:r,className:"h-28px",type:"password",value:i,name:c,onChange:function(e){return s(e.target.value)}})}),Object(a.jsx)("div",{className:"ml-1 select-none font-medium",children:t?Object(a.jsx)("div",{onClick:function(){return n("")},className:"h-28px leading-28px text-xs rounded bg-red-FF0000 hover:bg-red-FF0000-hover text-white cursor-pointer px-3",children:"Clear"}):Object(a.jsx)("div",{onClick:Object(be.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)}))),className:"h-28px leading-28px text-xs rounded primaryBackground buttonPrimaryTextColor cursor-pointer px-3",children:"Save"})})]})},Zt=function(e){return e?null:"Required"},_t=["title","titleId"];function Yt(){return Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yt.apply(this,arguments)}function Gt(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function qt(e,t){var n=e.title,r=e.titleId,c=Gt(e,_t);return F.createElement("svg",Yt({width:19,height:18,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?F.createElement("title",{id:r},n):null,Ke||(Ke=F.createElement("path",{d:"M16.0025 12C16.0025 12 14.0025 14.17 14.0025 15.5C14.0025 16.0304 14.2132 16.5391 14.5883 16.9142C14.9634 17.2893 15.4721 17.5 16.0025 17.5C16.5329 17.5 17.0416 17.2893 17.4167 16.9142C17.7918 16.5391 18.0025 16.0304 18.0025 15.5C18.0025 14.17 16.0025 12 16.0025 12ZM2.2125 10.5L7.0025 5.71L11.7925 10.5H2.2125ZM13.5625 9.44L4.6225 0.5L3.2125 1.91L5.5925 4.29L0.4425 9.44C-0.1475 10 -0.1475 10.97 0.4425 11.56L5.9425 17.06C6.2325 17.35 6.6225 17.5 7.0025 17.5C7.3825 17.5 7.7725 17.35 8.0625 17.06L13.5625 11.56C14.1525 10.97 14.1525 10 13.5625 9.44Z",fill:"currentColor"})))}var Qt=F.forwardRef(qt),Kt=(n.p,function(){return Object(a.jsx)(o,{children:Object(a.jsx)(Qt,{className:"w-4"})})}),Xt=n(1044),$t=["content","anchorOrigin","transformOrigin","open","onClose","closeOnContentClick"],en=function(e){var t=e.content,n=e.anchorOrigin,r=e.transformOrigin,o=e.open,l=e.onClose,i=e.closeOnContentClick,s=Object(Z.a)(e,$t),u=Object(F.useState)(null),d=Object(X.a)(u,2),f=d[0],j=d[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Xt.a,Object(c.a)(Object(c.a)({open:null!=o?o:Boolean(f)},s),{},{anchorEl:f,onClose:l||function(){return j(null)},classes:{paper:"shadow-3-3-12-10 border rounded"},anchorOrigin:n||{vertical:"top",horizontal:"center"},transformOrigin:r||{vertical:"top",horizontal:"center"},children:Object(a.jsx)("div",{onClick:i?l||function(){return j(null)}:void 0,children:t})})),Object(a.jsx)("div",{onClick:function(e){return j(e.currentTarget)},children:s.children})]})},tn=n(922),nn=["value","onValue"],rn=function(e){var t=e.value,n=e.onValue,r=Object(Z.a)(e,nn);return Object(a.jsx)(en,{content:Object(a.jsx)(tn.a,{color:t,onChange:function(e,t){n("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"))}}),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{horizontal:"left",vertical:"top"},children:Object(a.jsx)("div",Object(c.a)({},r))})},cn=Object(F.memo)(rn),an={type:"hashed-password",Component:Ut,validate:Zt},on=[{type:"string",Badge:l,Component:K,validate:Wt},{type:"number",Badge:i,Component:oe,validate:Wt},{type:"map",Badge:s,Component:ae,validate:At},{type:"array",Badge:u,Component:ae,validate:Rt},{type:"boolean",Badge:j,Component:se,validate:Wt},{type:"date",Badge:m,Component:ue,validate:Wt},{type:"media",Badge:v,Component:rt,validate:Wt},{type:"rich-text",Badge:w,Component:st,validate:Wt},{type:"json",Badge:y,Component:ae,validate:Jt},{type:"enum",Badge:k,Component:dt,validate:Wt},{type:"password",Badge:I,Component:ft,validate:Wt},{type:"relation",Badge:E,Component:Nt,validate:Wt},{type:"collection",Badge:R,Component:Lt,validate:Wt},{type:"color",Badge:Kt,Component:function(e){e.field;var t=e.value,n=e.onValue;e.name;return Object(a.jsx)(cn,{value:t,onValue:n,children:Object(a.jsx)("div",{style:{background:t},className:"h-28px w-32 rounded border-2"})})},validate:Wt},{type:"any",Badge:W,Component:ae,validate:Wt}];t.b=on},856:function(e,t,n){"use strict";var r=n(14),c=n(189),a=n(114),o=n.n(a),l=n(2),i=["className"];t.a=function(e){var t=e.className,n=Object(c.a)(e,i);return Object(l.jsx)("div",Object(r.a)(Object(r.a)({},n),{},{className:o()("text-27px font-medium capitalize leading-none",t)}))}},862:function(e,t,n){"use strict";n.r(t),n.d(t,"MediaDocumentFormatters",(function(){return w}));var r=n(1),c=n.n(r),a=n(27),o=n(4),l=n(12),i=n(57),s=n(0),u=n.n(s),d=n(52),f=n(33),j=n(99),b=n(856),p=n(847),m=n(37),x=n(852),h=n.n(x),v=n(69),O=n(36),g=n(2),w={url:function(e){return Object(g.jsx)("div",{onClick:function(t){t.stopPropagation(),window.open(e,"_blank")},className:"bg-center bg-cover h-10 w-10 mx-auto bg-gray-E1E1E1",style:{backgroundImage:"url(".concat(e,")")}})},size:function(e){return Object(v.a)(e)}};t.default=function(){var e=u.a.useRef(null),t=Object(j.b)(),n=Object(s.useState)(0),r=Object(l.a)(n,2),x=r[0],v=r[1],y=Object(m.e)((function(e){return{collectionType:e.collectionTypes.find((function(e){return e.id===O.a.MEDIA}))}})).collectionType;return Object(g.jsxs)("div",{className:"h-full w-full flex flex-col",children:[Object(g.jsxs)("div",{className:"flex justify-between flex-wrap mb-3",children:[Object(g.jsx)(b.a,{className:"mb-4 mr-4",children:"Media"}),Object(g.jsx)("input",{type:"file",multiple:!0,className:"hidden",ref:e,onChange:function(){var e=Object(o.a)(c.a.mark((function e(n){var r,o,l,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.target.files)||!r.length){e.next=25;break}f.a.dispatch({type:"SET_LOADING",payload:"Uploading ".concat(r.length," file").concat(r.length>1?"s":"","...")}),o=0,l=Object(a.a)(r),e.prev=5,l.s();case 7:if((i=l.n()).done){e.next=15;break}return s=i.value,e.next=11,d.a.uploadFile(s);case 11:"error"in(u=e.sent)?t(u.error+". Try reload the app",{variant:"error"}):(o++,f.a.dispatch({type:"SET_LOADING",payload:"".concat(o,"/").concat(r.length," uploaded.")}));case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),l.e(e.t0);case 20:return e.prev=20,l.f(),e.finish(20);case 23:f.a.dispatch({type:"SET_LOADING",payload:!1}),v((function(e){return e+1}));case 25:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},"file-input-".concat(x)),Object(g.jsx)(i.a,{onClick:function(){return e.current.click()},className:"primaryBackground buttonPrimaryTextColor mb-4 h-34px pr-6 pl-5 min-w-unset",children:Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(h.a,{className:"mr-2 text-lg",fontSize:"inherit"}),Object(g.jsx)("span",{children:"Upload"})]})})]}),y?Object(g.jsx)(p.a,{ground:"Ground",valueFormatters:w,collectionType:y},"files-table-".concat(x)):null]})}},863:function(e,t,n){"use strict";var r=n(14),c=n(189),a=n(2),o=["className","variant"];t.a=function(e){var t=e.className,n=void 0===t?"":t,l=(e.variant,Object(c.a)(e,o));return Object(a.jsx)("div",Object(r.a)(Object(r.a)({},l),{},{className:"bg-fireck-4 hover:bg-fireck-4-hover h-5 w-5 rounded flex items-center justify-center transition cursor-pointer "+n}))}},864:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,c,a,o=n(0),l=["title","titleId"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function u(e,t){var n=e.title,u=e.titleId,d=s(e,l);return o.createElement("svg",i({width:40,height:9,viewBox:"0 0 40 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":u},d),n?o.createElement("title",{id:u},n):null,r||(r=o.createElement("path",{d:"M9.36621 4.67223H30.7241M30.7241 4.67223L28.3085 2.25659M30.7241 4.67223L28.3085 7.08786",stroke:"currentColor",strokeWidth:1.37296,strokeLinecap:"round",strokeLinejoin:"round"})),c||(c=o.createElement("circle",{cx:4.69562,cy:4.49835,r:3.31773,stroke:"currentColor",strokeWidth:1.37296})),a||(a=o.createElement("circle",{cx:35.3948,cy:4.49835,r:3.31773,stroke:"currentColor",strokeWidth:1.37296})))}var d=o.forwardRef(u);n.p},865:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r,c,a,o,l,i=n(0),s=["title","titleId"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function f(e,t){var n=e.title,f=e.titleId,j=d(e,s);return i.createElement("svg",u({width:40,height:37,viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":f},j),n?i.createElement("title",{id:f},n):null,r||(r=i.createElement("path",{d:"M10.5875 18.8431L30.4119 7.39751M30.4119 7.39751L26.8752 6.44984M30.4119 7.39751L29.4643 10.9342",stroke:"currentColor",strokeWidth:1.47153,strokeLinecap:"round",strokeLinejoin:"round"})),c||(c=i.createElement("path",{d:"M10.5873 18.8433L30.4117 30.2889M30.4117 30.2889L29.4641 26.7522M30.4117 30.2889L26.875 31.2366",stroke:"currentColor",strokeWidth:1.47153,strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=i.createElement("circle",{cx:5.00165,cy:18.7858,r:3.55593,stroke:"currentColor",strokeWidth:1.47153})),o||(o=i.createElement("circle",{cx:35.2653,cy:32.5311,r:3.55593,stroke:"currentColor",strokeWidth:1.47153})),l||(l=i.createElement("circle",{cx:35.2653,cy:5.15558,r:3.55593,stroke:"currentColor",strokeWidth:1.47153})))}var j=i.forwardRef(f);n.p},869:function(e,t,n){"use strict";var r=n(1),c=n.n(r),a=n(4),o=n(5),l=n(14),i=n(19),s=n(12),u=n(0),d=n.n(u),f=n(57),j=n(192),b=n(846),p=n(855),m=n(37),x=n(114),h=n.n(x),v={password:function(){return""},string:function(){return""},"rich-text":function(){return""},json:function(){return{}},map:function(){return{}},array:function(){return[]},media:function(e){return"media"===e.type&&e.mediaSingle?"":[]},date:function(){return null},enum:function(){return null},number:function(){return null},boolean:function(){return!1},relation:function(e){return"relation"===e.type&&e.relationOneToOne?"":[]},collection:function(){return[]},document:function(e){return"document"===e.type&&e.documentFields.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},t.id,v[t.type]))}),{})},any:function(){return""},"hashed-password":function(){return""},color:function(){return""}},O=v,g=n(916),w=n.n(g),y=n(2);t.a=function(e){var t=e.onSubmit,n=e.fields,r=e.editableDocument,x=e.level,v=e.docId,g=e.ground,N=e.singleName,C=Object(u.useState)(0),k=Object(s.a)(C,2),S=k[0],B=k[1],I=[].concat(Object(i.a)(p.b),[p.a]),T=Object(m.d)(),D=n.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},t.id,r&&r[t.id]?r[t.id]:O[t.type](t)))}),{}),E=Object(j.a)({validateOnChange:!1,initialValues:D,enableReinitialize:!0,onSubmit:function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({type:"SET_DOCUMENT_CHANGED",payload:!1});case 2:return e.next=4,t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){var t={};return n.forEach((function(n){var r=I.find((function(e){return e.type===n.type}));if(!r)return t;var c=r.validate(e[n.id]);c&&(t[n.id]=c)})),t}}),F=E.values,P=E.errors,V=E.setFieldValue,z=E.handleSubmit,M=E.submitCount,H=E.isSubmitting,L=!r||JSON.stringify(D)!==JSON.stringify(F);d.a.useEffect((function(){T({type:"SET_DOCUMENT_CHANGED",payload:L})}),[L,T]);var R=Object(u.useCallback)(w()((function(e){return function(t){V(e,t)}})),[V]),A=p.b.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},t.type,t.Component))}),{});return Object(y.jsxs)("div",{className:"h-full flex flex-col w-full",children:[Object(y.jsxs)("div",{className:h()({"shadow-md":S},"flex justify-between transition-all flex-wrap mb-2 -mx-7 -mt-7 px-7 pt-7"),children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:h()("font-medium text-27px leading-none capitalize mb-1 mr-4","".concat(g.toLowerCase(),"TextColor")),children:v?"Edit Document":N||"Add Document"}),v?Object(y.jsxs)("div",{className:h()("".concat(g.toLowerCase(),"TextColor"),"mb-3 text-xs"),children:["Doc id: ",v]}):null]}),Object(y.jsx)(f.a,{type:"submit",onClick:function(){return z()},disabled:H||!L,className:"h-34px ".concat(L?"primaryBackground buttonPrimaryTextColor":"buttonDisabledBackground buttonDisabledTextColor cursor-default","  mb-2"),children:H?"Loading...":null!=r||N?"Save":"Publish"})]}),Object.keys(F).length?Object(y.jsx)("div",{className:"flex-grow h-0 overflow-y-auto overflow-x-hidden pt-4 -mx-7 -mb-7 px-7",onScroll:function(e){e.persist(),B(e.currentTarget.scrollTop)},children:Object(y.jsx)("div",{className:"flex flex-wrap -mx-3",children:n.filter((function(e){return!e.isDefault})).map((function(e,t){var n,r=A[e.type];return Object(y.jsxs)("div",{className:"".concat(["rich-text","collection"].includes(e.type)?"w-full":"sm:w-1/2 w-full"," px-3 mb-12"),children:[Object(y.jsxs)(b.a,{ground:g,className:"mb-2 font-medium",error:M>0?null===(n=P[e.id])||void 0===n?void 0:n.toString():null,children:[e.id," "]}),r?Object(y.jsx)(r,{onValue:R(e.id),ground:g,value:F[e.id],name:e.id,level:x,field:e}):null]},"field-".concat(t))}))})}):null]})}},870:function(e,t,n){"use strict";var r=n(14),c=n(0),a=n(34),o=function(){var e=Object(c.useRef)({}).current;return Object(c.useEffect)((function(){var t=document.createElement("div");return t.style.position="absolute",t.style.pointerEvents="none",t.style.top="0",t.style.width="100%",t.style.height="100%",e.elt=t,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e]),function(t){return function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),o=1;o<r;o++)c[o-1]=arguments[o];var l=t.apply(void 0,[n].concat(c));return"fixed"===n.draggableProps.style.position?Object(a.createPortal)(l,e.elt):l}}},l=n(885),i=n(2);t.a=function(e){var t=e.onDragEnd,n=e.Item,a=e.items,s=e.containerClassName,u=o(),d=Object(c.useRef)(Math.random()),f=function(e,t){return"".concat(e,"-").concat(t,"-").concat(d.current)};return Object(i.jsx)(l.a,{onDragEnd:t,children:Object(i.jsx)(l.c,{droppableId:"droppable-sub",children:function(e){return Object(i.jsxs)("div",Object(r.a)(Object(r.a)({className:s},e.droppableProps),{},{ref:e.innerRef,children:[a.map((function(e,t){return Object(i.jsx)(l.b,{draggableId:f("draggable",t),index:t,children:u((function(c){return Object(i.jsx)("div",Object(r.a)(Object(r.a)(Object(r.a)({ref:c.innerRef},c.draggableProps),c.dragHandleProps),{},{children:Object(i.jsx)(n,Object(r.a)(Object(r.a)({},e),{},{index:t}))}))}))},f("draggable",t))})),e.placeholder]}))}})})}},921:function(e,t,n){"use strict";var r=n(1),c=n.n(r),a=n(4),o=(n(0),n(52)),l=n(37),i=n(35),s=n(869),u=n(251),d=n(250),f=n(221),j=n(2);t.a=function(e){var t=e.collectionId,n=e.docId,r=Object(l.e)((function(e){return e.collectionTypes.find((function(e){return e.id===t}))})),b=Object(d.useQuery)([t,"getDocument",n,r],Object(a.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:if(n||r.single){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,o.a.getDocument(t,n);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).data,p=Object(i.k)();return!r||n&&!b?Object(j.jsx)("div",{className:"h-full w-full flex",children:Object(j.jsx)(f.a,{className:"m-auto"})}):Object(j.jsx)(s.a,{level:0,ground:"Ground",docId:n,editableDocument:b||void 0,fields:r.fields,singleName:r.single?r.name:void 0,onSubmit:function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}if(null==b){e.next=6;break}return e.next=4,u.a.updateDocument(r.id,b,t);case 4:e.next=8;break;case 6:return e.next=8,u.a.addDocument(r.id,t);case 8:r.single||p.goBack();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}}}]);
//# sourceMappingURL=3.719b6972.chunk.js.map